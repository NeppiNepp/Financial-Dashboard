(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Sm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function mS(){if(qv)return $l;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=n,$l.jsxs=n,$l}var Hv;function pS(){return Hv||(Hv=1,Sm.exports=mS()),Sm.exports}var T=pS(),xm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function gS(){if(Fv)return Ie;Fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function U(N,ee,le){this.props=N,this.context=ee,this.refs=$,this.updater=le||V}U.prototype.isReactComponent={},U.prototype.setState=function(N,ee){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ee,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=U.prototype;function se(N,ee,le){this.props=N,this.context=ee,this.refs=$,this.updater=le||V}var ie=se.prototype=new G;ie.constructor=se,B(ie,U.prototype),ie.isPureReactComponent=!0;var ge=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function O(N,ee,le,ne,he,Ce){return le=Ce.ref,{$$typeof:r,type:N,key:ee,ref:le!==void 0?le:null,props:Ce}}function S(N,ee){return O(N.type,ee,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function k(N){var ee={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return ee[le]})}var M=/\/+/g;function P(N,ee){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):ee.toString(36)}function I(){}function _t(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(ee){N.status==="pending"&&(N.status="fulfilled",N.value=ee)},function(ee){N.status==="pending"&&(N.status="rejected",N.reason=ee)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $e(N,ee,le,ne,he){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Te=!1;if(N===null)Te=!0;else switch(Ce){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(N.$$typeof){case r:case e:Te=!0;break;case b:return Te=N._init,$e(Te(N._payload),ee,le,ne,he)}}if(Te)return he=he(N),Te=ne===""?"."+P(N,0):ne,ge(he)?(le="",Te!=null&&(le=Te.replace(M,"$&/")+"/"),$e(he,ee,le,"",function(an){return an})):he!=null&&(R(he)&&(he=S(he,le+(he.key==null||N&&N.key===he.key?"":(""+he.key).replace(M,"$&/")+"/")+Te)),ee.push(he)),1;Te=0;var ke=ne===""?".":ne+":";if(ge(N))for(var Xe=0;Xe<N.length;Xe++)ne=N[Xe],Ce=ke+P(ne,Xe),Te+=$e(ne,ee,le,Ce,he);else if(Xe=x(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(ne=N.next()).done;)ne=ne.value,Ce=ke+P(ne,Xe++),Te+=$e(ne,ee,le,Ce,he);else if(Ce==="object"){if(typeof N.then=="function")return $e(_t(N),ee,le,ne,he);throw ee=String(N),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(N,ee,le){if(N==null)return N;var ne=[],he=0;return $e(N,ne,"","",function(Ce){return ee.call(le,Ce,he++)}),ne}function ae(N){if(N._status===-1){var ee=N._result;ee=ee(),ee.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=ee)}if(N._status===1)return N._result.default;throw N._result}var re=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ze(){}return Ie.Children={map:K,forEach:function(N,ee,le){K(N,function(){ee.apply(this,arguments)},le)},count:function(N){var ee=0;return K(N,function(){ee++}),ee},toArray:function(N){return K(N,function(ee){return ee})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=se,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ue.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cloneElement=function(N,ee,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ne=B({},N.props),he=N.key,Ce=void 0;if(ee!=null)for(Te in ee.ref!==void 0&&(Ce=void 0),ee.key!==void 0&&(he=""+ee.key),ee)!_e.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(ne[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)ne.children=le;else if(1<Te){for(var ke=Array(Te),Xe=0;Xe<Te;Xe++)ke[Xe]=arguments[Xe+2];ne.children=ke}return O(N.type,he,void 0,void 0,Ce,ne)},Ie.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ie.createElement=function(N,ee,le){var ne,he={},Ce=null;if(ee!=null)for(ne in ee.key!==void 0&&(Ce=""+ee.key),ee)_e.call(ee,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=ee[ne]);var Te=arguments.length-2;if(Te===1)he.children=le;else if(1<Te){for(var ke=Array(Te),Xe=0;Xe<Te;Xe++)ke[Xe]=arguments[Xe+2];he.children=ke}if(N&&N.defaultProps)for(ne in Te=N.defaultProps,Te)he[ne]===void 0&&(he[ne]=Te[ne]);return O(N,Ce,void 0,void 0,null,he)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:m,render:N}},Ie.isValidElement=R,Ie.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:ae}},Ie.memo=function(N,ee){return{$$typeof:g,type:N,compare:ee===void 0?null:ee}},Ie.startTransition=function(N){var ee=ue.T,le={};ue.T=le;try{var ne=N(),he=ue.S;he!==null&&he(le,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ze,re)}catch(Ce){re(Ce)}finally{ue.T=ee}},Ie.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ie.use=function(N){return ue.H.use(N)},Ie.useActionState=function(N,ee,le){return ue.H.useActionState(N,ee,le)},Ie.useCallback=function(N,ee){return ue.H.useCallback(N,ee)},Ie.useContext=function(N){return ue.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,ee){return ue.H.useDeferredValue(N,ee)},Ie.useEffect=function(N,ee,le){var ne=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(N,ee)},Ie.useId=function(){return ue.H.useId()},Ie.useImperativeHandle=function(N,ee,le){return ue.H.useImperativeHandle(N,ee,le)},Ie.useInsertionEffect=function(N,ee){return ue.H.useInsertionEffect(N,ee)},Ie.useLayoutEffect=function(N,ee){return ue.H.useLayoutEffect(N,ee)},Ie.useMemo=function(N,ee){return ue.H.useMemo(N,ee)},Ie.useOptimistic=function(N,ee){return ue.H.useOptimistic(N,ee)},Ie.useReducer=function(N,ee,le){return ue.H.useReducer(N,ee,le)},Ie.useRef=function(N){return ue.H.useRef(N)},Ie.useState=function(N){return ue.H.useState(N)},Ie.useSyncExternalStore=function(N,ee,le){return ue.H.useSyncExternalStore(N,ee,le)},Ie.useTransition=function(){return ue.H.useTransition()},Ie.version="19.1.0",Ie}var Gv;function kp(){return Gv||(Gv=1,xm.exports=gS()),xm.exports}var Y=kp(),Rm={exports:{}},Xl={},Cm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function yS(){return Qv||(Qv=1,function(r){function e(K,ae){var re=K.length;K.push(ae);e:for(;0<re;){var ze=re-1>>>1,N=K[ze];if(0<o(N,ae))K[ze]=ae,K[re]=N,re=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],re=K.pop();if(re!==ae){K[0]=re;e:for(var ze=0,N=K.length,ee=N>>>1;ze<ee;){var le=2*(ze+1)-1,ne=K[le],he=le+1,Ce=K[he];if(0>o(ne,re))he<N&&0>o(Ce,ne)?(K[ze]=Ce,K[he]=re,ze=he):(K[ze]=ne,K[le]=re,ze=le);else if(he<N&&0>o(Ce,re))K[ze]=Ce,K[he]=re,ze=he;else break e}}return ae}function o(K,ae){var re=K.sortIndex-ae.sortIndex;return re!==0?re:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],b=1,A=null,x=3,V=!1,B=!1,$=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ge(K){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=K)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ue(K){if($=!1,ge(K),!B)if(n(p)!==null)B=!0,_e||(_e=!0,P());else{var ae=n(g);ae!==null&&$e(ue,ae.startTime-K)}}var _e=!1,O=-1,S=5,R=-1;function k(){return U?!0:!(r.unstable_now()-R<S)}function M(){if(U=!1,_e){var K=r.unstable_now();R=K;var ae=!0;try{e:{B=!1,$&&($=!1,se(O),O=-1),V=!0;var re=x;try{t:{for(ge(K),A=n(p);A!==null&&!(A.expirationTime>K&&k());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,x=A.priorityLevel;var N=ze(A.expirationTime<=K);if(K=r.unstable_now(),typeof N=="function"){A.callback=N,ge(K),ae=!0;break t}A===n(p)&&s(p),ge(K)}else s(p);A=n(p)}if(A!==null)ae=!0;else{var ee=n(g);ee!==null&&$e(ue,ee.startTime-K),ae=!1}}break e}finally{A=null,x=re,V=!1}ae=void 0}}finally{ae?P():_e=!1}}}var P;if(typeof ie=="function")P=function(){ie(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,_t=I.port2;I.port1.onmessage=M,P=function(){_t.postMessage(null)}}else P=function(){G(M,0)};function $e(K,ae){O=G(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var re=x;x=ae;try{return K()}finally{x=re}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=x;x=K;try{return ae()}finally{x=re}},r.unstable_scheduleCallback=function(K,ae,re){var ze=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ze+re:ze):re=ze,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=re+N,K={id:b++,callback:ae,priorityLevel:K,startTime:re,expirationTime:N,sortIndex:-1},re>ze?(K.sortIndex=re,e(g,K),n(p)===null&&K===n(g)&&($?(se(O),O=-1):$=!0,$e(ue,re-ze))):(K.sortIndex=N,e(p,K),B||V||(B=!0,_e||(_e=!0,P()))),K},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(K){var ae=x;return function(){var re=x;x=ae;try{return K.apply(this,arguments)}finally{x=re}}}}(Im)),Im}var Yv;function _S(){return Yv||(Yv=1,Cm.exports=yS()),Cm.exports}var Nm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function vS(){if(Kv)return en;Kv=1;var r=kp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},en.flushSync=function(p){var g=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=b,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,A=m(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:V}):b==="script"&&s.d.X(p,{crossOrigin:A,integrity:x,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,A=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.1.0",en}var $v;function bS(){if($v)return Nm.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=vS(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function ES(){if(Xv)return Xl;Xv=1;var r=_S(),e=kp(),n=bS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function _t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case U:return"Profiler";case $:return"StrictMode";case ue:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:_t(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return _t(t(i))}catch{}}return null}var $e=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ze=[],N=-1;function ee(t){return{current:t}}function le(t){0>N||(t.current=ze[N],ze[N]=null,N--)}function ne(t,i){N++,ze[N]=t.current,t.current=i}var he=ee(null),Ce=ee(null),Te=ee(null),ke=ee(null);function Xe(t,i){switch(ne(Te,i),ne(Ce,t),ne(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?gv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=gv(i),t=yv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(he),ne(he,t)}function an(){le(he),le(Ce),le(Te)}function yn(t){t.memoizedState!==null&&ne(ke,t);var i=he.current,a=yv(i,t.type);i!==a&&(ne(Ce,t),ne(he,a))}function _n(t){Ce.current===t&&(le(he),le(Ce)),ke.current===t&&(le(ke),Fl._currentValue=re)}var Dn=Object.prototype.hasOwnProperty,hs=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Bo=r.unstable_shouldYield,Pu=r.unstable_requestPaint,On=r.unstable_now,Sf=r.unstable_getCurrentPriorityLevel,qo=r.unstable_ImmediatePriority,ua=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,xf=r.unstable_LowPriority,ca=r.unstable_IdlePriority,Ho=r.log,Lu=r.unstable_setDisableYieldValue,mt=null,We=null;function vn(t){if(typeof Ho=="function"&&Lu(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(mt,t)}catch{}}var Zt=Math.clz32?Math.clz32:ms,Uu=Math.log,Rf=Math.LN2;function ms(t){return t>>>=0,t===0?32:31-(Uu(t)/Rf|0)|0}var ps=256,gs=4194304;function Yn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Yn(l):(v&=E,v!==0?h=Yn(v):a||(a=E&~t,a!==0&&(h=Yn(a))))):(E=l&~d,E!==0?h=Yn(E):v!==0?h=Yn(v):a||(a=l&~t,a!==0&&(h=Yn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ys(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Fo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var t=ps;return ps<<=1,(ps&4194048)===0&&(ps=256),t}function Qo(){var t=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),t}function Nr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Dr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Zt(a),Z=1<<X;E[X]=0,C[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&nr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function nr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pi(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function ju(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ut=Math.random().toString(36).slice(2),It="__reactFiber$"+ut,wt="__reactProps$"+ut,kn="__reactContainer$"+ut,$o="__reactEvents$"+ut,Cf="__reactListeners$"+ut,gi="__reactHandles$"+ut,zu="__reactResources$"+ut,_s="__reactMarker$"+ut;function yi(t){delete t[It],delete t[wt],delete t[$o],delete t[Cf],delete t[gi]}function Or(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[kn]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ev(t);t!==null;){if(a=t[It])return a;t=Ev(t)}return i}t=a,a=t.parentNode}return null}function rr(t){if(t=t[It]||t[kn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ir(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function on(t){var i=t[zu];return i||(i=t[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(t){t[_s]=!0}var Xo=new Set,da={};function Kn(t,i){kr(t,i),kr(t+"Capture",i)}function kr(t,i){for(da[t]=i,t=0;t<i.length;t++)Xo.add(i[t])}var Bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},vs={};function Hu(t){return Dn.call(vs,t)?!0:Dn.call(qu,t)?!1:Bu.test(t)?vs[t]=!0:(qu[t]=!0,!1)}function _i(t,i,a){if(Hu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function sr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ft(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var bs,Fu;function Mr(t){if(bs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);bs=i&&i[1]||"",Fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+t+Fu}var ma=!1;function pa(t,i){if(!t||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){H=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var C=v.split(`
`),q=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mr(a):""}function Wo(t){switch(t.tag){case 26:case 27:case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return Mr("Activity");default:return""}}function ga(t){try{var i="";do i+=Wo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function If(t){var i=Zo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ya(t){t._valueTracker||(t._valueTracker=If(t))}function Jo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Zo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nf=/[\n"\\]/g;function At(t){return t.replace(Nf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bn(t,i,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?vi(t,v,ln(i)):a!=null?vi(t,v,ln(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ln(E):t.removeAttribute("name")}function Ts(t,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function vi(t,i,a){i==="number"&&Es(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function et(t,i,a){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ln(a):""}function ws(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if($e(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||As.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function el(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Gu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Gu(t,d,i[d])}function tl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Of.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pr=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Ur=null;function nl(t){var i=rr(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(bn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));bn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Jo(l)}break e;case"textarea":et(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Vr(t,!!a.multiple,i,!1)}}}var ar=!1;function Qu(t,i,a){if(ar)return t(i,a);ar=!0;try{var l=t(i);return l}finally{if(ar=!1,(Lr!==null||Ur!==null)&&(jc(),Lr&&(i=Lr,t=Ur,Ur=Lr=null,nl(i),t)))for(i=0;i<t.length;i++)nl(t[i])}}function Ss(t,i){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if($n)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Pn=!1}var or=null,bi=null,jr=null;function rl(){if(jr)return jr;var t,i=bi,a=i.length,l,h="value"in or?or.value:or.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return jr=h.slice(t,1<l?1-l:void 0)}function lr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function il(){return!1}function Ut(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:il,this.isPropagationStopped=il,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Ut(Ye),Rs=b({},Ye,{view:0,detail:0}),Yu=Ut(Rs),ba,Ea,cr,Cs=b({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(ba=t.screenX-cr.screenX,Ea=t.screenY-cr.screenY):Ea=ba=0,cr=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Ln=Ut(Cs),Ku=b({},Cs,{dataTransfer:0}),kf=Ut(Ku),Is=b({},Rs,{relatedTarget:0}),Ta=Ut(Is),sl=b({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=Ut(sl),$u=b({},Ye,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=Ut($u),Mf=b({},Ye,{data:0}),al=Ut(Mf),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wu[t])?!!i[t]:!1}function Ds(){return ol}var Zu=b({},Rs,{key:function(t){if(t.key){var i=Ns[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sa=Ut(Zu),Ju=b({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Ut(Ju),zr=b({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),ec=Ut(zr),tc=b({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=Ut(tc),rc=b({},Cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Ut(rc),un=b({},Ye,{newState:0,oldState:0}),ic=Ut(un),sc=[9,13,27,32],hr=$n&&"CompositionEvent"in window,c=null;$n&&"documentMode"in document&&(c=document.documentMode);var y=$n&&"TextEvent"in window&&!c,_=$n&&(!hr||c&&8<c&&11>=c),w=" ",j=!1;function Q(t,i){switch(t){case"keyup":return sc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Nt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(j=!0,w);case"textInput":return t=i.data,t===w&&j?null:t;default:return null}}function qe(t,i){if(Be)return t==="compositionend"||!hr&&Q(t,i)?(t=rl(),jr=bi=or=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jt[t.type]:i==="textarea"}function Br(t,i,a,l){Lr?Ur?Ur.push(l):Ur=[l]:Lr=l,i=Gc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Gt=null,fr=null;function ul(t){hv(t,0)}function ac(t){var i=ir(t);if(Jo(i))return t}function Og(t,i){if(t==="change")return i}var kg=!1;if($n){var Vf;if($n){var Pf="oninput"in document;if(!Pf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Pf=typeof Mg.oninput=="function"}Vf=Pf}else Vf=!1;kg=Vf&&(!document.documentMode||9<document.documentMode)}function Vg(){Gt&&(Gt.detachEvent("onpropertychange",Pg),fr=Gt=null)}function Pg(t){if(t.propertyName==="value"&&ac(fr)){var i=[];Br(i,fr,t,Vn(t)),Qu(ul,i)}}function Fw(t,i,a){t==="focusin"?(Vg(),Gt=i,fr=a,Gt.attachEvent("onpropertychange",Pg)):t==="focusout"&&Vg()}function Gw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(fr)}function Qw(t,i){if(t==="click")return ac(i)}function Yw(t,i){if(t==="input"||t==="change")return ac(i)}function Kw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:Kw;function cl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Dn.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,i){var a=Lg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Es(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Es(t.document)}return i}function Lf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var $w=$n&&"documentMode"in document&&11>=document.documentMode,Ra=null,Uf=null,hl=null,jf=!1;function Bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||Ra==null||Ra!==Es(l)||(l=Ra,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Gc(Uf,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function Os(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},zf={},qg={};$n&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function ks(t){if(zf[t])return zf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in qg)return zf[t]=i[a];return t}var Hg=ks("animationend"),Fg=ks("animationiteration"),Gg=ks("animationstart"),Xw=ks("transitionrun"),Ww=ks("transitionstart"),Zw=ks("transitioncancel"),Qg=ks("transitionend"),Yg=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function Xn(t,i){Yg.set(t,i),Kn(i,[t])}var Kg=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=Kg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ga(i)},Kg.set(t,i),i)}return{value:t,source:i,stack:ga(i)}}var jn=[],Ia=0,qf=0;function oc(){for(var t=Ia,i=qf=Ia=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&$g(a,h,d)}}function lc(t,i,a,l){jn[Ia++]=t,jn[Ia++]=i,jn[Ia++]=a,jn[Ia++]=l,qf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hf(t,i,a,l){return lc(t,i,a,l),uc(t)}function Na(t,i){return lc(t,null,null,i),uc(t)}function $g(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Zt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function uc(t){if(50<Pl)throw Pl=0,$d=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function Jw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new Jw(t,i,a,l)}function Ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Ff(t)&&(v=1);else if(typeof t=="string")v=tS(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Tn(31,a,i,h),t.elementType=R,t.lanes=d,t;case B:return Ms(a.children,h,d,i);case $:v=8,h|=24;break;case U:return t=Tn(12,a,i,h|2),t.elementType=U,t.lanes=d,t;case ue:return t=Tn(13,a,i,h),t.elementType=ue,t.lanes=d,t;case _e:return t=Tn(19,a,i,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case ie:v=10;break e;case se:v=9;break e;case ge:v=11;break e;case O:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function Gf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Qf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Oa=[],ka=0,hc=null,fc=0,zn=[],Bn=0,Vs=null,Hr=1,Fr="";function Ps(t,i){Oa[ka++]=fc,Oa[ka++]=hc,hc=t,fc=i}function Wg(t,i,a){zn[Bn++]=Hr,zn[Bn++]=Fr,zn[Bn++]=Vs,Vs=t;var l=Hr;t=Fr;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Hr=1<<32-Zt(i)+h|a<<h|l,Fr=d+t}else Hr=1<<d|a<<h|l,Fr=t}function Yf(t){t.return!==null&&(Ps(t,1),Wg(t,1,0))}function Kf(t){for(;t===hc;)hc=Oa[--ka],Oa[ka]=null,fc=Oa[--ka],Oa[ka]=null;for(;t===Vs;)Vs=zn[--Bn],zn[Bn]=null,Fr=zn[--Bn],zn[Bn]=null,Hr=zn[--Bn],zn[Bn]=null}var cn=null,pt=null,Qe=!1,Ls=null,dr=!1,$f=Error(s(519));function Us(t){var i=Error(s(418,""));throw ml(Un(i,t)),$f}function Zg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[wt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Ve(Ul[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ts(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),ws(i,l.value,l.defaultValue,l.children),ya(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||pv(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Qc),i=!0):i=!1,i||Us(t)}function Jg(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:cn=cn.return}}function fl(t){if(t!==cn)return!1;if(!Qe)return Jg(t),Qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hm(t.type,t.memoizedProps)),a=!a),a&&pt&&Us(t),Jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){pt=Zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}pt=null}}else i===27?(i=pt,Pi(t.type)?(t=pm,pm=null,pt=t):pt=i):pt=cn?Zn(t.stateNode.nextSibling):null;return!0}function dl(){pt=cn=null,Qe=!1}function ey(){var t=Ls;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ls=null),t}function ml(t){Ls===null?Ls=[t]:Ls.push(t)}var Xf=ee(null),js=null,Gr=null;function Ei(t,i,a){ne(Xf,i._currentValue),i._currentValue=a}function Qr(t){t._currentValue=Xf.current,le(Xf)}function Wf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Zf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Wf(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Wf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function pl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}h=h.return}t!==null&&Zf(i,t,a,l),i.flags|=262144}function dc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return ty(js,t)}function mc(t,i){return js===null&&zs(t),ty(t,i)}function ty(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(s(308));Gr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gr=Gr.next=i;return a}var eA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},tA=r.unstable_scheduleCallback,nA=r.unstable_NormalPriority,Ot={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new eA,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&tA(nA,function(){t.controller.abort()})}var yl=null,ed=0,Ma=0,Va=null;function rA(t,i){if(yl===null){var a=yl=[];ed=0,Ma=nm(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ed++,i.then(ny,ny),i}function ny(){if(--ed===0&&yl!==null){Va!==null&&(Va.status="fulfilled");var t=yl;yl=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function iA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ry=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&rA(t,i),ry!==null&&ry(t,i)};var Bs=ee(null);function td(){var t=Bs.current;return t!==null?t:st.pooledCache}function pc(t,i){i===null?ne(Bs,Bs.current):ne(Bs,i.pool)}function iy(){var t=td();return t===null?null:{parent:Ot._currentValue,pool:t}}var _l=Error(s(460)),sy=Error(s(474)),gc=Error(s(542)),nd={then:function(){}};function ay(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yc(){}function oy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(yc,yc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t;default:if(typeof i.status=="string")i.then(yc,yc);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t}throw vl=i,_l}}var vl=null;function ly(){if(vl===null)throw Error(s(459));var t=vl;return vl=null,t}function uy(t){if(t===_l||t===gc)throw Error(s(483))}var Ti=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=uc(t),$g(t,null,a),i}return lc(t,l,i,a),uc(t)}function bl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}function sd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ad=!1;function El(){if(ad){var t=Va;if(t!==null)throw t}}function Tl(t,i,a,l){ad=!1;var h=t.updateQueue;Ti=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,q=C.next;C.next=null,v===null?d=q:v.next=q,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==v&&(E===null?X.firstBaseUpdate=q:E.next=q,X.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,X=q=C=null,E=d;do{var H=E.lane&-536870913,F=H!==E.lane;if(F?(He&H)===H:(l&H)===H){H!==0&&H===Ma&&(ad=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ae=t,be=E;H=i;var rt=a;switch(be.tag){case 1:if(Ae=be.payload,typeof Ae=="function"){Z=Ae.call(rt,Z,H);break e}Z=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=be.payload,H=typeof Ae=="function"?Ae.call(rt,Z,H):Ae,H==null)break e;Z=b({},Z,H);break e;case 2:Ti=!0}}H=E.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(q=X=F,C=Z):X=X.next=F,v|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Oi|=v,t.lanes=v,t.memoizedState=Z}}function cy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function hy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],i)}var Pa=ee(null),_c=ee(0);function fy(t,i){t=Jr,ne(_c,t),ne(Pa,i),Jr=t|i.baseLanes}function od(){ne(_c,Jr),ne(Pa,Pa.current)}function ld(){Jr=_c.current,le(Pa),le(_c)}var Si=0,Ne=null,tt=null,St=null,vc=!1,La=!1,qs=!1,bc=0,wl=0,Ua=null,sA=0;function bt(){throw Error(s(321))}function ud(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function cd(t,i,a,l,h,d){return Si=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?$y:Xy,qs=!1,d=a(l,h),qs=!1,La&&(d=my(i,a,l,h)),dy(t),d}function dy(t){K.H=xc;var i=tt!==null&&tt.next!==null;if(Si=0,St=tt=Ne=null,vc=!1,wl=0,Ua=null,i)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&dc(t)&&(zt=!0))}function my(t,i,a,l){Ne=t;var h=0;do{if(La&&(Ua=null),wl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,St=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=fA,d=i(a,l)}while(La);return d}function aA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Al(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ne.flags|=1024),i}function hd(){var t=bc!==0;return bc=0,t}function fd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function dd(t){if(vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vc=!1}Si=0,St=tt=Ne=null,La=!1,wl=bc=0,Ua=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function xt(){if(tt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=St===null?Ne.memoizedState:St.next;if(i!==null)St=i,tt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var i=wl;return wl+=1,Ua===null&&(Ua=[]),t=oy(Ua,t,i),i=Ne,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?$y:Xy),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===ie)return Jt(t)}throw Error(s(438,String(t)))}function pd(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=md(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Yr(t,i){return typeof i=="function"?i(t):i}function Tc(t){var i=xt();return gd(i,tt,t)}function gd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,C=null,q=i,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(He&Z)===Z:(Si&Z)===Z){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Ma&&(X=!0);else if((Si&H)===H){q=q.next,H===Ma&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=Z,v=d):C=C.next=Z,Ne.lanes|=H,Oi|=H;Z=q.action,qs&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else H={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=H,v=d):C=C.next=H,Ne.lanes|=Z,Oi|=Z;q=q.next}while(q!==null&&q!==i);if(C===null?v=d:C.next=E,!En(d,t.memoizedState)&&(zt=!0,X&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yd(t){var i=xt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function py(t,i,a){var l=Ne,h=xt(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((tt||h).memoizedState,a);v&&(h.memoizedState=a,zt=!0),h=h.queue;var E=_y.bind(null,l,h,t);if(Sl(2048,8,E,[t]),h.getSnapshot!==i||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,ja(9,wc(),yy.bind(null,l,h,a,i),null),st===null)throw Error(s(349));d||(Si&124)!==0||gy(l,i,a)}return a}function gy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=md(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function yy(t,i,a,l){i.value=a,i.getSnapshot=l,vy(i)&&by(t)}function _y(t,i,a){return a(function(){vy(i)&&by(t)})}function vy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function by(t){var i=Na(t,2);i!==null&&Rn(i,t,2)}function _d(t){var i=hn();if(typeof t=="function"){var a=t;if(t=a(),qs){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},i}function Ey(t,i,a,l){return t.baseState=a,gd(t,tt,typeof l=="function"?l:Yr)}function oA(t,i,a,l,h){if(Sc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var E=a(h,l),C=K.S;C!==null&&C(v,E),wy(t,i,E)}catch(q){vd(t,i,q)}finally{K.T=d}}else try{d=a(h,l),wy(t,i,d)}catch(q){vd(t,i,q)}}function wy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(t,i,l)},function(l){return vd(t,i,l)}):Ay(t,i,a)}function Ay(t,i,a){i.status="fulfilled",i.value=a,Sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ty(t,a)))}function vd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sy(i),i=i.next;while(i!==l)}t.action=null}function Sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xy(t,i){return i}function Ry(t,i){if(Qe){var a=st.formState;if(a!==null){e:{var l=Ne;if(Qe){if(pt){t:{for(var h=pt,d=dr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pt=Zn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:i},a.queue=l,a=Qy.bind(null,Ne,l),l.dispatch=a,l=_d(!1),d=Ad.bind(null,Ne,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=oA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Cy(t){var i=xt();return Iy(i,tt,t)}function Iy(t,i,a){if(i=gd(t,i,xy)[0],t=Tc(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(v){throw v===_l?gc:v}else l=i;i=xt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,ja(9,wc(),lA.bind(null,h,a),null)),[l,d,t]}function lA(t,i){t.action=i}function Ny(t){var i=xt(),a=tt;if(a!==null)return Iy(i,a,t);xt(),i=i.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=md(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function wc(){return{destroy:void 0,resource:void 0}}function Dy(){return xt().memoizedState}function Ac(t,i,a,l){var h=hn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=ja(1|i,wc(),a,l)}function Sl(t,i,a,l){var h=xt();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&ud(l,tt.memoizedState.deps)?h.memoizedState=ja(i,d,a,l):(Ne.flags|=t,h.memoizedState=ja(1|i,d,a,l))}function Oy(t,i){Ac(8390656,8,t,i)}function ky(t,i){Sl(2048,8,t,i)}function My(t,i){return Sl(4,2,t,i)}function Vy(t,i){return Sl(4,4,t,i)}function Py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ly(t,i,a){a=a!=null?a.concat([t]):null,Sl(4,4,Py.bind(null,i,t),a)}function bd(){}function Uy(t,i){var a=xt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ud(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function jy(t,i){var a=xt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ud(i,l[1]))return l[0];if(l=t(),qs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function Ed(t,i,a){return a===void 0||(Si&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=q_(),Ne.lanes|=t,Oi|=t,a)}function zy(t,i,a,l){return En(a,i)?a:Pa.current!==null?(t=Ed(t,a,l),En(t,i)||(zt=!0),t):(Si&42)===0?(zt=!0,t.memoizedState=a):(t=q_(),Ne.lanes|=t,Oi|=t,i)}function By(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=K.T,E={};K.T=E,Ad(t,!1,i,a);try{var C=h(),q=K.S;if(q!==null&&q(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=iA(C,l);xl(t,i,X,xn(t))}else xl(t,i,l,xn(t))}catch(Z){xl(t,i,{then:function(){},status:"rejected",reason:Z},xn())}finally{ae.p=d,K.T=v}}function uA(){}function Td(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=qy(t).queue;By(t,h,i,re,a===null?uA:function(){return Hy(t),a(l)})}function qy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:re},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Hy(t){var i=qy(t).next.queue;xl(t,i,{},xn())}function wd(){return Jt(Fl)}function Fy(){return xt().memoizedState}function Gy(){return xt().memoizedState}function cA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=wi(a);var l=Ai(i,t,a);l!==null&&(Rn(l,i,a),bl(l,i,a)),i={cache:Jf()},t.payload=i;return}i=i.return}}function hA(t,i,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?Yy(i,a):(a=Hf(t,i,a,l),a!==null&&(Rn(a,t,l),Ky(a,i,l)))}function Qy(t,i,a){var l=xn();xl(t,i,a,l)}function xl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))Yy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,En(E,v))return lc(t,i,h,0),st===null&&oc(),!1}catch{}finally{}if(a=Hf(t,i,h,l),a!==null)return Rn(a,t,l),Ky(a,i,l),!0}return!1}function Ad(t,i,a,l){if(l={lane:2,revertLane:nm(),action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(i)throw Error(s(479))}else i=Hf(t,a,l,2),i!==null&&Rn(i,t,2)}function Sc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Yy(t,i){La=vc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ky(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}var xc={readContext:Jt,use:Ec,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},$y={readContext:Jt,use:Ec,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:Oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,Py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=hn();i=i===void 0?null:i;var l=t();if(qs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=hn();if(a!==void 0){var h=a(i);if(qs){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=hA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=_d(t);var i=t.queue,a=Qy.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:bd,useDeferredValue:function(t,i){var a=hn();return Ed(a,t,i)},useTransition:function(){var t=_d(!1);return t=By.bind(null,Ne,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=hn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(He&124)!==0||gy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Oy(_y.bind(null,l,d,t),[t]),l.flags|=2048,ja(9,wc(),yy.bind(null,l,d,a,i),null),a},useId:function(){var t=hn(),i=st.identifierPrefix;if(Qe){var a=Fr,l=Hr;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=bc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=sA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:wd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t){var i=hn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ad.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:pd,useCacheRefresh:function(){return hn().memoizedState=cA.bind(null,Ne)}},Xy={readContext:Jt,use:Ec,useCallback:Uy,useContext:Jt,useEffect:ky,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:jy,useReducer:Tc,useRef:Dy,useState:function(){return Tc(Yr)},useDebugValue:bd,useDeferredValue:function(t,i){var a=xt();return zy(a,tt.memoizedState,t,i)},useTransition:function(){var t=Tc(Yr)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:wd,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,i){var a=xt();return Ey(a,tt,t,i)},useMemoCache:pd,useCacheRefresh:Gy},fA={readContext:Jt,use:Ec,useCallback:Uy,useContext:Jt,useEffect:ky,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:jy,useReducer:yd,useRef:Dy,useState:function(){return yd(Yr)},useDebugValue:bd,useDeferredValue:function(t,i){var a=xt();return tt===null?Ed(a,t,i):zy(a,tt.memoizedState,t,i)},useTransition:function(){var t=yd(Yr)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:wd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=xt();return tt!==null?Ey(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:pd,useCacheRefresh:Gy},za=null,Rl=0;function Rc(t){var i=Rl;return Rl+=1,za===null&&(za=[]),oy(za,t,i)}function Cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Cc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Wy(t){var i=t._init;return i(t._payload)}function Zy(t){function i(L,D){if(t){var z=L.deletions;z===null?(L.deletions=[D],L.flags|=16):z.push(D)}}function a(L,D){if(!t)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function l(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=qr(L,D),L.index=0,L.sibling=null,L}function d(L,D,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<D?(L.flags|=67108866,D):z):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,D,z,W){return D===null||D.tag!==6?(D=Gf(z,L.mode,W),D.return=L,D):(D=h(D,z),D.return=L,D)}function C(L,D,z,W){var fe=z.type;return fe===B?X(L,D,z.props.children,W,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Wy(fe)===D.type)?(D=h(D,z.props),Cl(D,z),D.return=L,D):(D=cc(z.type,z.key,z.props,null,L.mode,W),Cl(D,z),D.return=L,D)}function q(L,D,z,W){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Qf(z,L.mode,W),D.return=L,D):(D=h(D,z.children||[]),D.return=L,D)}function X(L,D,z,W,fe){return D===null||D.tag!==7?(D=Ms(z,L.mode,W,fe),D.return=L,D):(D=h(D,z),D.return=L,D)}function Z(L,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gf(""+D,L.mode,z),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return z=cc(D.type,D.key,D.props,null,L.mode,z),Cl(z,D),z.return=L,z;case V:return D=Qf(D,L.mode,z),D.return=L,D;case S:var W=D._init;return D=W(D._payload),Z(L,D,z)}if($e(D)||P(D))return D=Ms(D,L.mode,z,null),D.return=L,D;if(typeof D.then=="function")return Z(L,Rc(D),z);if(D.$$typeof===ie)return Z(L,mc(L,D),z);Cc(L,D)}return null}function H(L,D,z,W){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:E(L,D,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===fe?C(L,D,z,W):null;case V:return z.key===fe?q(L,D,z,W):null;case S:return fe=z._init,z=fe(z._payload),H(L,D,z,W)}if($e(z)||P(z))return fe!==null?null:X(L,D,z,W,null);if(typeof z.then=="function")return H(L,D,Rc(z),W);if(z.$$typeof===ie)return H(L,D,mc(L,z),W);Cc(L,z)}return null}function F(L,D,z,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(z)||null,E(D,L,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return L=L.get(W.key===null?z:W.key)||null,C(D,L,W,fe);case V:return L=L.get(W.key===null?z:W.key)||null,q(D,L,W,fe);case S:var Oe=W._init;return W=Oe(W._payload),F(L,D,z,W,fe)}if($e(W)||P(W))return L=L.get(z)||null,X(D,L,W,fe,null);if(typeof W.then=="function")return F(L,D,z,Rc(W),fe);if(W.$$typeof===ie)return F(L,D,z,mc(D,W),fe);Cc(D,W)}return null}function Ae(L,D,z,W){for(var fe=null,Oe=null,ye=D,Ee=D=0,qt=null;ye!==null&&Ee<z.length;Ee++){ye.index>Ee?(qt=ye,ye=null):qt=ye.sibling;var Ge=H(L,ye,z[Ee],W);if(Ge===null){ye===null&&(ye=qt);break}t&&ye&&Ge.alternate===null&&i(L,ye),D=d(Ge,D,Ee),Oe===null?fe=Ge:Oe.sibling=Ge,Oe=Ge,ye=qt}if(Ee===z.length)return a(L,ye),Qe&&Ps(L,Ee),fe;if(ye===null){for(;Ee<z.length;Ee++)ye=Z(L,z[Ee],W),ye!==null&&(D=d(ye,D,Ee),Oe===null?fe=ye:Oe.sibling=ye,Oe=ye);return Qe&&Ps(L,Ee),fe}for(ye=l(ye);Ee<z.length;Ee++)qt=F(ye,L,Ee,z[Ee],W),qt!==null&&(t&&qt.alternate!==null&&ye.delete(qt.key===null?Ee:qt.key),D=d(qt,D,Ee),Oe===null?fe=qt:Oe.sibling=qt,Oe=qt);return t&&ye.forEach(function(Bi){return i(L,Bi)}),Qe&&Ps(L,Ee),fe}function be(L,D,z,W){if(z==null)throw Error(s(151));for(var fe=null,Oe=null,ye=D,Ee=D=0,qt=null,Ge=z.next();ye!==null&&!Ge.done;Ee++,Ge=z.next()){ye.index>Ee?(qt=ye,ye=null):qt=ye.sibling;var Bi=H(L,ye,Ge.value,W);if(Bi===null){ye===null&&(ye=qt);break}t&&ye&&Bi.alternate===null&&i(L,ye),D=d(Bi,D,Ee),Oe===null?fe=Bi:Oe.sibling=Bi,Oe=Bi,ye=qt}if(Ge.done)return a(L,ye),Qe&&Ps(L,Ee),fe;if(ye===null){for(;!Ge.done;Ee++,Ge=z.next())Ge=Z(L,Ge.value,W),Ge!==null&&(D=d(Ge,D,Ee),Oe===null?fe=Ge:Oe.sibling=Ge,Oe=Ge);return Qe&&Ps(L,Ee),fe}for(ye=l(ye);!Ge.done;Ee++,Ge=z.next())Ge=F(ye,L,Ee,Ge.value,W),Ge!==null&&(t&&Ge.alternate!==null&&ye.delete(Ge.key===null?Ee:Ge.key),D=d(Ge,D,Ee),Oe===null?fe=Ge:Oe.sibling=Ge,Oe=Ge);return t&&ye.forEach(function(dS){return i(L,dS)}),Qe&&Ps(L,Ee),fe}function rt(L,D,z,W){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var fe=z.key;D!==null;){if(D.key===fe){if(fe=z.type,fe===B){if(D.tag===7){a(L,D.sibling),W=h(D,z.props.children),W.return=L,L=W;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Wy(fe)===D.type){a(L,D.sibling),W=h(D,z.props),Cl(W,z),W.return=L,L=W;break e}a(L,D);break}else i(L,D);D=D.sibling}z.type===B?(W=Ms(z.props.children,L.mode,W,z.key),W.return=L,L=W):(W=cc(z.type,z.key,z.props,null,L.mode,W),Cl(W,z),W.return=L,L=W)}return v(L);case V:e:{for(fe=z.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(L,D.sibling),W=h(D,z.children||[]),W.return=L,L=W;break e}else{a(L,D);break}else i(L,D);D=D.sibling}W=Qf(z,L.mode,W),W.return=L,L=W}return v(L);case S:return fe=z._init,z=fe(z._payload),rt(L,D,z,W)}if($e(z))return Ae(L,D,z,W);if(P(z)){if(fe=P(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),be(L,D,z,W)}if(typeof z.then=="function")return rt(L,D,Rc(z),W);if(z.$$typeof===ie)return rt(L,D,mc(L,z),W);Cc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(L,D.sibling),W=h(D,z),W.return=L,L=W):(a(L,D),W=Gf(z,L.mode,W),W.return=L,L=W),v(L)):a(L,D)}return function(L,D,z,W){try{Rl=0;var fe=rt(L,D,z,W);return za=null,fe}catch(ye){if(ye===_l||ye===gc)throw ye;var Oe=Tn(29,ye,null,L.mode);return Oe.lanes=W,Oe.return=L,Oe}finally{}}}var Ba=Zy(!0),Jy=Zy(!1),qn=ee(null),mr=null;function xi(t){var i=t.alternate;ne(kt,kt.current&1),ne(qn,t),mr===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(mr=t)}function e_(t){if(t.tag===22){if(ne(kt,kt.current),ne(qn,t),mr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(mr=t)}}else Ri()}function Ri(){ne(kt,kt.current),ne(qn,qn.current)}function Kr(t){le(qn),mr===t&&(mr=null),le(kt)}var kt=ee(0);function Ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||mm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=wi(l);h.payload=i,a!=null&&(h.callback=a),i=Ai(t,h,l),i!==null&&(Rn(i,t,l),bl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=wi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ai(t,h,l),i!==null&&(Rn(i,t,l),bl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=wi(a);l.tag=2,i!=null&&(l.callback=i),i=Ai(t,l,a),i!==null&&(Rn(i,t,a),bl(i,t,a))}};function t_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(h,d):!0}function n_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&xd.enqueueReplaceState(i,i.state,null)}function Hs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function r_(t){Nc(t)}function i_(t){console.error(t)}function s_(t){Nc(t)}function Dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function a_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rd(t,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,i)},a}function o_(t){return t=wi(t),t.tag=3,t}function l_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){a_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){a_(i,a,l),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function dA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&pl(i,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return mr===null?Wd():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jd(t,l,h)),!1;case 22:return a.flags|=65536,l===nd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jd(t,l,h)),!1}throw Error(s(435,a.tag))}return Jd(t,l,h),Wd(),!1}if(Qe)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==$f&&(t=Error(s(422),{cause:l}),ml(Un(t,a)))):(l!==$f&&(i=Error(s(423),{cause:l}),ml(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=Rd(t.stateNode,l,h),sd(t,h),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),Vl===null?Vl=[d]:Vl.push(d),gt!==4&&(gt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Rd(a.stateNode,l,t),sd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=o_(h),l_(h,t,a,l),sd(a,h),!1}a=a.return}while(a!==null);return!1}var u_=Error(s(461)),zt=!1;function Qt(t,i,a,l){i.child=t===null?Jy(i,null,a,l):Ba(i,t.child,a,l)}function c_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return zs(i),l=cd(t,i,a,v,d,h),E=hd(),t!==null&&!zt?(fd(t,i,h),$r(t,i,h)):(Qe&&E&&Yf(i),i.flags|=1,Qt(t,i,l,h),i.child)}function h_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,f_(t,i,d,l,h)):(t=cc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Vd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(v,l)&&t.ref===i.ref)return $r(t,i,h)}return i.flags|=1,t=qr(d,l),t.ref=i.ref,t.return=i,i.child=t}function f_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(cl(d,l)&&t.ref===i.ref)if(zt=!1,i.pendingProps=l=d,Vd(t,h))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,$r(t,i,h)}return Cd(t,i,a,l,h)}function d_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return m_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&pc(i,d!==null?d.cachePool:null),d!==null?fy(i,d):od(),e_(i);else return i.lanes=i.childLanes=536870912,m_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(pc(i,d.cachePool),fy(i,d),Ri(),i.memoizedState=null):(t!==null&&pc(i,null),od(),Ri());return Qt(t,i,h,a),i.child}function m_(t,i,a,l){var h=td();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&pc(i,null),od(),e_(i),t!==null&&pl(t,i,l,!0),null}function Oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Cd(t,i,a,l,h){return zs(i),a=cd(t,i,a,l,void 0,h),l=hd(),t!==null&&!zt?(fd(t,i,h),$r(t,i,h)):(Qe&&l&&Yf(i),i.flags|=1,Qt(t,i,a,h),i.child)}function p_(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=my(i,l,a,h),dy(t),l=hd(),t!==null&&!zt?(fd(t,i,d),$r(t,i,d)):(Qe&&l&&Yf(i),i.flags|=1,Qt(t,i,a,d),i.child)}function g_(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Jt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},rd(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Jt(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xd.enqueueReplaceState(d,d.state,null),Tl(i,l,d,h),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,C=Hs(a,E);d.props=C;var q=d.context,X=a.contextType;v=Da,typeof X=="object"&&X!==null&&(v=Jt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||q!==v)&&n_(i,d,l,v),Ti=!1;var H=i.memoizedState;d.state=H,Tl(i,l,d,h),El(),q=i.memoizedState,E||H!==q||Ti?(typeof Z=="function"&&(Sd(i,a,Z,l),q=i.memoizedState),(C=Ti||t_(i,a,C,l,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,id(t,i),v=i.memoizedProps,X=Hs(a,v),d.props=X,Z=i.pendingProps,H=d.context,q=a.contextType,C=Da,typeof q=="object"&&q!==null&&(C=Jt(q)),E=a.getDerivedStateFromProps,(q=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&n_(i,d,l,C),Ti=!1,H=i.memoizedState,d.state=H,Tl(i,l,d,h),El();var F=i.memoizedState;v!==Z||H!==F||Ti||t!==null&&t.dependencies!==null&&dc(t.dependencies)?(typeof E=="function"&&(Sd(i,a,E,l),F=i.memoizedState),(X=Ti||t_(i,a,X,l,H,F,C)||t!==null&&t.dependencies!==null&&dc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ba(i,t.child,null,h),i.child=Ba(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=$r(t,i,h),t}function y_(t,i,a,l){return dl(),i.flags|=256,Qt(t,i,a,l),i.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:iy()}}function Dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Hn),t}function __(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(h?xi(i):Ri(),Qe){var E=pt,C;if(C=E){e:{for(C=E,E=dr;C.nodeType!==8;){if(!E){E=null;break e}if(C=Zn(C.nextSibling),C===null){E=null;break e}}E=C}E!==null?(i.memoizedState={dehydrated:E,treeContext:Vs!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},C=Tn(18,null,null,0),C.stateNode=E,C.return=i,i.child=C,cn=i,pt=null,C=!0):C=!1}C||Us(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return mm(E)?i.lanes=32:i.lanes=536870912,null;Kr(i)}return E=l.children,l=l.fallback,h?(Ri(),h=i.mode,E=kc({mode:"hidden",children:E},h),l=Ms(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Nd(a),h.childLanes=Dd(t,v,a),i.memoizedState=Id,l):(xi(i),Od(i,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(xi(i),i.flags&=-257,i=kd(t,i,a)):i.memoizedState!==null?(Ri(),i.child=t.child,i.flags|=128,i=null):(Ri(),h=l.fallback,E=i.mode,l=kc({mode:"visible",children:l.children},E),h=Ms(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ba(i,t.child,null,a),l=i.child,l.memoizedState=Nd(a),l.childLanes=Dd(t,v,a),i.memoizedState=Id,i=h);else if(xi(i),mm(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),i=kd(t,i,a)}else if(zt||pl(t,i,a,!1),v=(a&t.childLanes)!==0,zt||v){if(v=st,v!==null&&(l=a&-a,l=(l&42)!==0?1:mi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Na(t,l),Rn(v,t,l),u_;E.data==="$?"||Wd(),i=kd(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,pt=Zn(E.nextSibling),cn=i,Qe=!0,Ls=null,dr=!1,t!==null&&(zn[Bn++]=Hr,zn[Bn++]=Fr,zn[Bn++]=Vs,Hr=t.id,Fr=t.overflow,Vs=i),i=Od(i,l.children),i.flags|=4096);return i}return h?(Ri(),h=l.fallback,E=i.mode,C=t.child,q=C.sibling,l=qr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=qr(q,h):(h=Ms(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=t.child.memoizedState,E===null?E=Nd(a):(C=E.cachePool,C!==null?(q=Ot._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=iy(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=Dd(t,v,a),i.memoizedState=Id,l):(xi(i),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Od(t,i){return i=kc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function kc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function kd(t,i,a){return Ba(i,t.child,null,a),t=Od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function v_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Wf(t.return,i,a)}function Md(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function b_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Qt(t,i,l.children,a),l=kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,a,i);else if(t.tag===19)v_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ne(kt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Md(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Md(i,!0,a,null,d);break;case"together":Md(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $r(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Oi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(pl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&dc(t)))}function mA(t,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),Ei(i,Ot,t.memoizedState.cache),dl();break;case 27:case 5:yn(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:Ei(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?__(t,i,a):(xi(i),t=$r(t,i,a),t!==null?t.sibling:null);xi(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(pl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return b_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(kt,kt.current),l)break;return null;case 22:case 23:return i.lanes=0,d_(t,i,a);case 24:Ei(i,Ot,t.memoizedState.cache)}return $r(t,i,a)}function E_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!Vd(t,a)&&(i.flags&128)===0)return zt=!1,mA(t,i,a);zt=(t.flags&131072)!==0}else zt=!1,Qe&&(i.flags&1048576)!==0&&Wg(i,fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ff(l)?(t=Hs(l,t),i.tag=1,i=g_(null,i,l,t,a)):(i.tag=0,i=Cd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ge){i.tag=11,i=c_(null,i,l,t,a);break e}else if(h===O){i.tag=14,i=h_(null,i,l,t,a);break e}}throw i=_t(l)||l,Error(s(306,i,""))}}return i;case 0:return Cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hs(l,i.pendingProps),g_(t,i,l,h,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,id(t,i),Tl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ei(i,Ot,l),l!==d.cache&&Zf(i,[Ot],a,!0),El(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=y_(t,i,l,a);break e}else if(l!==h){h=Un(Error(s(424)),i),ml(h),i=y_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=Zn(t.firstChild),cn=i,Qe=!0,Ls=null,dr=!0,a=Jy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===h){i=$r(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return Oc(t,i),t===null?(a=Sv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,t=i.pendingProps,l=Yc(Te.current).createElement(a),l[It]=i,l[wt]=t,Kt(l,a,t),vt(l),i.stateNode=l):i.memoizedState=Sv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yn(i),t===null&&Qe&&(l=i.stateNode=Tv(i.type,i.pendingProps,Te.current),cn=i,dr=!0,h=pt,Pi(i.type)?(pm=h,pt=Zn(l.firstChild)):pt=h),Qt(t,i,i.pendingProps.children,a),Oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((h=l=pt)&&(l=qA(l,i.type,i.pendingProps,dr),l!==null?(i.stateNode=l,cn=i,pt=Zn(l.firstChild),dr=!1,h=!0):h=!1),h||Us(i)),yn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,hm(h,d)?l=null:v!==null&&hm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=cd(t,i,aA,null,null,a),Fl._currentValue=h),Oc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Qe&&((t=a=pt)&&(a=HA(a,i.pendingProps,dr),a!==null?(i.stateNode=a,cn=i,pt=null,t=!0):t=!1),t||Us(i)),null;case 13:return __(t,i,a);case 4:return Xe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ba(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return c_(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ei(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Jt(h),l=l(h),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return h_(t,i,i.type,i.pendingProps,a);case 15:return f_(t,i,i.type,i.pendingProps,a);case 19:return b_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=kc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=qr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return d_(t,i,a);case 24:return zs(i),l=Jt(Ot),t===null?(h=td(),h===null&&(h=st,d=Jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},rd(i),Ei(i,Ot,h)):((t.lanes&a)!==0&&(id(t,i),Tl(i,null,null,a),El()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ei(i,Ot,l)):(l=d.cache,Ei(i,Ot,l),l!==h.cache&&Zf(i,[Ot],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xr(t){t.flags|=4}function T_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(i)){if(i=qn.current,i!==null&&((He&4194048)===He?mr!==null:(He&62914560)!==He&&(He&536870912)===0||i!==mr))throw vl=nd,sy;t.flags|=8192}}function Mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Qo():536870912,t.lanes|=i,Ga|=i)}function Il(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function pA(t,i,a){var l=i.pendingProps;switch(Kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qr(Ot),an(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(fl(i)?Xr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ey())),ft(i),null;case 26:return a=i.memoizedState,t===null?(Xr(i),a!==null?(ft(i),T_(i,a)):(ft(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Xr(i),ft(i),T_(i,a)):(ft(i),i.flags&=-16777217):(t.memoizedProps!==l&&Xr(i),ft(i),i.flags&=-16777217),null;case 27:_n(i),a=Te.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ft(i),null}t=he.current,fl(i)?Zg(i):(t=Tv(h,l,a),i.stateNode=t,Xr(i))}return ft(i),null;case 5:if(_n(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ft(i),null}if(t=he.current,fl(i))Zg(i);else{switch(h=Yc(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xr(i)}}return ft(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Te.current,fl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||pv(t.nodeValue,a)),t||Us(i)}else t=Yc(t).createTextNode(l),t[It]=i,i.stateNode=t}return ft(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=fl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),h=!1}else h=ey(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Kr(i),i):(Kr(i),null)}if(Kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Mc(i,i.updateQueue),ft(i),null;case 4:return an(),t===null&&am(i.stateNode.containerInfo),ft(i),null;case 10:return Qr(i.type),ft(i),null;case 19:if(le(kt),h=i.memoizedState,h===null)return ft(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Il(h,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ic(t),d!==null){for(i.flags|=128,Il(h,!1),t=d.updateQueue,i.updateQueue=t,Mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Xg(a,t),a=a.sibling;return ne(kt,kt.current&1|2),i.child}t=t.sibling}h.tail!==null&&On()>Lc&&(i.flags|=128,l=!0,Il(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ic(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Mc(i,t),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qe)return ft(i),null}else 2*On()-h.renderingStartTime>Lc&&a!==536870912&&(i.flags|=128,l=!0,Il(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=On(),i.sibling=null,t=kt.current,ne(kt,l?t&1|2:t&1),i):(ft(i),null);case 22:case 23:return Kr(i),ld(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),a=i.updateQueue,a!==null&&Mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qr(Ot),ft(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function gA(t,i){switch(Kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qr(Ot),an(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _n(i),null;case 13:if(Kr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));dl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(kt),null;case 4:return an(),null;case 10:return Qr(i.type),null;case 22:case 23:return Kr(i),ld(),t!==null&&le(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qr(Ot),null;case 25:return null;default:return null}}function w_(t,i){switch(Kf(i),i.tag){case 3:Qr(Ot),an();break;case 26:case 27:case 5:_n(i);break;case 4:an();break;case 13:Kr(i);break;case 19:le(kt);break;case 10:Qr(i.type);break;case 22:case 23:Kr(i),ld(),t!==null&&le(Bs);break;case 24:Qr(Ot)}}function Nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){it(i,i.return,E)}}function Ci(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var C=a,q=E;try{q()}catch(X){it(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){it(i,i.return,X)}}function A_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hy(i,a)}catch(l){it(t,t.return,l)}}}function S_(t,i,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function Dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function pr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function x_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function Pd(t,i,a){try{var l=t.stateNode;LA(l,t.type,a,i),l[wt]=i}catch(h){it(t,t.return,h)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qc));else if(l!==4&&(l===27&&Pi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ud(t,i,a),t=t.sibling;t!==null;)Ud(t,i,a),t=t.sibling}function Vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Pi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vc(t,i,a),t=t.sibling;t!==null;)Vc(t,i,a),t=t.sibling}function C_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[It]=t,i[wt]=a}catch(d){it(t,t.return,d)}}var Wr=!1,Et=!1,jd=!1,I_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function yA(t,i){if(t=t.containerInfo,um=Jc,t=zg(t),Lf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,C=-1,q=0,X=0,Z=t,H=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===t)break t;if(H===a&&++q===h&&(E=v),H===d&&++X===l&&(C=v),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:t,selectionRange:a},Jc=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){it(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)dm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function N_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(t,a),l&4&&Nl(5,a);break;case 1:if(Ii(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){it(a,a.return,v)}else{var h=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){it(a,a.return,v)}}l&64&&A_(a),l&512&&Dl(a,a.return);break;case 3:if(Ii(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hy(t,i)}catch(v){it(a,a.return,v)}}break;case 27:i===null&&l&4&&C_(a);case 26:case 5:Ii(t,a),i===null&&l&4&&x_(a),l&512&&Dl(a,a.return);break;case 12:Ii(t,a);break;case 13:Ii(t,a),l&4&&k_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xA.bind(null,a),FA(t,a))));break;case 22:if(l=a.memoizedState!==null||Wr,!l){i=i!==null&&i.memoizedState!==null||Et,h=Wr;var d=Et;Wr=l,(Et=i)&&!d?Ni(t,a,(a.subtreeFlags&8772)!==0):Ii(t,a),Wr=h,Et=d}break;case 30:break;default:Ii(t,a)}}function D_(t){var i=t.alternate;i!==null&&(t.alternate=null,D_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&yi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function Zr(t,i,a){for(a=a.child;a!==null;)O_(t,i,a),a=a.sibling}function O_(t,i,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:Et||pr(a,i),Zr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||pr(a,i);var l=ct,h=fn;Pi(a.type)&&(ct=a.stateNode,fn=!1),Zr(t,i,a),zl(a.stateNode),ct=l,fn=h;break;case 5:Et||pr(a,i);case 6:if(l=ct,h=fn,ct=null,Zr(t,i,a),ct=l,fn=h,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){it(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){it(a,i,d)}break;case 18:ct!==null&&(fn?(t=ct,bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Kl(t)):bv(ct,a.stateNode));break;case 4:l=ct,h=fn,ct=a.stateNode.containerInfo,fn=!0,Zr(t,i,a),ct=l,fn=h;break;case 0:case 11:case 14:case 15:Et||Ci(2,a,i),Et||Ci(4,a,i),Zr(t,i,a);break;case 1:Et||(pr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&S_(a,i,l)),Zr(t,i,a);break;case 21:Zr(t,i,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,Zr(t,i,a),Et=l;break;default:Zr(t,i,a)}}function k_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kl(t)}catch(a){it(i,i.return,a)}}function _A(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new I_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new I_),i;default:throw Error(s(435,t.tag))}}function zd(t,i){var a=_A(t);i.forEach(function(l){var h=RA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function wn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Pi(E.type)){ct=E.stateNode,fn=!1;break e}break;case 5:ct=E.stateNode,fn=!1;break e;case 3:case 4:ct=E.stateNode.containerInfo,fn=!0;break e}E=E.return}if(ct===null)throw Error(s(160));O_(d,v,h),ct=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)M_(i,t),i=i.sibling}var Wn=null;function M_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(i,t),An(t),l&4&&(Ci(3,t,t.return),Nl(3,t),Ci(5,t,t.return));break;case 1:wn(i,t),An(t),l&512&&(Et||a===null||pr(a,a.return)),l&64&&Wr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(wn(i,t),An(t),l&512&&(Et||a===null||pr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[It]=t,vt(d),l=d;break e;case"link":var v=Cv("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Cv("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,vt(d),l=d}t.stateNode=l}else Iv(h,t.type,t.stateNode);else t.stateNode=Rv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Iv(h,t.type,t.stateNode):Rv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:wn(i,t),An(t),l&512&&(Et||a===null||pr(a,a.return)),a!==null&&l&4&&Pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wn(i,t),An(t),l&512&&(Et||a===null||pr(a,a.return)),t.flags&32){h=t.stateNode;try{Mn(h,"")}catch(F){it(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(jd=!0);break;case 6:if(wn(i,t),An(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){it(t,t.return,F)}}break;case 3:if(Xc=null,h=Wn,Wn=Kc(i.containerInfo),wn(i,t),Wn=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(i.containerInfo)}catch(F){it(t,t.return,F)}jd&&(jd=!1,V_(t));break;case 4:l=Wn,Wn=Kc(t.stateNode.containerInfo),wn(i,t),An(t),Wn=l;break;case 12:wn(i,t),An(t);break;case 13:wn(i,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qd=On()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=Wr,X=Et;if(Wr=q||h,Et=X||C,wn(i,t),Et=X,Wr=q,An(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Wr||Et||Fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){it(C,C.return,F)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){it(C,C.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zd(t,a))));break;case 19:wn(i,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zd(t,l)));break;case 30:break;case 21:break;default:wn(i,t),An(t)}}function An(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ld(t);Vc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Mn(v,""),a.flags&=-33);var E=Ld(t);Vc(t,E,v);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Ld(t);Ud(t,q,C);break;default:throw Error(s(161))}}catch(X){it(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function V_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;V_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ii(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)N_(t,i.alternate,i),i=i.sibling}function Fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ci(4,i,i.return),Fs(i);break;case 1:pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&S_(i,i.return,a),Fs(i);break;case 27:zl(i.stateNode);case 26:case 5:pr(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}t=t.sibling}}function Ni(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ni(h,d,a),Nl(4,d);break;case 1:if(Ni(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){it(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)cy(C[h],E)}catch(q){it(l,l.return,q)}}a&&v&64&&A_(d),Dl(d,d.return);break;case 27:C_(d);case 26:case 5:Ni(h,d,a),a&&l===null&&v&4&&x_(d),Dl(d,d.return);break;case 12:Ni(h,d,a);break;case 13:Ni(h,d,a),a&&v&4&&k_(h,d);break;case 22:d.memoizedState===null&&Ni(h,d,a),Dl(d,d.return);break;case 30:break;default:Ni(h,d,a)}i=i.sibling}}function Bd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function qd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t))}function gr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P_(t,i,a,l),i=i.sibling}function P_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:gr(t,i,a,l),h&2048&&Nl(9,i);break;case 1:gr(t,i,a,l);break;case 3:gr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){gr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(i,i.return,C)}}else gr(t,i,a,l);break;case 13:gr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?gr(t,i,a,l):Ol(t,i):d._visibility&2?gr(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Bd(v,i);break;case 24:gr(t,i,a,l),h&2048&&qd(i.alternate,i);break;default:gr(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,E=a,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,E,C,h),Nl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?qa(d,v,E,C,h):Ol(d,v):(X._visibility|=2,qa(d,v,E,C,h)),h&&q&2048&&Bd(v.alternate,v);break;case 24:qa(d,v,E,C,h),h&&q&2048&&qd(v.alternate,v);break;default:qa(d,v,E,C,h)}i=i.sibling}}function Ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&Bd(l.alternate,l);break;case 24:Ol(a,l),h&2048&&qd(l.alternate,l);break;default:Ol(a,l)}i=i.sibling}}var kl=8192;function Ha(t){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)L_(t),t=t.sibling}function L_(t){switch(t.tag){case 26:Ha(t),t.flags&kl&&t.memoizedState!==null&&rS(Wn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=Wn;Wn=Kc(t.stateNode.containerInfo),Ha(t),Wn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=kl,kl=16777216,Ha(t),kl=i):Ha(t));break;default:Ha(t)}}function U_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,z_(l,t)}U_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)j_(t),t=t.sibling}function j_(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Pc(t)):Ml(t);break;default:Ml(t)}}function Pc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,z_(l,t)}U_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ci(8,i,i.return),Pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(i));break;default:Pc(i)}t=t.sibling}}function z_(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Ci(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(D_(l),l===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var vA={getCacheForType:function(t){var i=Jt(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},bA=typeof WeakMap=="function"?WeakMap:Map,Ze=0,st=null,Me=null,He=0,Je=0,Sn=null,Di=!1,Fa=!1,Hd=!1,Jr=0,gt=0,Oi=0,Gs=0,Fd=0,Hn=0,Ga=0,Vl=null,dn=null,Gd=!1,Qd=0,Lc=1/0,Uc=null,ki=null,Yt=0,Mi=null,Qa=null,Ya=0,Yd=0,Kd=null,B_=null,Pl=0,$d=null;function xn(){if((Ze&2)!==0&&He!==0)return He&-He;if(K.T!==null){var t=Ma;return t!==0?t:nm()}return pi()}function q_(){Hn===0&&(Hn=(He&536870912)===0||Qe?Go():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Hn}function Rn(t,i,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Vi(t,He,Hn,!1)),Dr(t,a),((Ze&2)===0||t!==st)&&(t===st&&((Ze&2)===0&&(Gs|=a),gt===4&&Vi(t,He,Hn,!1)),yr(t))}function H_(t,i,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ys(t,i),h=l?wA(t,i):Zd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Vi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!EA(a)){h=Zd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=Vl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ka(E,v).flags|=256),v=Zd(E,v,!1),v!==2){if(Hd&&!C){E.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Vi(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vi(l,i,Hn,!Di);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Qd+300-On(),10<h)){if(Vi(l,i,Hn,!Di),ha(l,0,!0)!==0)break e;l.timeoutHandle=_v(F_.bind(null,l,a,dn,Uc,Gd,i,Hn,Gs,Ga,Di,d,2,-0,0),h);break e}F_(l,a,dn,Uc,Gd,i,Hn,Gs,Ga,Di,d,0,-0,0)}}break}while(!0);yr(t)}function F_(t,i,a,l,h,d,v,E,C,q,X,Z,H,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:nS},L_(i),Z=iS(),Z!==null)){t.cancelPendingCommit=Z(W_.bind(null,t,i,d,a,l,h,v,E,C,X,1,H,F)),Vi(t,d,v,!q);return}W_(t,i,d,a,l,h,v,E,C)}function EA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vi(t,i,a,l){i&=~Fd,i&=~Gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Zt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&nr(t,a,i)}function jc(){return(Ze&6)===0?(Ll(0),!1):!0}function Xd(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,Gr=js=null,dd(t),za=null,Rl=0,t=Me;for(;t!==null;)w_(t.alternate,t),t=t.return;Me=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,jA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xd(),st=t,Me=a=qr(t.current,null),He=i,Je=0,Sn=null,Di=!1,Fa=ys(t,i),Hd=!1,Ga=Hn=Fd=Gs=Oi=gt=0,dn=Vl=null,Gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Zt(l),d=1<<h;i|=t[h],l&=~d}return Jr=i,oc(),a}function G_(t,i){Ne=null,K.H=xc,i===_l||i===gc?(i=ly(),Je=3):i===sy?(i=ly(),Je=4):Je=i===u_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Me===null&&(gt=1,Dc(t,Un(i,t.current)))}function Q_(){var t=K.H;return K.H=xc,t===null?xc:t}function Y_(){var t=K.A;return K.A=vA,t}function Wd(){gt=4,Di||(He&4194048)!==He&&qn.current!==null||(Fa=!0),(Oi&134217727)===0&&(Gs&134217727)===0||st===null||Vi(st,He,Hn,!1)}function Zd(t,i,a){var l=Ze;Ze|=2;var h=Q_(),d=Y_();(st!==t||He!==i)&&(Uc=null,Ka(t,i)),i=!1;var v=gt;e:do try{if(Je!==0&&Me!==null){var E=Me,C=Sn;switch(Je){case 8:Xd(),v=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(i=!0);var q=Je;if(Je=0,Sn=null,$a(t,E,C,q),a&&Fa){v=0;break e}break;default:q=Je,Je=0,Sn=null,$a(t,E,C,q)}}TA(),v=gt;break}catch(X){G_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Gr=js=null,Ze=l,K.H=h,K.A=d,Me===null&&(st=null,He=0,oc()),v}function TA(){for(;Me!==null;)K_(Me)}function wA(t,i){var a=Ze;Ze|=2;var l=Q_(),h=Y_();st!==t||He!==i?(Uc=null,Lc=On()+500,Ka(t,i)):Fa=ys(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var d=Sn;t:switch(Je){case 1:Je=0,Sn=null,$a(t,i,d,1);break;case 2:case 9:if(ay(d)){Je=0,Sn=null,$_(i);break}i=function(){Je!==2&&Je!==9||st!==t||(Je=7),yr(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ay(d)?(Je=0,Sn=null,$_(i)):(Je=0,Sn=null,$a(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var E=Me;if(!v||Nv(v)){Je=0,Sn=null;var C=E.sibling;if(C!==null)Me=C;else{var q=E.return;q!==null?(Me=q,zc(q)):Me=null}break t}}Je=0,Sn=null,$a(t,i,d,5);break;case 6:Je=0,Sn=null,$a(t,i,d,6);break;case 8:Xd(),gt=6;break e;default:throw Error(s(462))}}AA();break}catch(X){G_(t,X)}while(!0);return Gr=js=null,K.H=l,K.A=h,Ze=a,Me!==null?0:(st=null,He=0,oc(),gt)}function AA(){for(;Me!==null&&!Bo();)K_(Me)}function K_(t){var i=E_(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,i===null?zc(t):Me=i}function $_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=p_(a,i,i.pendingProps,i.type,void 0,He);break;case 11:i=p_(a,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:dd(i);default:w_(a,i),i=Me=Xg(i,Jr),i=E_(a,i,Jr)}t.memoizedProps=t.pendingProps,i===null?zc(t):Me=i}function $a(t,i,a,l){Gr=js=null,dd(i),za=null,Rl=0;var h=i.return;try{if(dA(t,h,i,a,He)){gt=1,Dc(t,Un(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;gt=1,Dc(t,Un(a,t.current)),Me=null;return}i.flags&32768?(Qe||l===1?t=!0:Fa||(He&536870912)!==0?t=!1:(Di=t=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),X_(i,t)):zc(i)}function zc(t){var i=t;do{if((i.flags&32768)!==0){X_(i,Di);return}t=i.return;var a=pA(i.alternate,i,Jr);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);gt===0&&(gt=5)}function X_(t,i){do{var a=gA(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);gt=6,Me=null}function W_(t,i,a,l,h,d,v,E,C){t.cancelPendingCommit=null;do Bc();while(Yt!==0);if((Ze&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=qf,Yo(t,a,d,v,E,C),t===st&&(Me=st=null,He=0),Qa=i,Mi=t,Ya=a,Yd=d,Kd=h,B_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,CA(ds,function(){return nv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,v=Ze,Ze|=4;try{yA(t,i,a)}finally{Ze=v,ae.p=h,K.T=l}}Yt=1,Z_(),J_(),ev()}}function Z_(){if(Yt===1){Yt=0;var t=Mi,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ze;Ze|=4;try{M_(i,t);var d=cm,v=zg(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&jg(E.ownerDocument.documentElement,E)){if(C!==null&&Lf(E)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(X,E.value.length);else{var Z=E.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ae=E.textContent.length,be=Math.min(C.start,Ae),rt=C.end===void 0?be:Math.min(C.end,Ae);!F.extend&&be>rt&&(v=rt,rt=be,be=v);var L=Ug(E,be),D=Ug(E,rt);if(L&&D&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),be>rt?(F.addRange(z),F.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),F.addRange(z))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var W=Z[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Jc=!!um,cm=um=null}finally{Ze=h,ae.p=l,K.T=a}}t.current=i,Yt=2}}function J_(){if(Yt===2){Yt=0;var t=Mi,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ze;Ze|=4;try{N_(t,i.alternate,i)}finally{Ze=h,ae.p=l,K.T=a}}Yt=3}}function ev(){if(Yt===4||Yt===3){Yt=0,Pu();var t=Mi,i=Qa,a=Ya,l=B_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,Qa=Mi=null,tv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ki=null),fa(a),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(mt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{K.T=i,ae.p=h}}(Ya&3)!==0&&Bc(),yr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===$d?Pl++:(Pl=0,$d=t):Pl=0,Ll(0)}}function tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,gl(i)))}function Bc(t){return Z_(),J_(),ev(),nv()}function nv(){if(Yt!==5)return!1;var t=Mi,i=Yd;Yd=0;var a=fa(Ya),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Kd,Kd=null;var d=Mi,v=Ya;if(Yt=0,Qa=Mi=null,Ya=0,(Ze&6)!==0)throw Error(s(331));var E=Ze;if(Ze|=4,j_(d.current),P_(d,d.current,v,a),Ze=E,Ll(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(mt,d)}catch{}return!0}finally{ae.p=h,K.T=l,tv(t,i)}}function rv(t,i,a){i=Un(a,i),i=Rd(t.stateNode,i,2),t=Ai(t,i,2),t!==null&&(Dr(t,2),yr(t))}function it(t,i,a){if(t.tag===3)rv(t,t,a);else for(;i!==null;){if(i.tag===3){rv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){t=Un(a,t),a=o_(2),l=Ai(i,a,2),l!==null&&(l_(a,l,i,t),Dr(l,2),yr(l));break}}i=i.return}}function Jd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Hd=!0,h.add(a),t=SA.bind(null,t,i,a),i.then(t,t))}function SA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(He&a)===a&&(gt===4||gt===3&&(He&62914560)===He&&300>On()-Qd?(Ze&2)===0&&Ka(t,0):Fd|=a,Ga===He&&(Ga=0)),yr(t)}function iv(t,i){i===0&&(i=Qo()),t=Na(t,i),t!==null&&(Dr(t,i),yr(t))}function xA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),iv(t,a)}function RA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),iv(t,a)}function CA(t,i){return hs(t,i)}var qc=null,Xa=null,em=!1,Hc=!1,tm=!1,Qs=0;function yr(t){t!==Xa&&t.next===null&&(Xa===null?qc=Xa=t:Xa=Xa.next=t),Hc=!0,em||(em=!0,NA())}function Ll(t,i){if(!tm&&Hc){tm=!0;do for(var a=!1,l=qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,lv(l,d))}else d=He,d=ha(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,lv(l,d));l=l.next}while(a);tm=!1}}function IA(){sv()}function sv(){Hc=em=!1;var t=0;Qs!==0&&(UA()&&(t=Qs),Qs=0);for(var i=On(),a=null,l=qc;l!==null;){var h=l.next,d=av(l,i);d===0?(l.next=null,a===null?qc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Hc=!0)),l=h}Ll(t)}function av(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Zt(d),E=1<<v,C=h[v];C===-1?((E&a)===0||(E&l)!==0)&&(h[v]=Fo(E,i)):C<=i&&(t.expiredLanes|=E),d&=~E}if(i=st,a=He,a=ha(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fs(l),fa(a)){case 2:case 8:a=ua;break;case 32:a=ds;break;case 268435456:a=ca;break;default:a=ds}return l=ov.bind(null,t),a=hs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function ov(t,i){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bc()&&t.callbackNode!==a)return null;var l=He;return l=ha(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(H_(t,l,i),av(t,On()),t.callbackNode!=null&&t.callbackNode===a?ov.bind(null,t):null)}function lv(t,i){if(Bc())return null;H_(t,i,!0)}function NA(){zA(function(){(Ze&6)!==0?hs(qo,IA):sv()})}function nm(){return Qs===0&&(Qs=Go()),Qs}function uv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function cv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function DA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=uv((h[wt]||null).action),v=l.submitter;v&&(i=(i=v[wt]||null)?uv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new va("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var C=v?cv(h,v):new FormData(h);Td(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=v?cv(h,v):new FormData(h),Td(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var rm=0;rm<Bf.length;rm++){var im=Bf[rm],OA=im.toLowerCase(),kA=im[0].toUpperCase()+im.slice(1);Xn(OA,"on"+kA)}Xn(Hg,"onAnimationEnd"),Xn(Fg,"onAnimationIteration"),Xn(Gg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Xw,"onTransitionRun"),Xn(Ww,"onTransitionStart"),Xn(Zw,"onTransitionCancel"),Xn(Qg,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function hv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,q=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=q;try{d(h)}catch(X){Nc(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,q=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=q;try{d(h)}catch(X){Nc(X)}h.currentTarget=null,d=C}}}}function Ve(t,i){var a=i[$o];a===void 0&&(a=i[$o]=new Set);var l=t+"__bubble";a.has(l)||(fv(i,t,2,!1),a.add(l))}function sm(t,i,a){var l=0;i&&(l|=4),fv(a,t,l,i)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function am(t){if(!t[Fc]){t[Fc]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(MA.has(a)||sm(a,!1,t),sm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fc]||(i[Fc]=!0,sm("selectionchange",!1,i))}}function fv(t,i,a,l){switch(Pv(i)){case 2:var h=oS;break;case 8:h=lS;break;default:h=bm}a=h.bind(null,i,a,t),h=void 0,!Pn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function om(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Or(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}E=E.parentNode}}l=l.return}Qu(function(){var q=d,X=Vn(a),Z=[];e:{var H=Yg.get(t);if(H!==void 0){var F=va,Ae=t;switch(t){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":F=Sa;break;case"focusin":Ae="focus",F=Ta;break;case"focusout":Ae="blur",F=Ta;break;case"beforeblur":case"afterblur":F=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=ec;break;case Hg:case Fg:case Gg:F=wa;break;case Qg:F=nc;break;case"scroll":case"scrollend":F=Yu;break;case"wheel":F=xa;break;case"copy":case"cut":case"paste":F=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ll;break;case"toggle":case"beforetoggle":F=ic}var be=(i&4)!==0,rt=!be&&(t==="scroll"||t==="scrollend"),L=be?H!==null?H+"Capture":null:H;be=[];for(var D=q,z;D!==null;){var W=D;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||L===null||(W=Ss(D,L),W!=null&&be.push(jl(D,W,z))),rt)break;D=D.return}0<be.length&&(H=new F(H,Ae,null,a,X),Z.push({event:H,listeners:be}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Pr&&(Ae=a.relatedTarget||a.fromElement)&&(Or(Ae)||Ae[kn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ae=a.relatedTarget||a.toElement,F=q,Ae=Ae?Or(Ae):null,Ae!==null&&(rt=u(Ae),be=Ae.tag,Ae!==rt||be!==5&&be!==27&&be!==6)&&(Ae=null)):(F=null,Ae=q),F!==Ae)){if(be=Ln,W="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(be=ll,W="onPointerLeave",L="onPointerEnter",D="pointer"),rt=F==null?H:ir(F),z=Ae==null?H:ir(Ae),H=new be(W,D+"leave",F,a,X),H.target=rt,H.relatedTarget=z,W=null,Or(X)===q&&(be=new be(L,D+"enter",Ae,a,X),be.target=z,be.relatedTarget=rt,W=be),rt=W,F&&Ae)t:{for(be=F,L=Ae,D=0,z=be;z;z=Wa(z))D++;for(z=0,W=L;W;W=Wa(W))z++;for(;0<D-z;)be=Wa(be),D--;for(;0<z-D;)L=Wa(L),z--;for(;D--;){if(be===L||L!==null&&be===L.alternate)break t;be=Wa(be),L=Wa(L)}be=null}else be=null;F!==null&&dv(Z,H,F,be,!1),Ae!==null&&rt!==null&&dv(Z,rt,Ae,be,!0)}}e:{if(H=q?ir(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=Og;else if(Dt(H))if(kg)fe=Yw;else{fe=Gw;var Oe=Fw}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&tl(q.elementType)&&(fe=Og):fe=Qw;if(fe&&(fe=fe(t,q))){Br(Z,fe,a,X);break e}Oe&&Oe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&vi(H,"number",H.value)}switch(Oe=q?ir(q):window,t){case"focusin":(Dt(Oe)||Oe.contentEditable==="true")&&(Ra=Oe,Uf=q,hl=null);break;case"focusout":hl=Uf=Ra=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Bg(Z,a,X);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Bg(Z,a,X)}var ye;if(hr)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Be?Q(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Be||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Be&&(ye=rl()):(or=X,bi="value"in or?or.value:or.textContent,Be=!0)),Oe=Gc(q,Ee),0<Oe.length&&(Ee=new al(Ee,t,null,a,X),Z.push({event:Ee,listeners:Oe}),ye?Ee.data=ye:(ye=oe(a),ye!==null&&(Ee.data=ye)))),(ye=y?Nt(t,a):qe(t,a))&&(Ee=Gc(q,"onBeforeInput"),0<Ee.length&&(Oe=new al("onBeforeInput","beforeinput",null,a,X),Z.push({event:Oe,listeners:Ee}),Oe.data=ye)),DA(Z,t,q,a,X)}hv(Z,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Gc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ss(t,a),h!=null&&l.unshift(jl(t,h,d)),h=Ss(t,i),h!=null&&l.push(jl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dv(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,C=E.alternate,q=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||q===null||(C=q,h?(q=Ss(a,d),q!=null&&v.unshift(jl(a,q,C))):h||(q=Ss(a,d),q!=null&&v.push(jl(a,q,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var VA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(VA,`
`).replace(PA,"")}function pv(t,i){return i=mv(i),mv(t)===i}function Qc(){}function nt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Mn(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,a,l);break;case"style":el(t,l,d);break;case"data":if(i!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",h.name,h,null),nt(t,i,"formEncType",h.formEncType,h,null),nt(t,i,"formMethod",h.formMethod,h,null),nt(t,i,"formTarget",h.formTarget,h,null)):(nt(t,i,"encType",h.encType,h,null),nt(t,i,"method",h.method,h,null),nt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),_i(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Df.get(a)||a,_i(t,a,l))}}function lm(t,i,a,l,h,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_i(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,v,a,null)}}h&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=d=v=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:nt(t,i,l,X,a,null)}}Ts(t,d,E,C,q,v,h,!1),ya(t);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:nt(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Vr(t,!!l,i,!1):a!=null&&Vr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:nt(t,i,v,E,a,null)}ws(t,l,h,d),ya(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,i,C,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ve(Ul[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,q,l,a,null)}return;default:if(tl(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&lm(t,i,X,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&nt(t,i,E,l,a,null))}function LA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,C=null,q=null,X=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(F)||nt(t,i,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&nt(t,i,H,F,l,Z)}}bn(t,v,E,C,q,X,d,h);return;case"select":F=v=E=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==C&&nt(t,i,h,d,l,C)}i=E,a=v,l=F,H!=null?Vr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Vr(t,!!a,i,!0):Vr(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,i,v,h,l,d)}et(t,H,F);return;case"option":for(var Ae in a)if(H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:nt(t,i,Ae,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:nt(t,i,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&nt(t,i,be,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:nt(t,i,q,H,l,F)}return;default:if(tl(i)){for(var rt in a)H=a[rt],a.hasOwnProperty(rt)&&H!==void 0&&!l.hasOwnProperty(rt)&&lm(t,i,rt,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||lm(t,i,X,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&nt(t,i,L,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||nt(t,i,Z,H,l,F)}var um=null,cm=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function hm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fm=null;function UA(){var t=window.event;return t&&t.type==="popstate"?t===fm?!1:(fm=t,!0):(fm=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,jA=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,zA=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(BA)}:_v;function BA(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function bv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&zl(v.documentElement),a&2&&zl(v.body),a&4)for(a=v.head,zl(a),v=a.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[_s]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){t.removeChild(d),Kl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Kl(i)}function dm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dm(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function HA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function mm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function FA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var pm=null;function Ev(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Tv(t,i,a){switch(i=Yc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);yi(t)}var Fn=new Map,wv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=ae.d;ae.d={f:GA,r:QA,D:YA,C:KA,L:$A,m:XA,X:ZA,S:WA,M:JA};function GA(){var t=ei.f(),i=jc();return t||i}function QA(t){var i=rr(t);i!==null&&i.tag===5&&i.type==="form"?Hy(i):ei.r(t)}var Za=typeof document>"u"?null:document;function Av(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var h=At(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),wv.has(h)||(wv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),vt(i),l.head.appendChild(i)))}}function YA(t){ei.D(t),Av("dns-prefetch",t,null)}function KA(t,i){ei.C(t,i),Av("preconnect",t,i)}function $A(t,i,a){ei.L(t,i,a);var l=Za;if(l&&t&&i){var h='link[rel="preload"][as="'+At(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+At(a.imageSizes)+'"]')):h+='[href="'+At(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=eo(t)}Fn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Bl(d))||i==="script"&&l.querySelector(ql(d))||(i=l.createElement("link"),Kt(i,"link",t),vt(i),l.head.appendChild(i)))}}function XA(t,i){ei.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Fn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(d)))return}l=a.createElement("link"),Kt(l,"link",t),vt(l),a.head.appendChild(l)}}}function WA(t,i,a){ei.S(t,i,a);var l=Za;if(l&&t){var h=on(l).hoistableStyles,d=Ja(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Bl(d)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&gm(t,a);var C=v=l.createElement("link");vt(C),Kt(C,"link",t),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,$c(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function ZA(t,i){ei.X(t,i);var a=Za;if(a&&t){var l=on(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(t=b({src:t,async:!0},i),(i=Fn.get(h))&&ym(t,i),d=a.createElement("script"),vt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function JA(t,i){ei.M(t,i);var a=Za;if(a&&t){var l=on(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&ym(t,i),d=a.createElement("script"),vt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Sv(t,i,a,l){var h=(h=Te.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=on(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=on(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||eS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=on(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+At(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function xv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function eS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),vt(i),t.head.appendChild(i))}function eo(t){return'[src="'+At(t)+'"]'}function ql(t){return"script[async]"+t}function Rv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+At(a.href)+'"]');if(l)return i.instance=l,vt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Kt(l,"style",h),$c(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Bl(h));if(d)return i.state.loading|=4,i.instance=d,vt(d),d;l=xv(a),(h=Fn.get(h))&&gm(l,h),d=(t.ownerDocument||t).createElement("link"),vt(d);var v=d;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Kt(d,"link",l),i.state.loading|=4,$c(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(ql(d)))?(i.instance=h,vt(h),h):(l=a,(h=Fn.get(d))&&(l=b({},a),ym(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),vt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,t));return i.instance}function $c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ym(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xc=null;function Cv(t,i,a){if(Xc===null){var l=new Map,h=Xc=new Map;h.set(a,l)}else h=Xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function Iv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function tS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hl=null;function nS(){}function rS(t,i,a){if(Hl===null)throw Error(s(475));var l=Hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ja(a.href),d=t.querySelector(Bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Wc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,vt(d);return}d=t.ownerDocument||t,a=xv(a),(h=Fn.get(h))&&gm(a,h),d=d.createElement("link"),vt(d);var v=d;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Kt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Wc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function iS(){if(Hl===null)throw Error(s(475));var t=Hl;return t.stylesheets&&t.count===0&&_m(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&_m(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Wc(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zc=null;function _m(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zc=new Map,i.forEach(sS,t),Zc=null,Wc.call(t))}function sS(t,i){if(!(i.state.loading&4)){var a=Zc.get(t);if(a)var l=a.get(null);else{a=new Map,Zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Fl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function aS(t,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dv(t,i,a,l,h,d,v,E,C,q,X,Z){return t=new aS(t,i,a,v,E,C,q,Z),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=Jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},rd(d),t}function Ov(t){return t?(t=Da,t):Da}function kv(t,i,a,l,h,d){h=Ov(h),l.context===null?l.context=h:l.pendingContext=h,l=wi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ai(t,l,i),a!==null&&(Rn(a,t,i),bl(a,t,i))}function Mv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function vm(t,i){Mv(t,i),(t=t.alternate)&&Mv(t,i)}function Vv(t){if(t.tag===13){var i=Na(t,67108864);i!==null&&Rn(i,t,67108864),vm(t,67108864)}}var Jc=!0;function oS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,bm(t,i,a,l)}finally{ae.p=d,K.T=h}}function lS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,bm(t,i,a,l)}finally{ae.p=d,K.T=h}}function bm(t,i,a,l){if(Jc){var h=Em(l);if(h===null)om(t,i,l,eh,a),Lv(t,l);else if(cS(h,t,i,a,l))l.stopPropagation();else if(Lv(t,l),i&4&&-1<uS.indexOf(t)){for(;h!==null;){var d=rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Yn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-Zt(v);E.entanglements[1]|=C,v&=~C}yr(d),(Ze&6)===0&&(Lc=On()+500,Ll(0))}}break;case 13:E=Na(d,2),E!==null&&Rn(E,d,2),jc(),vm(d,2)}if(d=Em(l),d===null&&om(t,i,l,eh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else om(t,i,l,null,a)}}function Em(t){return t=Vn(t),Tm(t)}var eh=null;function Tm(t){if(eh=null,t=Or(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eh=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sf()){case qo:return 2;case ua:return 8;case ds:case xf:return 32;case ca:return 268435456;default:return 32}default:return 32}}var wm=!1,Li=null,Ui=null,ji=null,Gl=new Map,Ql=new Map,zi=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,i){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Yl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=rr(i),i!==null&&Vv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function cS(t,i,a,l,h){switch(i){case"focusin":return Li=Yl(Li,t,i,a,l,h),!0;case"dragenter":return Ui=Yl(Ui,t,i,a,l,h),!0;case"mouseover":return ji=Yl(ji,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Gl.set(d,Yl(Gl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ql.set(d,Yl(Ql.get(d)||null,t,i,a,l,h)),!0}return!1}function Uv(t){var i=Or(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ju(t.priority,function(){if(a.tag===13){var l=xn();l=mi(l);var h=Na(a,l);h!==null&&Rn(h,a,l),vm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pr=l,a.target.dispatchEvent(l),Pr=null}else return i=rr(a),i!==null&&Vv(i),t.blockedOn=a,!1;i.shift()}return!0}function jv(t,i,a){th(t)&&a.delete(i)}function hS(){wm=!1,Li!==null&&th(Li)&&(Li=null),Ui!==null&&th(Ui)&&(Ui=null),ji!==null&&th(ji)&&(ji=null),Gl.forEach(jv),Ql.forEach(jv)}function nh(t,i){t.blockedOn===i&&(t.blockedOn=null,wm||(wm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hS)))}var rh=null;function zv(t){rh!==t&&(rh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rh===t&&(rh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var d=rr(a);d!==null&&(t.splice(i,3),i-=3,Td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Kl(t){function i(C){return nh(C,t)}Li!==null&&nh(Li,t),Ui!==null&&nh(Ui,t),ji!==null&&nh(ji,t),Gl.forEach(i),Ql.forEach(i);for(var a=0;a<zi.length;a++){var l=zi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zi.length&&(a=zi[0],a.blockedOn===null);)Uv(a),a.blockedOn===null&&zi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[wt]||null;if(typeof d=="function")v||zv(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[wt]||null)E=v.formAction;else if(Tm(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),zv(a)}}}function Am(t){this._internalRoot=t}ih.prototype.render=Am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();kv(a,l,t,i,null,null)},ih.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;kv(t.current,2,null,t,null,null),jc(),i[kn]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var i=pi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zi.length&&i!==0&&i<zi[a].priority;a++);zi.splice(a,0,t),a===0&&Uv(t)}};var Bv=e.version;if(Bv!=="19.1.0")throw Error(s(527,Bv,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var fS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{mt=sh.inject(fS),We=sh}catch{}}return Xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=r_,d=i_,v=s_,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Dv(t,1,!1,null,null,a,l,h,d,v,E,null),t[kn]=i.current,am(t),new Am(i)},Xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=r_,v=i_,E=s_,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=Dv(t,1,!0,i,a??null,l,h,d,v,E,C,q),i.context=Ov(null),a=i.current,l=xn(),l=mi(l),h=wi(l),h.callback=null,Ai(a,h,l),a=l,i.current.lanes=a,Dr(i,a),yr(i),t[kn]=i.current,am(t),new ih(i)},Xl.version="19.1.0",Xl}var Wv;function TS(){if(Wv)return Rm.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=ES(),Rm.exports}var wS=TS();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zv="popstate";function AS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=aa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:hu(u))}function s(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return xS(e,n,s,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function Jv(r,e){return{usr:r.state,key:r.key,idx:e}}function Wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||s||SS()}}function hu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function aa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function A(){m="POP";let U=b(),G=U==null?null:U-g;g=U,p&&p({action:m,location:$.location,delta:G})}function x(U,G){m="PUSH";let se=Wm($.location,U,G);n&&n(se,U),g=b()+1;let ie=Jv(se,g),ge=$.createHref(se);try{f.pushState(ie,"",ge)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ge)}u&&p&&p({action:m,location:$.location,delta:1})}function V(U,G){m="REPLACE";let se=Wm($.location,U,G);n&&n(se,U),g=b();let ie=Jv(se,g),ge=$.createHref(se);f.replaceState(ie,"",ge),u&&p&&p({action:m,location:$.location,delta:0})}function B(U){return RS(U)}let $={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Zv,A),p=U,()=>{o.removeEventListener(Zv,A),p=null}},createHref(U){return e(o,U)},createURL:B,encodeLocation(U){let G=B(U);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:x,replace:V,go(U){return f.go(U)}};return $}function RS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jE(r,e,n="/"){return CS(r,e,n,!1)}function CS(r,e,n,s){let o=typeof e=="string"?aa(e):e,u=ai(o.pathname||"/",n);if(u==null)return null;let f=zE(r);IS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=zS(u);m=US(f[p],g,s)}return m}function zE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ii([s,p.relativePath]),b=n.concat(p);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),zE(u.children,e,b,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:PS(g,u.index),routesMeta:b})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of BE(u.path))o(u,f,m)}),e}function BE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=BE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function IS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:LS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NS=/^:[\w-]+$/,DS=3,OS=2,kS=1,MS=10,VS=-2,eb=r=>r==="*";function PS(r,e){let n=r.split("/"),s=n.length;return n.some(eb)&&(s+=VS),e&&(s+=OS),n.filter(o=>!eb(o)).reduce((o,u)=>o+(NS.test(u)?DS:u===""?kS:MS),s)}function LS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function US(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",A=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),x=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ii([u,A.pathname]),pathnameBase:FS(ii([u,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(u=ii([u,A.pathnameBase]))}return f}function Rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:A},x)=>{if(b==="*"){let B=m[x]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[x];return A&&!V?g[b]=void 0:g[b]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function jS(r,e=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ai(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function BS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?aa(r):r;return{pathname:n?n.startsWith("/")?n:qS(n,e):e,search:GS(s),hash:QS(o)}}function qS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mp(r){let e=HS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Vp(r,e,n,s=!1){let o;typeof r=="string"?o=aa(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}m=A>=0?e[A]:"/"}let p=BS(o,m),g=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var ii=r=>r.join("/").replace(/\/\/+/g,"/"),FS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),GS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function YS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var qE=["POST","PUT","PATCH","DELETE"];new Set(qE);var KS=["GET",...qE];new Set(KS);var No=Y.createContext(null);No.displayName="DataRouter";var Wh=Y.createContext(null);Wh.displayName="DataRouterState";Y.createContext(!1);var HE=Y.createContext({isTransitioning:!1});HE.displayName="ViewTransition";var $S=Y.createContext(new Map);$S.displayName="Fetchers";var XS=Y.createContext(null);XS.displayName="Await";var tr=Y.createContext(null);tr.displayName="Navigation";var wu=Y.createContext(null);wu.displayName="Location";var Ir=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Pp=Y.createContext(null);Pp.displayName="RouteError";function WS(r,{relative:e}={}){ht(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Y.useContext(tr),{hash:o,pathname:u,search:f}=Au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ii([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Do(){return Y.useContext(wu)!=null}function fi(){return ht(Do(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(wu).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(r){Y.useContext(tr).static||Y.useLayoutEffect(r)}function Zh(){let{isDataRoute:r}=Y.useContext(Ir);return r?c1():ZS()}function ZS(){ht(Do(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(No),{basename:e,navigator:n}=Y.useContext(tr),{matches:s}=Y.useContext(Ir),{pathname:o}=fi(),u=JSON.stringify(Mp(s)),f=Y.useRef(!1);return GE(()=>{f.current=!0}),Y.useCallback((p,g={})=>{if(Qn(f.current,FE),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=Vp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ii([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}Y.createContext(null);function Au(r,{relative:e}={}){let{matches:n}=Y.useContext(Ir),{pathname:s}=fi(),o=JSON.stringify(Mp(n));return Y.useMemo(()=>Vp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function JS(r,e){return QE(r,e)}function QE(r,e,n,s){ht(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(tr),{matches:u}=Y.useContext(Ir),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",b=f&&f.route;{let G=b&&b.path||"";YE(p,!b||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=fi(),x;if(e){let G=typeof e=="string"?aa(e):e;ht(g==="/"||G.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${G.pathname}" was given in the \`location\` prop.`),x=G}else x=A;let V=x.pathname||"/",B=V;if(g!=="/"){let G=g.replace(/^\//,"").split("/");B="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let $=jE(r,{pathname:B});Qn(b||$!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Qn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=i1($&&$.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:ii([g,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:ii([g,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return e&&U?Y.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function e1(){let r=u1(),e=YS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,f)}var t1=Y.createElement(e1,null),n1=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Y.createElement(Ir.Provider,{value:this.props.routeContext},Y.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r1({routeContext:r,match:e,children:n}){let s=Y.useContext(No);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Ir.Provider,{value:r},n)}function i1(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:b,errors:A}=n,x=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,b)=>{let A,x=!1,V=null,B=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||t1,f&&(m<0&&b===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,B=null):m===b&&(x=!0,B=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,b+1)),U=()=>{let G;return A?G=V:x?G=B:g.route.Component?G=Y.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,Y.createElement(r1,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?Y.createElement(n1,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function Lp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(r){let e=Y.useContext(No);return ht(e,Lp(r)),e}function a1(r){let e=Y.useContext(Wh);return ht(e,Lp(r)),e}function o1(r){let e=Y.useContext(Ir);return ht(e,Lp(r)),e}function Up(r){let e=o1(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function l1(){return Up("useRouteId")}function u1(){let r=Y.useContext(Pp),e=a1("useRouteError"),n=Up("useRouteError");return r!==void 0?r:e.errors?.[n]}function c1(){let{router:r}=s1("useNavigate"),e=Up("useNavigate"),n=Y.useRef(!1);return GE(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{Qn(n.current,FE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var tb={};function YE(r,e,n){!e&&!tb[r]&&(tb[r]=!0,Qn(!1,n))}Y.memo(h1);function h1({routes:r,future:e,state:n}){return QE(r,void 0,n,e)}function f1({to:r,replace:e,state:n,relative:s}){ht(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(tr);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Y.useContext(Ir),{pathname:f}=fi(),m=Zh(),p=Vp(r,Mp(u),f,s==="path"),g=JSON.stringify(p);return Y.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Fi(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=aa(n));let{pathname:p="/",search:g="",hash:b="",state:A=null,key:x="default"}=n,V=Y.useMemo(()=>{let B=ai(p,f);return B==null?null:{location:{pathname:B,search:g,hash:b,state:A,key:x},navigationType:s}},[f,p,g,b,A,x,s]);return Qn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:Y.createElement(tr.Provider,{value:m},Y.createElement(wu.Provider,{children:e,value:V}))}function m1({children:r,location:e}){return JS(Zm(r),e)}function Zm(r,e=[]){let n=[];return Y.Children.forEach(r,(s,o)=>{if(!Y.isValidElement(s))return;let u=[...e,o];if(s.type===Y.Fragment){n.push.apply(n,Zm(s.props.children,u));return}ht(s.type===Fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Zm(s.props.children,u)),n.push(f)}),n}var ph="get",gh="application/x-www-form-urlencoded";function Jh(r){return r!=null&&typeof r.tagName=="string"}function p1(r){return Jh(r)&&r.tagName.toLowerCase()==="button"}function g1(r){return Jh(r)&&r.tagName.toLowerCase()==="form"}function y1(r){return Jh(r)&&r.tagName.toLowerCase()==="input"}function _1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function v1(r,e){return r.button===0&&(!e||e==="_self")&&!_1(r)}var ah=null;function b1(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var E1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(r){return r!=null&&!E1.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function T1(r,e){let n,s,o,u,f;if(g1(r)){let m=r.getAttribute("action");s=m?ai(m,e):null,n=r.getAttribute("method")||ph,o=Om(r.getAttribute("enctype"))||gh,u=new FormData(r)}else if(p1(r)||y1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ai(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Om(r.getAttribute("formenctype"))||Om(m.getAttribute("enctype"))||gh,u=new FormData(m,r),!b1()){let{name:g,type:b,value:A}=r;if(b==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,A)}}else{if(Jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,s=null,o=gh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function w1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ai(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function A1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function x1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await A1(u,n);return f.links?f.links():[]}return[]}));return N1(s.flat(1).filter(S1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function nb(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function R1(r,e,{includeHydrateFallback:n}={}){return C1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function C1(r){return[...new Set(r)]}function I1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function N1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(I1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function KE(){let r=Y.useContext(No);return jp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function D1(){let r=Y.useContext(Wh);return jp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zp=Y.createContext(void 0);zp.displayName="FrameworkContext";function $E(){let r=Y.useContext(zp);return jp(r,"You must render this element inside a <HydratedRouter> element"),r}function O1(r,e){let n=Y.useContext(zp),[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:A}=e,x=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=G=>{G.forEach(se=>{f(se.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return x.current&&U.observe(x.current),()=>{U.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Wl(m,V),onBlur:Wl(p,B),onMouseEnter:Wl(g,V),onMouseLeave:Wl(b,B),onTouchStart:Wl(A,V)}]:[!1,x,{}]}function Wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function k1({page:r,...e}){let{router:n}=KE(),s=Y.useMemo(()=>jE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Y.createElement(V1,{page:r,matches:s,...e}):null}function M1(r){let{manifest:e,routeModules:n}=$E(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return x1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function V1({page:r,matches:e,...n}){let s=fi(),{manifest:o,routeModules:u}=$E(),{basename:f}=KE(),{loaderData:m,matches:p}=D1(),g=Y.useMemo(()=>nb(r,e,p,o,s,"data"),[r,e,p,o,s]),b=Y.useMemo(()=>nb(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,$=!1;if(e.forEach(G=>{let se=o.routes[G.route.id];!se||!se.hasLoader||(!g.some(ie=>ie.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||se.hasClientLoader?$=!0:B.add(G.route.id))}),B.size===0)return[];let U=w1(r,f,"data");return $&&B.size>0&&U.searchParams.set("_routes",e.filter(G=>B.has(G.route.id)).map(G=>G.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,e,r,u]),x=Y.useMemo(()=>R1(b,o),[b,o]),V=M1(b);return Y.createElement(Y.Fragment,null,A.map(B=>Y.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),x.map(B=>Y.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),V.map(({key:B,link:$})=>Y.createElement("link",{key:B,...$})))}function P1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.7.1")}catch{}function L1({basename:r,children:e,window:n}){let s=Y.useRef();s.current==null&&(s.current=AS({window:n,v5Compat:!0}));let o=s.current,[u,f]=Y.useState({action:o.action,location:o.location}),m=Y.useCallback(p=>{Y.startTransition(()=>f(p))},[f]);return Y.useLayoutEffect(()=>o.listen(m),[o,m]),Y.createElement(d1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:b,viewTransition:A,...x},V){let{basename:B}=Y.useContext(tr),$=typeof g=="string"&&WE.test(g),U,G=!1;if(typeof g=="string"&&$&&(U=g,XE))try{let R=new URL(window.location.href),k=g.startsWith("//")?new URL(R.protocol+g):new URL(g),M=ai(k.pathname,B);k.origin===R.origin&&M!=null?g=M+k.search+k.hash:G=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=WS(g,{relative:o}),[ie,ge,ue]=O1(s,x),_e=z1(g,{replace:f,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:A});function O(R){e&&e(R),R.defaultPrevented||_e(R)}let S=Y.createElement("a",{...x,...ue,href:U||se,onClick:G||u?e:O,ref:P1(V,ge),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ie&&!$?Y.createElement(Y.Fragment,null,S,Y.createElement(k1,{page:se})):S});ZE.displayName="Link";var eu=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},b){let A=Au(f,{relative:g.relative}),x=fi(),V=Y.useContext(Wh),{navigator:B,basename:$}=Y.useContext(tr),U=V!=null&&G1(A)&&m===!0,G=B.encodeLocation?B.encodeLocation(A).pathname:A.pathname,se=x.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(se=se.toLowerCase(),ie=ie?ie.toLowerCase():null,G=G.toLowerCase()),ie&&$&&(ie=ai(ie,$)||ie);const ge=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ue=se===G||!o&&se.startsWith(G)&&se.charAt(ge)==="/",_e=ie!=null&&(ie===G||!o&&ie.startsWith(G)&&ie.charAt(G.length)==="/"),O={isActive:ue,isPending:_e,isTransitioning:U},S=ue?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ue?"active":null,_e?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(O):u;return Y.createElement(ZE,{...g,"aria-current":S,className:R,ref:b,style:k,to:f,viewTransition:m},typeof p=="function"?p(O):p)});eu.displayName="NavLink";var U1=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ph,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:A,...x},V)=>{let B=H1(),$=F1(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&WE.test(m),se=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ge=ie.nativeEvent.submitter,ue=ge?.getAttribute("formmethod")||f;B(ge||ie.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:A})};return Y.createElement("form",{ref:V,method:U,action:$,onSubmit:s?p:se,...x,"data-discover":!G&&r==="render"?"true":void 0})});U1.displayName="Form";function j1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(r){let e=Y.useContext(No);return ht(e,j1(r)),e}function z1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Zh(),p=fi(),g=Au(r,{relative:u});return Y.useCallback(b=>{if(v1(b,e)){b.preventDefault();let A=n!==void 0?n:hu(p)===hu(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var B1=0,q1=()=>`__${String(++B1)}__`;function H1(){let{router:r}=JE("useSubmit"),{basename:e}=Y.useContext(tr),n=l1();return Y.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=T1(s,e);if(o.navigate===!1){let b=o.fetcherKey||q1();await r.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function F1(r,{relative:e}={}){let{basename:n}=Y.useContext(tr),s=Y.useContext(Ir);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(r||".",{relative:e})},f=fi();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),hu(u)}function G1(r,{relative:e}={}){let n=Y.useContext(HE);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JE("useViewTransitionState"),o=Au(r,{relative:e});if(!n.isTransitioning)return!1;let u=ai(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ai(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Rh(o.pathname,f)!=null||Rh(o.pathname,u)!=null}const Q1=()=>{};var rb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Y1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(x=64)),s.push(n[b],n[A],n[x],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(eT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Y1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new K1;const x=u<<2|m>>4;if(s.push(x),g!==64){const V=m<<4&240|g>>2;if(s.push(V),A!==64){const B=g<<6&192|A;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $1=function(r){const e=eT(r);return tT.encodeByteArray(e,!0)},Ch=function(r){return $1(r).replace(/\./g,"")},nT=function(r){try{return tT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=()=>X1().__FIREBASE_DEFAULTS__,Z1=()=>{if(typeof process>"u"||typeof rb>"u")return;const r=rb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},J1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&nT(r[1]);return e&&JSON.parse(e)},ef=()=>{try{return Q1()||W1()||Z1()||J1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},rT=r=>ef()?.emulatorHosts?.[r],ex=r=>{const e=rT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iT=()=>ef()?.config,sT=r=>ef()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(f)),""].join(".")}const su={};function rx(){const r={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?r.emulator.push(e):r.prod.push(e);return r}function ix(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let ib=!1;function oT(r,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||su[r]===e||su[r]||ib)return;su[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=rx().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,V){x.setAttribute("width","24"),x.setAttribute("id",V),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{ib=!0,f()},x}function b(x,V){x.setAttribute("id",V),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=ix(s),V=n("text"),B=document.getElementById(V)||document.createElement("span"),$=n("learnmore"),U=document.getElementById($)||document.createElement("a"),G=n("preprendIcon"),se=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ie=x.element;m(ie),b(U,$);const ge=g();p(se,G),ie.append(se,B,U,ge),document.body.appendChild(ie)}u?(B.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function ax(){const r=ef()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ox(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cx(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function hx(){return!ax()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fx(){try{return typeof indexedDB=="object"}catch{return!1}}function dx(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="FirebaseError";class di extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mx,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?px(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new di(o,m,s)}}function px(r,e){return r.replace(gx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const gx=/\{\$([^}]+)}/g;function yx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(sb(u)&&sb(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function sb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _x(r,e){const n=new vx(r,e);return n.subscribe.bind(n)}class vx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=km),o.error===void 0&&(o.error=km),o.complete===void 0&&(o.complete=km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new tx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wx(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Tx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tx(r){return r===Ks?void 0:r}function wx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ex(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const Sx={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},xx=Pe.INFO,Rx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Cx=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Rx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bp{constructor(e){this.name=e,this._logLevel=xx,this._logHandler=Cx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Ix=(r,e)=>e.some(n=>r instanceof n);let ab,ob;function Nx(){return ab||(ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dx(){return ob||(ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,Jm=new WeakMap,uT=new WeakMap,Mm=new WeakMap,qp=new WeakMap;function Ox(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Xi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,r)}).catch(()=>{}),qp.set(e,r),e}function kx(r){if(Jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Jm.set(r,e)}let ep={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||uT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Mx(r){ep=r(ep)}function Vx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Vm(this),e,...n);return uT.set(s,e.sort?e.sort():[e]),Xi(s)}:Dx().includes(r)?function(...e){return r.apply(Vm(this),e),Xi(lT.get(this))}:function(...e){return Xi(r.apply(Vm(this),e))}}function Px(r){return typeof r=="function"?Vx(r):(r instanceof IDBTransaction&&kx(r),Ix(r,Nx())?new Proxy(r,ep):r)}function Xi(r){if(r instanceof IDBRequest)return Ox(r);if(Mm.has(r))return Mm.get(r);const e=Px(r);return e!==r&&(Mm.set(r,e),qp.set(e,r)),e}const Vm=r=>qp.get(r);function Lx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Xi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Xi(f.result),p.oldVersion,p.newVersion,Xi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Ux=["get","getKey","getAll","getAllKeys","count"],jx=["put","add","delete","clear"],Pm=new Map;function lb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ux.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Pm.set(e,u),u}Mx(r=>({...r,get:(e,n,s)=>lb(e,n)||r.get(e,n,s),has:(e,n)=>!!lb(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Bx(r){return r.getComponent()?.type==="VERSION"}const tp="@firebase/app",ub="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Bp("@firebase/app"),qx="@firebase/app-compat",Hx="@firebase/analytics-compat",Fx="@firebase/analytics",Gx="@firebase/app-check-compat",Qx="@firebase/app-check",Yx="@firebase/auth",Kx="@firebase/auth-compat",$x="@firebase/database",Xx="@firebase/data-connect",Wx="@firebase/database-compat",Zx="@firebase/functions",Jx="@firebase/functions-compat",eR="@firebase/installations",tR="@firebase/installations-compat",nR="@firebase/messaging",rR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",aR="@firebase/remote-config",oR="@firebase/remote-config-compat",lR="@firebase/storage",uR="@firebase/storage-compat",cR="@firebase/firestore",hR="@firebase/ai",fR="@firebase/firestore-compat",dR="firebase",mR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",pR={[tp]:"fire-core",[qx]:"fire-core-compat",[Fx]:"fire-analytics",[Hx]:"fire-analytics-compat",[Qx]:"fire-app-check",[Gx]:"fire-app-check-compat",[Yx]:"fire-auth",[Kx]:"fire-auth-compat",[$x]:"fire-rtdb",[Xx]:"fire-data-connect",[Wx]:"fire-rtdb-compat",[Zx]:"fire-fn",[Jx]:"fire-fn-compat",[eR]:"fire-iid",[tR]:"fire-iid-compat",[nR]:"fire-fcm",[rR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[aR]:"fire-rc",[oR]:"fire-rc-compat",[lR]:"fire-gcs",[uR]:"fire-gcs-compat",[cR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,gR=new Map,rp=new Map;function cb(r,e){try{r.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function bo(r){const e=r.name;if(rp.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,r);for(const n of Ih.values())cb(n,r);for(const n of gR.values())cb(n,r);return!0}function Hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function vr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Su("app","Firebase",yR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=mR;function cT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:np,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(n||(n=iT()),!n)throw Wi.create("no-options");const u=Ih.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw Wi.create("duplicate-app",{appName:o})}const f=new Ax(o);for(const p of rp.values())f.addComponent(p);const m=new _R(n,s,f);return Ih.set(o,m),m}function hT(r=np){const e=Ih.get(r);if(!e&&r===np&&iT())return cT();if(!e)throw Wi.create("no-app",{appName:r});return e}function Zi(r,e,n){let s=pR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(f.join(" "));return}bo(new ea(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebase-heartbeat-database",bR=1,fu="firebase-heartbeat-store";let Lm=null;function fT(){return Lm||(Lm=Lx(vR,bR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wi.create("idb-open",{originalErrorMessage:r.message})})),Lm}async function ER(r){try{const n=(await fT()).transaction(fu),s=await n.objectStore(fu).get(dT(r));return await n.done,s}catch(e){if(e instanceof di)oi.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}}async function hb(r,e){try{const s=(await fT()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,dT(r)),await s.done}catch(n){if(n instanceof di)oi.warn(n.message);else{const s=Wi.create("idb-set",{originalErrorMessage:n?.message});oi.warn(s.message)}}}function dT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,wR=30;class AR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>wR){const o=RR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fb(),{heartbeatsToSend:n,unsentEntries:s}=SR(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return oi.warn(e),""}}}function fb(){return new Date().toISOString().substring(0,10)}function SR(r,e=TR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),db(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),db(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fx()?dx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ER(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function db(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function RR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r){bo(new ea("platform-logger",e=>new zx(e),"PRIVATE")),bo(new ea("heartbeat",e=>new AR(e),"PRIVATE")),Zi(tp,ub,r),Zi(tp,ub,"esm2020"),Zi("fire-js","")}CR("");var mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,mT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(k,M,P){for(var I=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)I[_t-2]=arguments[_t];return S.prototype[M].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,R){R||(R=0);var k=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)k[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)k[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],M=O.g[2];var P=O.g[3],I=S+(P^R&(M^P))+k[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+k[1]+3905402710&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+k[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+k[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(P^R&(M^P))+k[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+k[5]+1200080426&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+k[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+k[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(P^R&(M^P))+k[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+k[9]+2336552879&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+k[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+k[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(P^R&(M^P))+k[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+k[13]+4254626195&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+k[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+k[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(M^P&(R^M))+k[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+k[6]+3225465664&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+k[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+k[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(R^M))+k[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+k[10]+38016083&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+k[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+k[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(R^M))+k[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+k[14]+3275163606&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+k[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+k[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(R^M))+k[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+k[2]+4243563512&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+k[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+k[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(R^M^P)+k[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+k[8]+2272392833&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+k[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+k[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^P)+k[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+k[4]+1272893353&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+k[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+k[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^P)+k[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+k[0]+3936430074&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+k[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+k[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^P)+k[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+k[12]+3873151461&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+k[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+k[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(M^(R|~P))+k[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+k[7]+1126891415&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+k[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+k[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~P))+k[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+k[3]+2399980690&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+k[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+k[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~P))+k[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+k[15]+4264355552&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+k[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+k[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~P))+k[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+k[11]+3174756917&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+k[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,k=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=R;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<S;)if(k[M++]=O.charCodeAt(P++),M==this.blockSize){o(this,k),M=0;break}}else for(;P<S;)if(k[M++]=O[P++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var k=0;32>k;k+=8)O[R++]=this.g[S]>>>k&255;return O};function u(O,S){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function f(O,S){this.h=S;for(var R=[],k=!0,M=O.length-1;0<=M;M--){var P=O[M]|0;k&&P==S||(R[M]=P,k=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?u(O,function(S){return new f([S|0],0>S?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return U(g(-O));for(var S=[],R=1,k=0;O>=R;k++)S[k]=O/R|0,R*=4294967296;return new f(S,0)}function b(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return U(b(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),k=A,M=0;M<O.length;M+=8){var P=Math.min(8,O.length-M),I=parseInt(O.substring(M,M+P),S);8>P?(P=g(Math.pow(S,P)),k=k.j(P).add(g(I))):(k=k.j(R),k=k.add(g(I)))}return k}var A=p(0),x=p(1),V=p(16777216);r=f.prototype,r.m=function(){if($(this))return-U(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var k=this.i(R);O+=(0<=k?k:4294967296+k)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(B(this))return"0";if($(this))return"-"+U(this).toString(O);for(var S=g(Math.pow(O,6)),R=this,k="";;){var M=ge(R,S).g;R=G(R,M.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,B(R))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function B(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function $(O){return O.h==-1}r.l=function(O){return O=G(this,O),$(O)?-1:B(O)?0:1};function U(O){for(var S=O.g.length,R=[],k=0;k<S;k++)R[k]=~O.g[k];return new f(R,~O.h).add(x)}r.abs=function(){return $(this)?U(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],k=0,M=0;M<=S;M++){var P=k+(this.i(M)&65535)+(O.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);k=I>>>16,P&=65535,I&=65535,R[M]=I<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function G(O,S){return O.add(U(S))}r.j=function(O){if(B(this)||B(O))return A;if($(this))return $(O)?U(this).j(U(O)):U(U(this).j(O));if($(O))return U(this.j(U(O)));if(0>this.l(V)&&0>O.l(V))return g(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],k=0;k<2*S;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<O.g.length;M++){var P=this.i(k)>>>16,I=this.i(k)&65535,_t=O.i(M)>>>16,$e=O.i(M)&65535;R[2*k+2*M]+=I*$e,se(R,2*k+2*M),R[2*k+2*M+1]+=P*$e,se(R,2*k+2*M+1),R[2*k+2*M+1]+=I*_t,se(R,2*k+2*M+1),R[2*k+2*M+2]+=P*_t,se(R,2*k+2*M+2)}for(k=0;k<S;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=S;k<2*S;k++)R[k]=0;return new f(R,0)};function se(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ie(O,S){this.g=O,this.h=S}function ge(O,S){if(B(S))throw Error("division by zero");if(B(O))return new ie(A,A);if($(O))return S=ge(U(O),S),new ie(U(S.g),U(S.h));if($(S))return S=ge(O,U(S)),new ie(U(S.g),S.h);if(30<O.g.length){if($(O)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,k=S;0>=k.l(O);)R=ue(R),k=ue(k);var M=_e(R,1),P=_e(k,1);for(k=_e(k,2),R=_e(R,2);!B(k);){var I=P.add(k);0>=I.l(O)&&(M=M.add(R),P=I),k=_e(k,1),R=_e(R,1)}return S=G(O,M.j(S)),new ie(M,S)}for(M=A;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=g(R),I=P.j(S);$(I)||0<I.l(O);)R-=k,P=g(R),I=P.j(S);B(P)&&(P=x),M=M.add(P),O=G(O,I)}return new ie(M,O)}r.A=function(O){return ge(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)&O.i(k);return new f(R,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)|O.i(k);return new f(R,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)^O.i(k);return new f(R,this.h^O.h)};function ue(O){for(var S=O.g.length+1,R=[],k=0;k<S;k++)R[k]=O.i(k)<<1|O.i(k-1)>>>31;return new f(R,O.h)}function _e(O,S){var R=S>>5;S%=32;for(var k=O.g.length-R,M=[],P=0;P<k;P++)M[P]=0<S?O.i(P+R)>>>S|O.i(P+R+1)<<32-S:O.i(P+R);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,Ji=f}).apply(typeof mb<"u"?mb:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pT,tu,gT,yh,ip,yT,_T,vT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break e;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function b(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function x(c,y,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,x.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function B(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,Q){for(var oe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)oe[Be-2]=arguments[Be];return y.prototype[j].apply(w,oe)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const j=c.length||0,Q=w.length||0;c.length=j+Q;for(let oe=0;oe<Q;oe++)c[j+oe]=w[oe]}else c.push(w)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var ue=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function _e(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function M(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class _t{constructor(){this.h=this.g=null}add(y,_){const w=$e.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var $e=new G(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,re=!1,ze=new _t,N=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){P(_)}var y=$e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}re=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{ge(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}B(Ce,ne);var Te={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function an(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++Xe,this.da=this.fa=!1}function yn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,y,_,w,j){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=hs(c,y,w,j);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new an(y,this.src,Q,!!w,j),y.fa=_,c.push(y)),y};function Dn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=0<=j)&&Array.prototype.splice.call(w,j,1),Q&&(yn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function hs(c,y,_,w){for(var j=0;j<c.length;++j){var Q=c[j];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==w)return j}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),Bo={};function Pu(c,y,_,w,j){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Pu(c,y[Q],_,w,j);return null}return _=Lu(_),c&&c[ke]?c.K(y,_,g(w)?!!w.capture:!1,j):On(c,y,_,!1,w,j)}function On(c,y,_,w,j,Q){if(!y)throw Error("Invalid event type");var oe=g(j)?!!j.capture:!!j,Be=ca(c);if(Be||(c[fs]=Be=new _n(c)),_=Be.add(y,_,w,oe,Q),_.proxy)return _;if(w=Sf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)he||(j=oe),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(ds(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sf(){function c(_){return y.call(c.src,c.listener,_)}const y=xf;return c}function qo(c,y,_,w,j){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)qo(c,y[Q],_,w,j);else w=g(w)?!!w.capture:!!w,_=Lu(_),c&&c[ke]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=hs(Q,_,w,j),-1<_&&(yn(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ca(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hs(y,_,w,j)),(_=-1<c?y[c]:null)&&ua(_))}function ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ke])Dn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ds(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=ca(y))?(Dn(_,c),_.h==0&&(_.src=null,y[fs]=null)):yn(c)}}}function ds(c){return c in Bo?Bo[c]:Bo[c]="on"+c}function xf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&ua(c),c=_.call(w,y)}return c}function ca(c){return c=c[fs],c instanceof _n?c:null}var Ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(c){return typeof c=="function"?c:(c[Ho]||(c[Ho]=function(y){return c.handleEvent(y)}),c[Ho])}function mt(){le.call(this),this.i=new _n(this),this.M=this,this.F=null}B(mt,le),mt.prototype[ke]=!0,mt.prototype.removeEventListener=function(c,y,_,w){qo(this,c,y,_,w)};function We(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ne(y,c);else if(y instanceof ne)y.target=y.target||c;else{var j=y;y=new ne(w,c),k(y,j)}if(j=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=y.g=_[Q];j=vn(oe,w,!0,y)&&j}if(oe=y.g=c,j=vn(oe,w,!0,y)&&j,j=vn(oe,w,!1,y)&&j,_)for(Q=0;Q<_.length;Q++)oe=y.g=_[Q],j=vn(oe,w,!1,y)&&j}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)yn(_[w]);delete c.g[y],c.h--}}this.F=null},mt.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},mt.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function vn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==_){var Be=oe.listener,Nt=oe.ha||oe.src;oe.fa&&Dn(c.i,oe),j=Be.call(Nt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Zt(c,y,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Uu(c){c.g=Zt(()=>{c.g=null,c.i&&(c.i=!1,Uu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Rf extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){le.call(this),this.h=c,this.g={}}B(ms,le);var ps=[];function gs(c){_e(c.g,function(y,_){this.g.hasOwnProperty(_)&&ua(y)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),gs(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=m.JSON.stringify,ha=m.JSON.parse,ys=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function Go(c){return c.h||(c.h=c.i())}function Qo(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){ne.call(this,"d")}B(Dr,ne);function Yo(){ne.call(this,"c")}B(Yo,ne);var nr={},Ko=null;function mi(){return Ko=Ko||new mt}nr.La="serverreachability";function fa(c){ne.call(this,nr.La,c)}B(fa,ne);function pi(c){const y=mi();We(y,new fa(y))}nr.STAT_EVENT="statevent";function ju(c,y){ne.call(this,nr.STAT_EVENT,c),this.stat=y}B(ju,ne);function ut(c){const y=mi();We(y,new ju(y,c))}nr.Ma="timingevent";function It(c,y){ne.call(this,nr.Ma,c),this.size=y}B(It,ne);function wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function $o(c,y,_,w,j,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Be=Q.split("&"),Nt=0;Nt<Be.length;Nt++){var qe=Be[Nt].split("=");if(1<qe.length){var jt=qe[0];qe=qe[1];var Dt=jt.split("_");oe=2<=Dt.length&&Dt[1]=="type"?oe+(jt+"="+qe+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+oe})}function Cf(c,y,_,w,j,Q,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+Q+" "+oe})}function gi(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_s(c,_)+(w?" "+w:"")})}function zu(c,y){c.info(function(){return"TIMEOUT: "+y})}kn.prototype.info=function(){};function _s(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Yn(_)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function ir(){}B(ir,Fo),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},rr=new ir;function on(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Xo={},da={};function Kn(c,y,_){c.L=1,c.v=ws(bn(y)),c.m=_,c.P=!0,kr(c,null)}function kr(c,y){c.F=Date.now(),vs(c),c.A=bn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),nl(_.i,"t",w),c.C=0,_=c.j.J,c.h=new vt,c.g=nc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Rf(x(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ps[0]=j.toString()),j=ps);for(var Q=0;Q<j.length;Q++){var oe=Pu(_,j[Q],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pi(),$o(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const y=this.M;y&&Ln(c)==3?y.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Ln(this.g);var y=this.g.Ba();const Br=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=Br?pi(3):pi(2)),_i(this);var _=this.g.Z();this.X=_;t:if(Bu(this)){var w=Ku(this.g);c="";var j=w.length,Q=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),sr(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Q&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Cf(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Be)){var qe=Be;break t}}qe=null}if(_=qe)gi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bs(this,_);else{this.o=!1,this.s=3,ut(12),Ft(this),sr(this);break e}}if(this.P){_=!0;let Gt;for(;!this.J&&this.C<oe.length;)if(Gt=qu(this,oe),Gt==da){Dt==4&&(this.s=4,ut(14),_=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Xo){this.s=4,ut(15),gi(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else gi(this.i,this.l,Gt,null),bs(this,Gt);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||oe.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)gi(this.i,this.l,oe,"[Invalid Chunked Response]"),Ft(this),sr(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ds(jt),jt.M=!0,ut(11))}}else gi(this.i,this.l,oe,null),bs(this,oe);Dt==4&&Ft(this),this.o&&!this.J&&(Dt==4?Ju(this.j,this):(this.o=!1,vs(this)))}else kf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Ft(this),sr(this)}}}catch{}finally{}};function Bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?da:(_=Number(y.substring(_,w)),isNaN(_)?Xo:(w+=1,w+_>y.length?da:(y=y.slice(w,w+_),c.C=w+_,y)))}on.prototype.cancel=function(){this.J=!0,Ft(this)};function vs(c){c.S=Date.now()+c.I,Hu(c,c.I)}function Hu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(x(c.ba,c),y)}function _i(c){c.B&&(m.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(zu(this.i,this.A),this.L!=2&&(pi(),ut(17)),Ft(this),this.s=2,sr(this)):Hu(this,this.S-c)};function sr(c){c.j.G==0||c.J||Ju(c.j,c)}function Ft(c){_i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function bs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Wo(_.h,c))){if(!c.K&&Wo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),wa(_);else break e;ol(_),ut(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=wt(x(_.Za,_),6e3));if(1>=pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else zr(_,11)}else if((c.K||_.g==c)&&Sa(_),!se(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let qe=j[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const jt=qe[3];jt!=null&&(_.la=jt,_.j.info("VER="+_.la));const Dt=qe[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const Br=qe[5];Br!=null&&typeof Br=="number"&&0<Br&&(w=1.5*Br,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Gt=c.g;if(Gt){const fr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var Q=w.h;Q.g||fr.indexOf("spdy")==-1&&fr.indexOf("quic")==-1&&fr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ga(Q,Q.h),Q.h=null))}if(w.D){const ul=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(w.ya=ul,et(w.I,w.D,ul))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var oe=c;if(w.qa=tc(w,w.J?w.ia:null,w.W),oe.K){ln(w.h,oe);var Be=oe,Nt=w.L;Nt&&(Be.I=Nt),Be.B&&(_i(Be),vs(Be)),w.g=oe}else Wu(w);0<_.i.length&&Aa(_)}else qe[0]!="stop"&&qe[0]!="close"||zr(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?zr(_,7):sl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}pi(4)}catch{}}var Fu=class{constructor(c,y){this.g=c,this.map=y}};function Mr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pa(c){return c.h?1:c.g?c.g.size:0}function Wo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ga(c,y){c.g?c.g.add(y):c.h=y}function ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mr.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function If(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ya(c),w=If(c),j=w.length,Q=0;Q<j;Q++)y.call(void 0,w[Q],_&&_[Q],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var Q=c[_].substring(0,w);j=c[_].substring(w+1)}else Q=c[_];y(Q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function At(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof At){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,_=new Pr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Vr(this,_),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,Ts(this,y[1]||"",!0),this.o=Mn(y[2]||""),this.g=Mn(y[3]||"",!0),vi(this,y[4]),this.l=Mn(y[5]||"",!0),Vr(this,y[6]||"",!0),this.m=Mn(y[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}At.prototype.toString=function(){var c=[],y=this.j;y&&c.push(As(y,el,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(As(y,el,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(As(_,_.charAt(0)=="/"?Df:tl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",As(_,_a)),c.join("")};function bn(c){return new At(c)}function Ts(c,y,_){c.j=_?Mn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vr(c,y,_){y instanceof Pr?(c.i=y,Qu(c.i,c.h)):(_||(y=As(y,Of)),c.i=new Pr(y,c.h))}function et(c,y,_){c.i.set(y,_)}function ws(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Gu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Df=/[#\?]/g,Of=/[#\?@]/g,_a=/#/g;function Pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Pr.prototype,r.add=function(c,y){Vn(this),this.i=null,c=ar(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Lr(c,y){Vn(c),y=ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ur(c,y){return Vn(c),y=ar(c,y),c.g.has(y)}r.forEach=function(c,y){Vn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let Q=0;Q<j.length;Q++)_.push(y[w])}return _},r.V=function(c){Vn(this);let y=[];if(typeof c=="string")Ur(this,c)&&(y=y.concat(this.g.get(ar(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Vn(this),this.i=null,c=ar(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function nl(c,y,_){Lr(c,y),0<_.length&&(c.i=null,c.g.set(ar(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Q=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var j=Q;oe[w]!==""&&(j+="="+encodeURIComponent(String(oe[w]))),c.push(j)}}return this.i=c.join("&")};function ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qu(c,y){y&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(Lr(this,w),nl(this,j,_))},c)),c.j=y}function Ss(c,y){const _=new kn;if(m.Image){const w=new Image;w.onload=V(Pn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=V(Pn,_,"TestLoadImage: error",!1,y,w),w.onabort=V(Pn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(Pn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function $n(c,y){const _=new kn,w=new AbortController,j=setTimeout(()=>{w.abort(),Pn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(j),Q.ok?Pn(_,"TestPingServer: ok",!0,y):Pn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Pn(_,"TestPingServer: error",!1,y)})}function Pn(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function xs(){this.g=new ys}function or(c,y,_){const w=_||"";try{Jo(c,function(j,Q){let oe=j;g(j)&&(oe=Yn(j)),y.push(w+Q+"="+encodeURIComponent(oe))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function bi(c){this.l=c.Ub||null,this.j=c.eb||!1}B(bi,Fo),bi.prototype.g=function(){return new jr(this.l,this.j)},bi.prototype.i=function(c){return function(){return c}}({});function jr(c,y){mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(jr,mt),r=jr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ur(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?lr(this):ur(this),this.readyState==3&&rl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},r.Qa=function(c){this.g&&(this.response=c,lr(this))},r.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function il(c){let y="";return _e(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Ut(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=il(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):et(c,y,_))}function Ye(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ye,mt);var va=/^https?$/i,Rs=["POST","PUT"];r=Ye.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?Go(this.o):Go(rr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Yu(this,Q);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())_.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Yu(this,Q)}};function Yu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),cr(c)}function ba(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Zt(c.Ea,0,c);else if(We(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=oe===0){var j=String(c.D).match(Es)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!va.test(j?j.toLowerCase():"")}_=w}if(_)We(c,"complete"),We(c,"success");else{c.m=6;try{var Q=2<Ln(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ba(c)}}finally{cr(c)}}}}function cr(c,y){if(c.g){Cs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{_.onreadystatechange=w}catch{}}}function Cs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ha(y)}};function Ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(c){const y={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(se(c[w]))continue;var _=M(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[j]||[];y[j]=Q,Q.push(_)}O(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,c),this.cb=Is("retryDelaySeedMs",1e4,c),this.Wa=Is("forwardChannelMaxRetries",2,c),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ta.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){ut(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=tc(this,null,this.W),Aa(this)};function sl(c){if($u(c),c.G==3){var y=c.U++,_=bn(c.I);if(et(_,"SID",c.K),et(_,"RID",y),et(_,"TYPE","terminate"),Ns(c,_),y=new on(c,c.j,y),y.L=2,y.v=ws(bn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vs(y)}ec(c)}function wa(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function $u(c){wa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Aa(c){if(!ma(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||N(),re||(ae(),re=!0),ze.add(y,c),c.B=0}}function Mf(c,y){return pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(x(c.Ga,c,y),ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new on(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=S(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(j.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Xu(this,j,y),_=bn(this.I),et(_,"RID",c),et(_,"CVER",22),this.D&&et(_,"X-HTTP-Session-Id",this.D),Ns(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(il(Q)))+"&"+y:this.m&&Ut(_,this.m,Q)),ga(this.h,j),this.Ua&&et(_,"TYPE","init"),this.P?(et(_,"$req",y),et(_,"SID","null"),j.T=!0,Kn(j,_,null)):Kn(j,_,y),this.G=2}}else this.G==3&&(c?al(this,c):this.i.length==0||ma(this.h)||al(this))};function al(c,y){var _;y?_=y.l:_=c.U++;const w=bn(c.I);et(w,"SID",c.K),et(w,"RID",_),et(w,"AID",c.T),Ns(c,w),c.m&&c.o&&Ut(w,c.m,c.o),_=new on(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Xu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,_),Kn(_,w,y)}function Ns(c,y){c.H&&_e(c.H,function(_,w){et(y,w,_)}),c.l&&Jo({},function(_,w){et(y,w,_)})}function Xu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?x(c.l.Na,c.l,c):null;e:{var j=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=j[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Be=!0;for(let Nt=0;Nt<_;Nt++){let qe=j[Nt].g;const jt=j[Nt].map;if(qe-=Q,0>qe)Q=Math.max(0,j[Nt].g-100),Be=!1;else try{or(jt,oe,"req"+qe+"_")}catch{w&&w(jt)}}if(Be){w=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||N(),re||(ae(),re=!0),ze.add(y,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(x(c.Fa,c),ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),wa(this),Zu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=bn(c.qa);et(y,"RID","rpc"),et(y,"SID",c.K),et(y,"AID",c.T),et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(y,"TO",c.ja),et(y,"TYPE","xmlhttp"),Ns(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ws(bn(y)),_.m=null,_.P=!0,kr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,wa(this),ol(this),ut(19))};function Sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ju(c,y){var _=null;if(c.g==y){Sa(c),Ds(c),c.g=null;var w=2}else if(Wo(c.h,y))_=y.D,ln(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=mi(),We(w,new It(w,_)),Aa(c)}else Wu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&Mf(c,y)||w==2&&ol(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function ll(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function zr(c,y){if(c.j.info("Error code "+y),y==2){var _=x(c.fb,c),w=c.Xa;const j=!w;w=new At(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ts(w,"https"),ws(w),j?Ss(w.toString(),_):$n(w.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(y),ec(c),$u(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function ec(c){if(c.G=0,c.ka=[],c.l){const y=Zo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function tc(c,y,_){var w=_ instanceof At?bn(_):new At(_);if(w.g!="")y&&(w.g=y+"."+w.g),vi(w,w.s);else{var j=m.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Q=new At(null);w&&Ts(Q,w),y&&(Q.g=y),j&&vi(Q,j),_&&(Q.l=_),w=Q}return _=c.D,y=c.ya,_&&y&&et(w,_,y),et(w,"VER",c.la),Ns(c,w),w}function nc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new bi({eb:_})):new Ye(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new un(c,y)};function un(c,y){mt.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new hr(this)}B(un,mt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){sl(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Yn(c),c=_);y.i.push(new Fu(y.Ya++,c)),y.G==3&&Aa(y)},un.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,un.aa.N.call(this)};function ic(c){Dr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(ic,Dr);function sc(){Yo.call(this),this.status=1}B(sc,Yo);function hr(c){this.g=c}B(hr,rc),hr.prototype.ua=function(){We(this.g,"a")},hr.prototype.ta=function(c){We(this.g,new ic(c))},hr.prototype.sa=function(c){We(this.g,new sc)},hr.prototype.ra=function(){We(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,vT=function(){return new xa},_T=function(){return mi()},yT=nr,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,yh=yi,Or.COMPLETE="complete",gT=Or,Qo.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,tu=Qo,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,pT=Ye}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const pb="@firebase/firestore",gb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Bp("@firebase/firestore");function lo(){return ta.logLevel}function ce(r,...e){if(ta.logLevel<=Pe.DEBUG){const n=e.map(Fp);ta.debug(`Firestore (${Mo}): ${r}`,...n)}}function li(r,...e){if(ta.logLevel<=Pe.ERROR){const n=e.map(Fp);ta.error(`Firestore (${Mo}): ${r}`,...n)}}function Eo(r,...e){if(ta.logLevel<=Pe.WARN){const n=e.map(Fp);ta.warn(`Firestore (${Mo}): ${r}`,...n)}}function Fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,bT(r,s,n)}function bT(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw li(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||bT(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DR{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new si,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new si)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new ET(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class OR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function sp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Um(o)===Um(u)?Le(o,u):Um(o)?1:-1}return Le(r.length,e.length)}const PR=55296,LR=57343;function Um(r){const e=r.charCodeAt(0);return e>=PR&&e<=LR}function To(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__name__";class _r{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=_r.isNumericId(e),o=_r.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class ot extends _r{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends _r{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_b}static keyField(){return new Xt([_b])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(r,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jR(r,e,n,s){if(e===!0&&s===!0)throw new pe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vb(r){if(!ve.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bb(r){if(ve.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Qp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function ts(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(r);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ru(r,e){if(!wT(r))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new pe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-62135596800,Tb=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Tb);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Eb)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tb}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ct("string",lt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new lt(0,0))}static max(){return new xe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function zR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new ns(o,ve.empty(),e)}function BR(r){return new ns(r.readTime,r.key,du)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(xe.min(),ve.empty(),du)}static max(){return new ns(xe.max(),ve.empty(),du)}}function qR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==HR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(b=>{f[g]=b,++m,m===u&&s(f)},b=>o(b))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function GR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-1;function nf(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function QR(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="";function YR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=wb(e)),e=KR(r.get(n),e);return wb(e)}function KR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case AT:n+="";break;default:n+=u}}return n}function wb(r){return r+AT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ST(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Lt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xT("Invalid base64 string: "+u):u}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=$R.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",CT="__type__",IT="__previous_value__",NT="__local_write_time__";function Kp(r){return(r?.mapValue?.fields||{})[CT]?.stringValue===RT}function rf(r){const e=r.mapValue.fields[IT];return Kp(e)?rf(e):e}function mu(r){const e=rs(r.mapValue.fields[NT].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,s,o,u,f,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Dh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",WR="__max__",uh={mapValue:{}},OT="__vector__",Oh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kp(r)?4:JR(r)?9007199254740991:ZR(r)?10:11:we(28295,{value:r})}function Rr(r,e){if(r===e)return!0;const n=ss(r);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),m=Tt(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ab(f)!==Ab(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Rr(f[p],m[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function gu(r,e){return(r.values||[]).find(n=>Rr(n,e))!==void 0}function wo(r,e){if(r===e)return 0;const n=ss(r),s=ss(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return xb(r.timestampValue,e.timestampValue);case 4:return xb(mu(r),mu(e));case 5:return sp(r.stringValue,e.stringValue);case 6:return function(u,f){const m=is(u),p=is(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Le(m[g],p[g]);if(b!==0)return b}return Le(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Le(Tt(u.latitude),Tt(f.latitude));return m!==0?m:Le(Tt(u.longitude),Tt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Rb(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Oh]?.arrayValue,b=p[Oh]?.arrayValue,A=Le(g?.values?.length||0,b?.values?.length||0);return A!==0?A:Rb(g,b)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===uh.mapValue&&f===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(f===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const x=sp(p[A],b[A]);if(x!==0)return x;const V=wo(m[p[A]],g[b[A]]);if(V!==0)return V}return Le(p.length,b.length)}(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function xb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=rs(r),s=rs(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function Rb(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=wo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function Ao(r){return ap(r)}function ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return is(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ap(n.fields[f])}`;return o+"}"}(r.mapValue):we(61005,{value:r})}function _h(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ls(s.fields,(u,f)=>{o+=u.length+_h(f)}),o}(r.mapValue);default:throw we(13486,{value:r})}}function op(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function Cb(r){return!!r&&"nullValue"in r}function Ib(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function ZR(r){return(r?.mapValue?.fields||{})[DT]?.stringValue===OT}function au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ls(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=au(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(r.arrayValue.values[n]);return e}return{...r}}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=au(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ls(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pn(au(this.value))}}function kT(r){const e=[];return ls(r.fields,(n,s)=>{const o=new Xt([n]);if(vh(s)){const u=kT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,xe.min(),xe.min(),xe.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,xe.min(),xe.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,xe.min(),xe.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function Nb(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=wo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Db(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Rr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class Vt extends MT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nC(e,n,s):n==="array-contains"?new sC(e,s):n==="in"?new aC(e,s):n==="not-in"?new oC(e,s):n==="array-contains-any"?new lC(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new rC(e,s):new iC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends MT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Cr(e,n)}matches(e){return VT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VT(r){return r.op==="and"}function PT(r){return tC(r)&&VT(r)}function tC(r){for(const e of r.filters)if(e instanceof Cr)return!1;return!0}function lp(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(PT(r))return r.filters.map(e=>lp(e)).join(",");{const e=r.filters.map(n=>lp(n)).join(",");return`${r.op}(${e})`}}function LT(r,e){return r instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Rr(s.value,o.value)}(r,e):r instanceof Cr?function(s,o){return o instanceof Cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&LT(f,o.filters[m]),!0):!1}(r,e):void we(19439)}function UT(r){return r instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(r):r instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(UT).join(" ,")+"}"}(r):"Filter"}class nC extends Vt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class rC extends Vt{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iC extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jT(r,e){return(e.arrayValue?.values||[]).map(n=>ve.fromName(n.referenceValue))}class sC extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&gu(n.arrayValue,this.value)}}class aC extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class oC extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class lC extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Ob(r,e=null,n=[],s=[],o=null,u=null,f=null){return new uC(r,e,n,s,o,u,f)}function Xp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>lp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ao(s)).join(",")),e.Te=n}return e.Te}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!LT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Db(r.startAt,e.startAt)&&Db(r.endAt,e.endAt)}function up(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(r,e,n,s,o,u,f,m){return new sf(r,e,n,s,o,u,f,m)}function Zp(r){return new sf(r)}function kb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hC(r){return r.collectionGroup!==null}function ou(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Xt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Mh(u,s))}),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Mh(Xt.keyField(),s))}return e.Ie}function br(r){const e=Re(r);return e.Ee||(e.Ee=fC(e,ou(r))),e.Ee}function fC(r,e){if(r.limitType==="F")return Ob(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Mh(o.field,u)});const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return Ob(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function cp(r,e,n){return new sf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function af(r,e){return Wp(br(r),br(e))&&r.limitType===e.limitType}function zT(r){return`${Xp(br(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>UT(o)).join(", ")}]`),nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(br(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=Nb(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,ou(s),o)||s.endAt&&!function(f,m,p){const g=Nb(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,ou(s),o))}(r,e)}function dC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(e,n)=>{let s=!1;for(const o of ou(r)){const u=mC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mC(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?wo(p,g):we(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new dt(ve.comparator);function ui(){return pC}const qT=new dt(ve.comparator);function nu(...r){let e=qT;for(const n of r)e=e.insert(n.key,n);return e}function HT(r){let e=qT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Xs(){return lu()}function FT(){return lu()}function lu(){return new oa(r=>r.toString(),(r,e)=>r.isEqual(e))}const gC=new dt(ve.comparator),yC=new Lt(ve.comparator);function Ue(...r){let e=yC;for(const n of r)e=e.add(n);return e}const _C=new Lt(Le);function vC(){return _C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function GT(r){return{integerValue:""+r}}function bC(r,e){return QR(e)?GT(e):Jp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function EC(r,e,n){return r instanceof Vh?function(o,u){const f={fields:{[CT]:{stringValue:RT},[NT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kp(u)&&(u=rf(u)),u&&(f.fields[IT]=u),{mapValue:f}}(n,e):r instanceof yu?YT(r,e):r instanceof _u?KT(r,e):function(o,u){const f=QT(o,u),m=Mb(f)+Mb(o.Ae);return op(f)&&op(o.Ae)?GT(m):Jp(o.serializer,m)}(r,e)}function TC(r,e,n){return r instanceof yu?YT(r,e):r instanceof _u?KT(r,e):n}function QT(r,e){return r instanceof Ph?function(s){return op(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Vh extends lf{}class yu extends lf{constructor(e){super(),this.elements=e}}function YT(r,e){const n=$T(e);for(const s of r.elements)n.some(o=>Rr(o,s))||n.push(s);return{arrayValue:{values:n}}}class _u extends lf{constructor(e){super(),this.elements=e}}function KT(r,e){let n=$T(e);for(const s of r.elements)n=n.filter(o=>!Rr(o,s));return{arrayValue:{values:n}}}class Ph extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Mb(r){return Tt(r.integerValue||r.doubleValue)}function $T(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function wC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?To(s.elements,o.elements,Rr):s instanceof Ph&&o instanceof Ph?Rr(s.Ae,o.Ae):s instanceof Vh&&o instanceof Vh}(r.transform,e.transform)}class AC{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class uf{}function XT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ZT(r.key,Er.none()):new Cu(r.key,r.data,Er.none());{const n=r.data,s=pn.empty();let o=new Lt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new us(r.key,s,new Cn(o.toArray()),Er.none())}}function SC(r,e,n){r instanceof Cu?function(o,u,f){const m=o.value.clone(),p=Pb(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof us?function(o,u,f){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Pb(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(WT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function uu(r,e,n,s){return r instanceof Cu?function(u,f,m,p){if(!bh(u.precondition,f))return m;const g=u.value.clone(),b=Lb(u.fieldTransforms,p,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof us?function(u,f,m,p){if(!bh(u.precondition,f))return m;const g=Lb(u.fieldTransforms,p,f),b=f.data;return b.setAll(WT(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return bh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function xC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function Vb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,(u,f)=>wC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends uf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends uf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Pb(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,TC(f,m,n[o]))}return s}function Lb(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,EC(u,f,e))}return s}class ZT extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RC extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=FT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=XT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,s)=>Vb(n,s))&&To(this.baseMutations,e.baseMutations,(n,s)=>Vb(n,s))}}class eg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return gC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new eg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function DC(r){switch(r){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function JT(r){if(r===void 0)return li("GRPC error has no .code"),te.UNKNOWN;switch(r){case Rt.OK:return te.OK;case Rt.CANCELLED:return te.CANCELLED;case Rt.UNKNOWN:return te.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return te.INTERNAL;case Rt.UNAVAILABLE:return te.UNAVAILABLE;case Rt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Rt.NOT_FOUND:return te.NOT_FOUND;case Rt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Rt.ABORTED:return te.ABORTED;case Rt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Rt.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:r})}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Ji([4294967295,4294967295],0);function Ub(r){const e=OC().encode(r),n=new mT;return n.update(e),new Uint8Array(n.digest())}function jb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ji([n,s],0),new Ji([o,u],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ji.fromNumber(s)));return o.compare(kC)===1&&(o=new Ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ub(e),[s,o]=jb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new tg(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=Ub(e),[s,o]=jb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cf(xe.min(),o,new dt(Le),ui(),Ue())}}class Iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Iu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class e0{constructor(e,n){this.targetId=e,this.Ce=n}}class t0{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class zb{constructor(){this.ve=0,this.Fe=Bb(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new Iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Bb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=ch(),this.He=ch(),this.Ye=new dt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(up(u))if(s===0){const f=new ve(u.path);this.et(n,f,rn.newNoDocument(f,xe.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=is(s).toUint8Array()}catch(p){if(p instanceof xT)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new tg(f,o,u)}catch(p){return Eo(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&up(m.target)){const p=new ve(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,rn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Ue();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new cf(e,n,this.Ye,this.je,s);return this.je=ui(),this.Je=ch(),this.He=ch(),this.Ye=new dt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new dt(ve.comparator)}function Bb(){return new dt(ve.comparator)}const VC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class UC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jC(r,e){return Lh(r,e.toTimestamp())}function Tr(r){return Ke(!!r,49232),xe.fromTimestamp(function(n){const s=rs(n);return new lt(s.seconds,s.nanos)}(r))}function ng(r,e){return fp(r,e).canonicalString()}function fp(r,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function r0(r){const e=ot.fromString(r);return Ke(l0(e),10190,{key:e.toString()}),e}function dp(r,e){return ng(r.databaseId,e.path)}function jm(r,e){const n=r0(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(s0(n))}function i0(r,e){return ng(r.databaseId,e)}function zC(r){const e=r0(r);return e.length===4?ot.emptyPath():s0(e)}function mp(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s0(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qb(r,e,n){return{name:dp(r,e),fields:n.value.mapValue.fields}}function BC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,b){return g.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Wt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Wt.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const b=g.code===void 0?te.UNKNOWN:JT(g.code);return new pe(b,g.message||"")}(f);n=new t0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(r,s.document.name),u=Tr(s.document.updateTime),f=s.document.createTime?Tr(s.document.createTime):xe.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,f,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new Eh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(r,s.document),u=s.readTime?Tr(s.readTime):xe.min(),f=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new NC(o,u),m=s.targetId;n=new e0(m,f)}}return n}function qC(r,e){let n;if(e instanceof Cu)n={update:qb(r,e.key,e.value)};else if(e instanceof ZT)n={delete:dp(r,e.key)};else if(e instanceof us)n={update:qb(r,e.key,e.data),updateMask:WC(e.fieldMask)};else{if(!(e instanceof RC))return we(16599,{Vt:e.type});n={verify:dp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:jC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),n}function HC(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Tr(o.updateTime):Tr(u);return f.isEqual(xe.min())&&(f=Tr(u)),new AC(f,o.transformResults||[])}(n,e))):[]}function FC(r,e){return{documents:[i0(r,e.path)]}}function GC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=i0(r,o);const u=function(g){if(g.length!==0)return o0(Cr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(b=>function(x){return{field:co(x.field),direction:KC(x.dir)}}(b))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=hp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function QC(r){let e=zC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=function(A){const x=a0(A);return x instanceof Cr&&PT(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(x=>function(B){return new Mh(ho(B.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(A){let x;return x=typeof A=="object"?A.value:A,nf(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(A){const x=!!A.before,V=A.values||[];return new kh(V,x)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const x=!A.before,V=A.values||[];return new kh(V,x)}(n.endAt)),cC(e,o,f,u,m,"F",p,g)}function YC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ho(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ho(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(n){return Vt.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(s=>a0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(r):we(30097,{filter:r})}function KC(r){return VC[r]}function $C(r){return PC[r]}function XC(r){return LC[r]}function co(r){return{fieldPath:r.canonicalString()}}function ho(r){return Xt.fromServerFormat(r.fieldPath)}function o0(r){return r instanceof Vt?function(n){if(n.op==="=="){if(Ib(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Cb(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ib(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Cb(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:$C(n.op),value:n.value}}}(r):r instanceof Cr?function(n){const s=n.getFilters().map(o=>o0(o));return s.length===1?s[0]:{compositeFilter:{op:XC(n.op),filters:s}}}(r):we(54877,{filter:r})}function WC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s,o,u=xe.min(),f=xe.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.yt=e}}function JC(r){const e=QC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Cn=new tI}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(ns.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class tI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(u0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="LruGarbageCollector",nI=1048576;function Gb([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class rI{constructor(e){this.Ir=e,this.buffer=new Lt(Gb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Gb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Fb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ce(Fb,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)})}}class sI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(tf.ce);const s=new rI(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Hb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),lo()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function aI(r,e){return new sI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&uu(s.mutation,o,Cn.empty(),lt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Xs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=nu();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ui();const f=lu(),m=function(){return lu()}();return n.forEach((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof us)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),uu(b.mutation,g,b.mutation.getFieldMask(),lt.now())):f.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,b)=>f.set(g,b)),n.forEach((g,b)=>m.set(g,new lI(b,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new dt((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||Cn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const A=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,A=FT();b.forEach(x=>{if(!u.has(x)){const V=XT(n.get(x),s.get(x));V!==null&&A.set(x,V),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Xs());let m=du,p=u;return f.next(g=>J.forEach(g,(b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next(x=>{p=p.insert(b,x)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(b=>({batchId:m,changes:HT(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=nu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=nu();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(A,x){return new sf(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(b=>{b.forEach((A,x)=>{f=f.insert(A,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,rn.newInvalidDocument(b)))});let m=nu();return f.forEach((p,g)=>{const b=u.get(p);b!==void 0&&uu(b.mutation,g,Cn.empty(),lt.now()),of(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Tr(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:JC(o.bundledQuery),readTime:Tr(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.overlays=new dt(ve.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt((g,b)=>g-b);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Xs(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>m.set(g,b)),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new IC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Qr=new Lt(Ht.$r),this.Ur=new Lt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ve(new ot([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ot([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ht(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Ht.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Yp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Le);return n.forEach(o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new ve(u),0);let m=new Lt(Le);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.ri=e,this.docs=function(){return new dt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=ui();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ui();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||qR(BR(b),s)<=0||(o.has(b.key)||of(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new pI(this)}getSize(e){return J.resolve(this.size)}}class pI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.persistence=e,this.si=new oa(n=>Xp(n),Wp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new So(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=e(this),this.Pi=new gI(this),this.indexManager=new eI,this.remoteDocumentCache=function(o){return new mI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new ZC(n),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new dI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new yI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class yI extends FR{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new rg,this.Vi=null}static mi(e){return new ig(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=ve.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.pi=new oa(s=>YR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aI(this,n)}static mi(e,n){return new Uh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,xe.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hx()?8:GR(sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new _I;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(lo()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(lo()<=Pe.DEBUG&&ce("QueryEngine","Query:",uo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(lo()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):J.resolve())}ys(e,n){if(kb(n))return J.resolve(null);let s=br(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=cp(n,null,"F"),s=br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,cp(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return kb(n)||o.isEqual(xe.min())?J.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(lo()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.vs(e,f,n,zR(o,du)).next(m=>m))})}Ds(e,n){let s=new Lt(BT(e));return n.forEach((o,u)=>{of(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return lo()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ps.getDocumentsMatchingQuery(e,n,ns.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",bI=3e8;class EI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Le),this.xs=new oa(u=>Xp(u),Wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TI(r,e,n,s){return new EI(r,e,n,s)}async function h0(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function wI(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,b){const A=g.batch,x=A.keys();let V=J.resolve();return x.forEach(B=>{V=V.next(()=>b.getEntry(p,B)).next($=>{const U=g.docVersions.get(B);Ke(U!==null,48541),$.version.compareTo(U)<0&&(A.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),b.addEntry($)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function f0(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AI(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((b,A)=>{const x=o.get(A);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,b.addedDocuments,A)));let V=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(Wt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):b.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(b.resumeToken,s)),o=o.insert(A,V),function($,U,G){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=bI?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(x,V,b)&&m.push(n.Pi.updateTargetData(u,V))});let p=ui(),g=Ue();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(SI(u,f,e.documentUpdates).next(b=>{p=b.ks,g=b.qs})),!s.isEqual(xe.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(b)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function SI(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ui();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function xI(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RI(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new $i(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function pp(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Po(f))throw f;ce(ag,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Qb(r,e,n){const s=Re(r);let o=xe.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,b){const A=Re(p),x=A.xs.get(b);return x!==void 0?J.resolve(A.Ms.get(x)):A.Pi.getTargetData(g,b)}(s,f,br(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:Ue())).next(m=>(CI(s,dC(e),m),{documents:m,Qs:u})))}function CI(r,e,n){let s=r.Os.get(e)||xe.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class Yb{constructor(){this.activeTargetIds=vC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class II{constructor(){this.Mo=new Yb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="ConnectivityMonitor";class $b{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function gp(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="RestConnection",DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=gp(),m=this.zo(e,n.toUriEncodedString());ce(zm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=Oo(g);return this.Jo(e,m,p,s,b).then(A=>(ce(zm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Eo(zm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=DI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class MI extends OI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=gp();return new Promise((m,p)=>{const g=new pT;g.setWithCredentials(!0),g.listenOnce(gT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const A=g.getResponseJson();ce(tn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case yh.TIMEOUT:ce(tn,`RPC '${e}' ${f} timed out`),p(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const x=g.getStatus();if(ce(tn,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V?.error;if(B&&B.status&&B.message){const $=function(G){const se=G.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(se)>=0?se:te.UNKNOWN}(B.status);p(new pe($,B.message))}else p(new pe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(tn,`RPC '${e}' ${f} completed.`)}});const b=JSON.stringify(o);ce(tn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,s,15)})}T_(e,n,s){const o=gp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vT(),m=_T(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");ce(tn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const A=f.createWebChannel(b,p);this.I_(A);let x=!1,V=!1;const B=new kI({Yo:U=>{V?ce(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(x||(ce(tn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),x=!0),ce(tn,`RPC '${e}' stream ${o} sending:`,U),A.send(U))},Zo:()=>A.close()}),$=(U,G,se)=>{U.listen(G,ie=>{try{se(ie)}catch(ge){setTimeout(()=>{throw ge},0)}})};return $(A,tu.EventType.OPEN,()=>{V||(ce(tn,`RPC '${e}' stream ${o} transport opened.`),B.o_())}),$(A,tu.EventType.CLOSE,()=>{V||(V=!0,ce(tn,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(A))}),$(A,tu.EventType.ERROR,U=>{V||(V=!0,Eo(tn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),B.a_(new pe(te.UNAVAILABLE,"The operation could not be completed")))}),$(A,tu.EventType.MESSAGE,U=>{if(!V){const G=U.data[0];Ke(!!G,16349);const se=G,ie=se?.error||se[0]?.error;if(ie){ce(tn,`RPC '${e}' stream ${o} received error:`,ie);const ge=ie.status;let ue=function(S){const R=Rt[S];if(R!==void 0)return JT(R)}(ge),_e=ie.message;ue===void 0&&(ue=te.INTERNAL,_e="Unknown error status: "+ge+" with message "+ie.message),V=!0,B.a_(new pe(ue,_e)),A.close()}else ce(tn,`RPC '${e}' stream ${o} received:`,G),B.u_(G)}}),$(m,yT.STAT_EVENT,U=>{U.stat===ip.PROXY?ce(tn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===ip.NOPROXY&&ce(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.__()},0),B}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){return new UC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="PersistentStream";class m0{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(Xb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(Xb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VI extends m0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BC(this.serializer,e),s=function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Tr(f.readTime):xe.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=mp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=up(p)?{documents:FC(u,p)}:{query:GC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=n0(u,f.resumeToken);const g=hp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(xe.min())>0){m.readTime=Lh(u,f.snapshotVersion.toTimestamp());const g=hp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=YC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.q_(n)}}class PI extends m0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HC(e.writeResults,e.commitTime),s=Tr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>qC(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class UI extends LI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,fp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,fp(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(te.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class zI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{la(this)&&(ce(na,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.Ea.add(4),await Nu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ff(g)}(this))})}),this.Ra=new jI(s,o)}}async function ff(r){if(la(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function p0(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):Lo(n).O_()&&lg(n,e))}function og(r,e){const n=Re(r),s=Lo(n);n.Ia.delete(e),s.O_()&&g0(n,e),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Ra.set("Unknown"))}function lg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(r).Y_(e)}function g0(r,e){r.Va.Ue(e),Lo(r).Z_(e)}function ug(r){r.Va=new MC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Ra.ua()}function cg(r){return la(r)&&!Lo(r).x_()&&r.Ia.size>0}function la(r){return Re(r).Ea.size===0}function y0(r){r.Va=void 0}async function BI(r){r.Ra.set("Online")}async function qI(r){r.Ia.forEach((e,n)=>{lg(r,e)})}async function HI(r,e){y0(r),cg(r)?(r.Ra.ha(e),ug(r)):r.Ra.set("Unknown")}async function FI(r,e,n){if(r.Ra.set("Online"),e instanceof t0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){ce(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof e0?r.Va.st(e):r.Va.tt(e),!n.isEqual(xe.min()))try{const s=await f0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Wt.EMPTY_BYTE_STRING,b.snapshotVersion)),g0(u,p);const A=new $i(b.target,p,g,b.sequenceNumber);lg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ce(na,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,n){if(!Po(e))throw e;r.Ea.add(1),await Nu(r),r.Ra.set("Offline"),n||(n=()=>f0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ff(r)})}function _0(r,e){return e().catch(n=>jh(r,n,e))}async function df(r){const e=Re(r),n=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yp;for(;GI(e);)try{const o=await xI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,QI(e,o)}catch(o){await jh(e,o)}v0(e)&&b0(e)}function GI(r){return la(r)&&r.Ta.length<10}function QI(r,e){r.Ta.push(e);const n=as(r);n.O_()&&n.X_&&n.ea(e.mutations)}function v0(r){return la(r)&&!as(r).x_()&&r.Ta.length>0}function b0(r){as(r).start()}async function YI(r){as(r).ra()}async function KI(r){const e=as(r);for(const n of r.Ta)e.ea(n.mutations)}async function $I(r,e,n){const s=r.Ta.shift(),o=eg.from(s,e,n);await _0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await df(r)}async function XI(r,e){e&&as(r).X_&&await async function(s,o){if(function(f){return DC(f)&&f!==te.ABORTED}(o.code)){const u=s.Ta.shift();as(s).B_(),await _0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await df(s)}}(r,e),v0(r)&&b0(r)}async function Wb(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ce(na,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await Nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ff(n)}async function WI(r,e){const n=Re(r);e?(n.Ea.delete(2),await ff(n)):e||(n.Ea.add(2),await Nu(n),n.Ra.set("Unknown"))}function Lo(r){return r.ma||(r.ma=function(n,s,o){const u=Re(n);return u.sa(),new VI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:BI.bind(null,r),t_:qI.bind(null,r),r_:HI.bind(null,r),H_:FI.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),cg(r)?ug(r):r.Ra.set("Unknown")):(await r.ma.stop(),y0(r))})),r.ma}function as(r){return r.fa||(r.fa=function(n,s,o){const u=Re(n);return u.sa(),new PI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:YI.bind(null,r),r_:XI.bind(null,r),ta:KI.bind(null,r),na:$I.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await df(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new hg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(li("AsyncQueue",`${e}: ${r}`),Po(r))return new pe(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=nu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.ga=new dt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class xo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new xo(e,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JI{constructor(){this.queries=Jb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=Jb(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function Jb(){return new oa(r=>zT(r),af)}async function E0(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ZI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=fg(f,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&dg(n)}async function T0(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function e2(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&dg(n)}function t2(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function dg(r){r.Ca.forEach(e=>{e.next()})}var yp,eE;(eE=yp||(yp={})).Ma="default",eE.Cache="cache";class w0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.key=e}}class S0{constructor(e){this.key=e}}class n2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=BT(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Zb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,A)=>{const x=o.get(b),V=of(this.query,A)?A:null,B=!!x&&this.mutatedKeys.has(x.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let U=!1;x&&V?x.data.isEqual(V.data)?B!==$&&(s.track({type:3,doc:V}),U=!0):this.su(x,V)||(s.track({type:2,doc:V}),U=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!x&&V?(s.track({type:0,doc:V}),U=!0):x&&!V&&(s.track({type:1,doc:x}),U=!0,(p||g)&&(m=!0)),U&&(V?(f=f.add(V),u=$?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((b,A)=>function(V,B){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:U})}};return $(V)-$(B)}(b.type,A.type)||this.eu(b.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new xo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new S0(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new A0(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mg="SyncEngine";class r2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class i2{constructor(e){this.key=e,this.hu=!1}}class s2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa(m=>zT(m),af),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ve.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a2(r,e,n=!0){const s=D0(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await x0(s,e,n,!0),o}async function o2(r,e){const n=D0(r);await x0(n,e,!0,!1)}async function x0(r,e,n,s){const o=await RI(r.localStore,br(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await l2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&p0(r.remoteStore,o),m}async function l2(r,e,n,s,o){r.pu=(A,x,V)=>async function($,U,G,se){let ie=U.view.ru(G);ie.Cs&&(ie=await Qb($.localStore,U.query,!1).then(({documents:O})=>U.view.ru(O,ie)));const ge=se&&se.targetChanges.get(U.targetId),ue=se&&se.targetMismatches.get(U.targetId)!=null,_e=U.view.applyChanges(ie,$.isPrimaryClient,ge,ue);return nE($,U.targetId,_e.au),_e.snapshot}(r,A,x,V);const u=await Qb(r.localStore,e,!0),f=new n2(e,u.Qs),m=f.ru(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);nE(r,n,g.au);const b=new r2(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function u2(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!af(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),_p(s,o.targetId)}).catch(Vo)):(_p(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function c2(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function h2(r,e,n){const s=_2(r);try{const o=await function(f,m){const p=Re(f),g=lt.now(),b=m.reduce((V,B)=>V.add(B.key),Ue());let A,x;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let B=ui(),$=Ue();return p.Ns.getEntries(V,b).next(U=>{B=U,B.forEach((G,se)=>{se.isValidDocument()||($=$.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,B)).next(U=>{A=U;const G=[];for(const se of m){const ie=xC(se,A.get(se.key).overlayedDocument);ie!=null&&G.push(new us(se.key,ie,kT(ie.value.mapValue),Er.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,G,m)}).next(U=>{x=U;const G=U.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(V,U.batchId,G)})}).then(()=>({batchId:x.batchId,changes:HT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new dt(Le)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Du(s,o.changes),await df(s.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function R0(r,e){const n=Re(r);try{const s=await AI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))}),await Du(n,s,e)}catch(s){await Vo(s)}}function tE(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach((b,A)=>{for(const x of A.Sa)x.va(m)&&(g=!0)}),g&&dg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function f2(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(ve.comparator);f=f.insert(u,rn.newNoDocument(u,xe.min()));const m=Ue().add(u),p=new cf(xe.min(),new Map,new dt(Le),f,m);await R0(s,p),s.du=s.du.remove(u),s.Au.delete(e),pg(s)}else await pp(s.localStore,e,!1).then(()=>_p(s,e,n)).catch(Vo)}async function d2(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await wI(n.localStore,e);I0(n,s,null),C0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Du(n,o)}catch(o){await Vo(o)}}async function m2(r,e,n){const s=Re(r);try{const o=await function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ke(A!==null,37113),b=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(s.localStore,e);I0(s,e,n),C0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Du(s,o)}catch(o){await Vo(o)}}function C0(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function I0(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function _p(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||N0(r,s)})}function N0(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(og(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),pg(r))}function nE(r,e,n){for(const s of n)s instanceof A0?(r.Ru.addReference(s.key,e),p2(r,s)):s instanceof S0?(ce(mg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||N0(r,s.key)):we(19791,{wu:s})}function p2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(mg,"New document in limbo: "+n),r.Eu.add(s),pg(r))}function pg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new i2(n)),r.du=r.du.insert(n,s),p0(r.remoteStore,new $i(br(Zp(n.path)),s,"TargetPurposeLimboResolution",tf.ce))}}async function Du(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=sg.As(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const b=Re(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>J.forEach(g,x=>J.forEach(x.Es,V=>b.persistence.referenceDelegate.addReference(A,x.targetId,V)).next(()=>J.forEach(x.ds,V=>b.persistence.referenceDelegate.removeReference(A,x.targetId,V)))))}catch(A){if(!Po(A))throw A;ce(ag,"Failed to update sequence numbers: "+A)}for(const A of g){const x=A.targetId;if(!A.fromCache){const V=b.Ms.get(x),B=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(B);b.Ms=b.Ms.insert(x,$)}}}(s.localStore,u))}async function g2(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ce(mg,"User change. New user:",e.toKey());const s=await h0(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new pe(te.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(n,s.Ls)}}function y2(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function D0(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.Pu.H_=e2.bind(null,e.eventManager),e.Pu.yu=t2.bind(null,e.eventManager),e}function _2(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m2.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TI(this.persistence,new vI,e.initialUser,this.serializer)}Cu(e){return new c0(ig.mi,this.serializer)}Du(e){return new II}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class v2 extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new c0(s=>Uh.mi(s,n),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JI}()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),s=function(u){return new MI(u)}(e.databaseInfo);return function(u,f,m,p){return new UI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new zI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>tE(this.syncEngine,n,0),function(){return $b.v()?new $b:new NI}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,b){const A=new s2(o,u,f,m,p,g);return b&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Re(n);ce(na,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class b2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(os,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await h0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function rE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await E2(r);ce(os,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Wb(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Wb(e.remoteStore,o)),r._onlineComponents=e}async function E2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(os,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await qm(r,new zh)}}else ce(os,"Using default OfflineComponentProvider"),await qm(r,new v2(void 0));return r._offlineComponents}async function k0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(os,"Using user provided OnlineComponentProvider"),await rE(r,r._uninitializedComponentsProvider._online)):(ce(os,"Using default OnlineComponentProvider"),await rE(r,new vp))),r._onlineComponents}function T2(r){return k0(r).then(e=>e.syncEngine)}async function M0(r){const e=await k0(r),n=e.eventManager;return n.onListen=a2.bind(null,e.syncEngine),n.onUnlisten=u2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c2.bind(null,e.syncEngine),n}function w2(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const b=new O0({next:x=>{b.Nu(),f.enqueueAndForget(()=>T0(u,A));const V=x.docs.has(m);!V&&x.fromCache?g.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&p&&p.source==="server"?g.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),A=new w0(Zp(m.path),b,{includeMetadataChanges:!0,qa:!0});return E0(u,A)}(await M0(r),r.asyncQueue,e,n,s)),s.promise}function A2(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const b=new O0({next:x=>{b.Nu(),f.enqueueAndForget(()=>T0(u,A)),x.fromCache&&p.source==="server"?g.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),A=new w0(m,b,{includeMetadataChanges:!0,qa:!0});return E0(u,A)}(await M0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firestore.googleapis.com",sE=!0;class aE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P0,this.ssl=sE}else this.host=e.host,this.ssl=e.ssl??sE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nI)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new IR;switch(s.type){case"firstParty":return new kR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=iE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),iE.delete(n),s.terminate())}(this),Promise.resolve()}}function S2(r,e,n,s={}){r=ts(r,mf);const o=Oo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(aT(`https://${m}`),oT("Firestore",!0)),u.host!==P0&&u.host!==m&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=nn.MOCK_USER;else{g=nx(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(A)}r._authCredentials=new NR(new ET(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pf(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ru(n,Pt._jsonSchema))return new Pt(e,s||null,new ve(ot.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Ct("string",Pt._jsonSchemaVersion),referencePath:Ct("string")};class es extends pf{constructor(e,n,s){super(e,n,Zp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ve(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Zl(r,e,...n){if(r=gn(r),TT("collection","path",e),r instanceof mf){const s=ot.fromString(e,...n);return bb(s),new es(r,null,s)}{if(!(r instanceof Pt||r instanceof es))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return bb(s),new es(r.firestore,null,s)}}function L0(r,e,...n){if(r=gn(r),arguments.length===1&&(e=Gp.newId()),TT("doc","path",e),r instanceof mf){const s=ot.fromString(e,...n);return vb(s),new Pt(r,null,new ve(s))}{if(!(r instanceof Pt||r instanceof es))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return vb(s),new Pt(r.firestore,r instanceof es?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d0(this,"async_queue_retry"),this._c=()=>{const s=Bm();s&&ce(oE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;ce(oE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",uE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ou extends mf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function x2(r,e){const n=typeof r=="object"?r:hT(),s=typeof r=="string"?r:Dh,o=Hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=ex("firestore");u&&S2(o,...u)}return o}function gg(r){if(r._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||R2(r),r._firestoreClient}function R2(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new XR(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,V0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new b2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Wt.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ct("string",Gn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:Ct("string",wr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ar(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:Ct("string",Ar._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^__.*__$/;class I2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class U0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class _g{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j0(this.Ac)&&C2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hf(e)}Cc(e,n,s,o=!1){return new _g({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z0(r){const e=r._freezeSettings(),n=hf(r._databaseId);return new N2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function D2(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);vg("Data must be an object, but it was:",f,s);const m=B0(s,f);let p,g;if(u.merge)p=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const x=bp(e,A,n);if(!f.contains(x))throw new pe(te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);H0(b,x)||b.push(x)}p=new Cn(b),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new I2(new pn(m),p,g)}class yf extends yg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function O2(r,e,n,s){const o=r.Cc(1,e,n);vg("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();ls(s,(p,g)=>{const b=bg(e,p,n);g=gn(g);const A=o.yc(b);if(g instanceof yf)u.push(b);else{const x=_f(g,A);x!=null&&(u.push(b),f.set(b,x))}});const m=new Cn(u);return new U0(f,m,o.fieldTransforms)}function k2(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[bp(e,s,n)],p=[o];if(u.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(bp(e,u[x])),p.push(u[x+1]);const g=[],b=pn.empty();for(let x=m.length-1;x>=0;--x)if(!H0(g,m[x])){const V=m[x];let B=p[x];B=gn(B);const $=f.yc(V);if(B instanceof yf)g.push(V);else{const U=_f(B,$);U!=null&&(g.push(V),b.set(V,U))}}const A=new Cn(g);return new U0(b,A,f.fieldTransforms)}function _f(r,e){if(q0(r=gn(r)))return vg("Unsupported field value:",e,r),B0(r,e);if(r instanceof yg)return function(s,o){if(!j0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=_f(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:Lh(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(s instanceof wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:n0(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ar)return function(f,m){return{mapValue:{fields:{[DT]:{stringValue:OT},[Oh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Jp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Qp(s)}`)}(r,e)}function B0(r,e){const n={};return ST(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(r,(s,o)=>{const u=_f(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof wr||r instanceof Gn||r instanceof Pt||r instanceof yg||r instanceof Ar)}function vg(r,e,n){if(!q0(n)||!wT(n)){const s=Qp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function bp(r,e,n){if((e=gn(e))instanceof gf)return e._internalPath;if(typeof e=="string")return bg(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const M2=new RegExp("[~\\*/\\[\\]]");function bg(r,e,n){if(e.search(M2)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pe(te.INVALID_ARGUMENT,m+r+p)}function H0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(G0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V2 extends F0{data(){return super.data()}}function G0(r,e){return typeof e=="string"?bg(r,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L2{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ls(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map(s=>Tt(s.doubleValue));return new Ar(n)}convertGeoPoint(e){return new wr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=rs(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ke(l0(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends F0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(G0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Ct("string",Ws._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Th extends Ws{data(e={}){return super.data(e)}}class po{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:j2(m.type),doc:p,oldIndex:g,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){r=ts(r,Pt);const e=ts(r.firestore,Ou);return w2(gg(e),r._key).then(n=>q2(e,r,n))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Ct("string",po._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Q0 extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function Hm(r){r=ts(r,pf);const e=ts(r.firestore,Ou),n=gg(e),s=new Q0(e);return P2(r._query),A2(n,r._query).then(o=>new po(e,s,r,o))}function B2(r,e,n,...s){r=ts(r,Pt);const o=ts(r.firestore,Ou),u=z0(o);let f;return f=typeof(e=gn(e))=="string"||e instanceof gf?k2(u,"updateDoc",r._key,e,n,s):O2(u,"updateDoc",r._key,e),Y0(o,[f.toMutation(r._key,Er.exists(!0))])}function cE(r,e){const n=ts(r.firestore,Ou),s=L0(r),o=U2(r.converter,e);return Y0(n,[D2(z0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Er.exists(!1))]).then(()=>s)}function Y0(r,e){return function(s,o){const u=new si;return s.asyncQueue.enqueueAndForget(async()=>h2(await T2(s),o,u)),u.promise}(gg(r),e)}function q2(r,e,n){const s=n.docs.get(e._key),o=new Q0(r);return new Ws(r,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Mo=o})(ko),bo(new ea("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ou(new DR(s.getProvider("auth-internal")),new MR(f,s.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,b)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Zi(pb,gb,e),Zi(pb,gb,"esm2020")})();var H2="firebase",F2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(H2,F2,"app");function K0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G2=K0,$0=new Su("auth","Firebase",K0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Bp("@firebase/auth");function Q2(r,...e){qh.logLevel<=Pe.WARN&&qh.warn(`Auth (${ko}): ${r}`,...e)}function wh(r,...e){qh.logLevel<=Pe.ERROR&&qh.error(`Auth (${ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r,...e){throw Eg(r,...e)}function Sr(r,...e){return Eg(r,...e)}function X0(r,e,n){const s={...G2(),[e]:n};return new Su("auth","Firebase",s).create(e,{appName:r.name})}function Zs(r){return X0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return $0.create(r,...e)}function Se(r,e,...n){if(!r)throw Eg(e,...n)}function ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wh(e),new Error(e)}function hi(r,e){r||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){return typeof self<"u"&&self.location?.href||""}function Y2(){return hE()==="http:"||hE()==="https:"}function hE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||lx()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=sx()||ux()}get(){return K2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){hi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z2=new ku(3e4,6e4);function wg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Uo(r,e,n,s,o={}){return Z0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=xu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return ox()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Oo(r.emulatorConfig.host)&&(g.credentials="include"),W0.fetch()(await J0(r,r.config.apiHost,n,m),g)})}async function Z0(r,e,n){r._canInitEmulator=!1;const s={...X2,...e};try{const o=new eN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw fh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw fh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw fh(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw X0(r,b,g);ci(r,b)}}catch(o){if(o instanceof di)throw o;ci(r,"network-request-failed",{message:String(o)})}}async function J2(r,e,n,s,o={}){const u=await Uo(r,e,n,s,o);return"mfaPendingCredential"in u&&ci(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function J0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Tg(r.config,o):`${r.config.apiScheme}://${o}`;return W2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class eN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Sr(this.auth,"network-request-failed")),Z2.get())})}}function fh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Sr(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(r,e){return Uo(r,"POST","/v1/accounts:delete",e)}async function Hh(r,e){return Uo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nN(r,e=!1){const n=gn(r),s=await n.getIdToken(e),o=Ag(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:cu(Fm(o.auth_time)),issuedAtTime:cu(Fm(o.iat)),expirationTime:cu(Fm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Fm(r){return Number(r)*1e3}function Ag(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nT(n);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function fE(r){const e=Ag(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof di&&rN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function rN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(r){const e=r.auth,n=await r.getIdToken(),s=await vu(r,Hh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ew(o.providerUserInfo):[],f=aN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function sN(r){const e=gn(r);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ew(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(r,e){const n=await Z0(r,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await J0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Oo(r.emulatorConfig.host)&&(p.credentials="include"),W0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lN(r,e){return Uo(r,"POST","/v2/accounts:revokeToken",wg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=fE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await oN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new go;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nN(this,e)}reload(){return sN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await vu(this,tN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:V,providerData:B,stsTokenManager:$}=n;Se(A&&$,e,"internal-error");const U=go.fromJSON(this.name,$);Se(typeof A=="string",e,"internal-error"),qi(s,e.name),qi(o,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof V=="boolean",e,"internal-error"),qi(u,e.name),qi(f,e.name),qi(m,e.name),qi(p,e.name),qi(g,e.name),qi(b,e.name);const G=new er({uid:A,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:b});return B&&Array.isArray(B)&&(G.providerData=B.map(se=>({...se}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ew(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;function ri(r){hi(r instanceof Function,"Expected a class definition");let e=dE.get(r);return e?(hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,dE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tw.type="NONE";const mE=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r,e,n){return`firebase:${r}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(ri(mE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ri(mE);const f=Ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let A;if(typeof b=="string"){const x=await Hh(e,{idToken:b}).catch(()=>{});if(!x)break;A=await er._fromGetAccountInfoResponse(e,x,b)}else A=er._fromJSON(e,b);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ow(e))return"Blackberry";if(lw(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(aw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function nw(r=sn()){return/firefox\//i.test(r)}function rw(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(r=sn()){return/crios\//i.test(r)}function sw(r=sn()){return/iemobile/i.test(r)}function aw(r=sn()){return/android/i.test(r)}function ow(r=sn()){return/blackberry/i.test(r)}function lw(r=sn()){return/webos/i.test(r)}function Sg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uN(r=sn()){return Sg(r)&&!!window.navigator?.standalone}function cN(){return cx()&&document.documentMode===10}function uw(r=sn()){return Sg(r)||aw(r)||lw(r)||ow(r)||/windows phone/i.test(r)||sw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r,e=[]){let n;switch(r){case"Browser":n=pE(sn());break;case"Worker":n=`${pE(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(r,e={}){return Uo(r,"GET","/v2/passwordPolicy",wg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=6;class mN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hh(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(Zs(this));const n=e?gn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fN(this),n=new mN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xg(r){return gn(r)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_x(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gN(r){Rg=r}function yN(r){return Rg.loadJS(r)}function _N(){return Rg.gapiScript}function vN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r,e){const n=Hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;ci(o,"already-initialized")}return n.initialize({options:e})}function EN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function TN(r,e,n){const s=xg(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hw(e),{host:f,port:m}=wN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Js(g,s.config.emulator)&&Js(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Oo(f)?(aT(`${u}//${f}${p}`),oT("Auth",!0)):AN()}function hw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wN(r){const e=hw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:yE(f)}}}function yE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function AN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return J2(r,"POST","/v1/accounts:signInWithIdp",wg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="http://localhost";class ra extends fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Mu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Mu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Mu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await er._fromIdTokenResponse(e,s,o),f=_E(s);return new Ro({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_E(s);return new Ro({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _E(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends di{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Gh(e,n,s,o)}}function mw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(r,u,e,s):u})}async function xN(r,e,n=!1){const s=await vu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ro._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e,n=!1){const{auth:s}=r;if(vr(s.app))return Promise.reject(Zs(s));const o="reauthenticate";try{const u=await vu(r,mw(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Ag(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),Ro._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ci(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,e,n=!1){if(vr(r.app))return Promise.reject(Zs(r));const s="signIn",o=await mw(r,s,e),u=await Ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function IN(r,e,n,s){return gn(r).onIdTokenChanged(e,n,s)}function NN(r,e,n){return gn(r).beforeAuthStateChanged(e,n)}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1e3,ON=10;class gw extends pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);cN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ON):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gw.type="LOCAL";const kN=gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yw.type="SESSION";const _w=yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new vf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await MN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Cg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function PN(r){xr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function LN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UN(){return navigator?.serviceWorker?.controller||null}function jN(){return vw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firebaseLocalStorageDb",zN=1,Yh="firebaseLocalStorage",Ew="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(r,e){return r.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function BN(){const r=indexedDB.deleteDatabase(bw);return new Vu(r).toPromise()}function wp(){const r=indexedDB.open(bw,zN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Yh,{keyPath:Ew})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Yh)?e(s):(s.close(),await BN(),e(await wp()))})})}async function vE(r,e,n){const s=bf(r,!0).put({[Ew]:e,value:n});return new Vu(s).toPromise()}async function qN(r,e){const n=bf(r,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function bE(r,e){const n=bf(r,!0).delete(e);return new Vu(n).toPromise()}const HN=800,FN=3;class Tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(jN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LN(),!this.activeServiceWorker)return;this.sender=new VN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await vE(e,Qh,"1"),await bE(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=bf(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tw.type="LOCAL";const GN=Tw;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(r,e){return e?ri(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YN(r){return CN(r.auth,new Ig(r),r.bypassAuthState)}function KN(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),RN(n,new Ig(r),r.bypassAuthState)}async function $N(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),xN(n,new Ig(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return $N;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:ci(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new ku(2e3,1e4);class fo extends ww{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XN.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="pendingRedirect",Sh=new Map;class ZN extends ww{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await JN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JN(r,e){const n=nD(e),s=tD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function eD(r,e){Sh.set(r._key(),e)}function tD(r){return ri(r._redirectPersistence)}function nD(r){return Ah(WN,r.config.apiKey,r.name)}async function rD(r,e,n=!1){if(vr(r.app))return Promise.reject(Zs(r));const s=xg(r),o=QN(s,e),f=await new ZN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=600*1e3;class sD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Aw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iD&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Aw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function aD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(r,e={}){return Uo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;async function cD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await oD(r);for(const n of e)try{if(hD(n))return}catch{}ci(r,"unauthorized-domain")}function hD(r){const e=Ep(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!uD.test(n))return!1;if(lD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new ku(3e4,6e4);function TE(){const r=xr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dD(r){return new Promise((e,n)=>{function s(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Sr(r,"network-request-failed"))},timeout:fD.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)s();else{const o=vN("iframefcb");return xr()[o]=()=>{gapi.load?s():n(Sr(r,"network-request-failed"))},yN(`${_N()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw xh=null,e})}let xh=null;function mD(r){return xh=xh||dD(r),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new ku(5e3,15e3),gD="__/auth/iframe",yD="emulator/auth/iframe",_D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tg(e,yD):`https://${r.config.authDomain}/${gD}`,s={apiKey:e.apiKey,appName:r.name,v:ko},o=vD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${xu(s).slice(1)}`}async function ED(r){const e=await mD(r),n=xr().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:bD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_D,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Sr(r,"network-request-failed"),m=xr().setTimeout(()=>{u(f)},pD.get());function p(){xr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,AD=600,SD="_blank",xD="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RD(r,e,n,s=wD,o=AD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...TD,width:s.toString(),height:o.toString(),top:u,left:f},g=sn().toLowerCase();n&&(m=iw(g)?SD:n),nw(g)&&(e=e||xD,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[V,B])=>`${x}${V}=${B},`,"");if(uN(g)&&m!=="_self")return CD(e||"",m),new wE(null);const A=window.open(e||"",m,b);Se(A,r,"popup-blocked");try{A.focus()}catch{}return new wE(A)}function CD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="__/auth/handler",ND="emulator/auth/handler",DD=encodeURIComponent("fac");async function AE(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ko,eventId:o};if(e instanceof dw){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",yx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof Mu){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),g=p?`#${DD}=${encodeURIComponent(p)}`:"";return`${OD(r)}?${xu(m).slice(1)}${g}`}function OD({config:r}){return r.emulator?Tg(r,ND):`https://${r.authDomain}/${ID}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class kD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_w,this._completeRedirectFn=rD,this._overrideRedirectResult=eD}async _openPopup(e,n,s,o){hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await AE(e,n,s,Ep(),o);return RD(e,u,Cg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await AE(e,n,s,Ep(),o);return PN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ED(e),s=new sD(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},o=>{const u=o?.[0]?.[Gm];u!==void 0&&n(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uw()||rw()||Sg()}}const MD=kD;var SE="@firebase/auth",xE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LD(r){bo(new ea("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(r)},g=new pN(s,o,u,p);return EN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),bo(new ea("auth-internal",e=>{const n=xg(e.getProvider("auth").getImmediate());return(s=>new VD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(SE,xE,PD(r)),Zi(SE,xE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=300,jD=sT("authIdTokenMaxAge")||UD;let RE=null;const zD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jD)return;const o=n?.token;RE!==o&&(RE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BD(r=hT()){const e=Hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=bN(r,{popupRedirectResolver:MD,persistence:[GN,kN,_w]}),s=sT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=zD(u.toString());NN(n,f,()=>f(n.currentUser)),IN(n,m=>f(m))}}const o=rT("auth");return o&&TN(n,`http://${o}`),n}function qD(){return document.getElementsByTagName("head")?.[0]??document}gN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Sr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LD("Browser");const HD={apiKey:"AIzaSyDmYS_qahLjYbuhZ_3QTFYtdO3WVO4XjBc",authDomain:"financial-dashboard-c10ef.firebaseapp.com",projectId:"financial-dashboard-c10ef",storageBucket:"financial-dashboard-c10ef.firebasestorage.app",messagingSenderId:"778494452111",appId:"1:778494452111:web:dffbad397483b1dcd2abfa"},Sw=cT(HD),to=x2(Sw);BD(Sw);var xw=Symbol.for("immer-nothing"),CE=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function Jn(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Co=Object.getPrototypeOf;function Io(r){return!!r&&!!r[In]}function ia(r){return r?Rw(r)||Array.isArray(r)||!!r[CE]||!!r.constructor?.[CE]||Tf(r)||wf(r):!1}var FD=Object.prototype.constructor.toString();function Rw(r){if(!r||typeof r!="object")return!1;const e=Co(r);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===FD}function Kh(r,e){Ef(r)===0?Reflect.ownKeys(r).forEach(n=>{e(n,r[n],r)}):r.forEach((n,s)=>e(s,n,r))}function Ef(r){const e=r[In];return e?e.type_:Array.isArray(r)?1:Tf(r)?2:wf(r)?3:0}function Ap(r,e){return Ef(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Cw(r,e,n){const s=Ef(r);s===2?r.set(e,n):s===3?r.add(n):r[e]=n}function GD(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Tf(r){return r instanceof Map}function wf(r){return r instanceof Set}function $s(r){return r.copy_||r.base_}function Sp(r,e){if(Tf(r))return new Map(r);if(wf(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const n=Rw(r);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(r);delete s[In];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const f=o[u],m=s[f];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[f]={configurable:!0,writable:!0,enumerable:m.enumerable,value:r[f]})}return Object.create(Co(r),s)}else{const s=Co(r);if(s!==null&&n)return{...r};const o=Object.create(s);return Object.assign(o,r)}}function bu(r,e=!1){return Af(r)||Io(r)||!ia(r)||(Ef(r)>1&&(r.set=r.add=r.clear=r.delete=QD),Object.freeze(r),e&&Object.entries(r).forEach(([n,s])=>bu(s,!0))),r}function QD(){Jn(2)}function Af(r){return Object.isFrozen(r)}var YD={};function sa(r){const e=YD[r];return e||Jn(0,r),e}var Eu;function Iw(){return Eu}function KD(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function IE(r,e){e&&(sa("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function xp(r){Rp(r),r.drafts_.forEach($D),r.drafts_=null}function Rp(r){r===Eu&&(Eu=r.parent_)}function NE(r){return Eu=KD(Eu,r)}function $D(r){const e=r[In];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DE(r,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return r!==void 0&&r!==n?(n[In].modified_&&(xp(e),Jn(4)),ia(r)&&(r=$h(e,r),e.parent_||Xh(e,r)),e.patches_&&sa("Patches").generateReplacementPatches_(n[In].base_,r,e.patches_,e.inversePatches_)):r=$h(e,n,[]),xp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==xw?r:void 0}function $h(r,e,n){if(Af(e))return e;const s=e[In];if(!s)return Kh(e,(o,u)=>OE(r,s,e,o,u,n)),e;if(s.scope_!==r)return e;if(!s.modified_)return Xh(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,f=!1;s.type_===3&&(u=new Set(o),o.clear(),f=!0),Kh(u,(m,p)=>OE(r,s,o,m,p,n,f)),Xh(r,o,!1),n&&r.patches_&&sa("Patches").generatePatches_(s,n,r.patches_,r.inversePatches_)}return s.copy_}function OE(r,e,n,s,o,u,f){if(Io(o)){const m=u&&e&&e.type_!==3&&!Ap(e.assigned_,s)?u.concat(s):void 0,p=$h(r,o,m);if(Cw(n,s,p),Io(p))r.canAutoFreeze_=!1;else return}else f&&n.add(o);if(ia(o)&&!Af(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;$h(r,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&Xh(r,o)}}function Xh(r,e,n=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&bu(e,n)}function XD(r,e){const n=Array.isArray(r),s={type_:n?1:0,scope_:e?e.scope_:Iw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Ng;n&&(o=[s],u=Tu);const{revoke:f,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=f,m}var Ng={get(r,e){if(e===In)return r;const n=$s(r);if(!Ap(n,e))return WD(r,n,e);const s=n[e];return r.finalized_||!ia(s)?s:s===Qm(r.base_,e)?(Ym(r),r.copy_[e]=Ip(s,r)):s},has(r,e){return e in $s(r)},ownKeys(r){return Reflect.ownKeys($s(r))},set(r,e,n){const s=Nw($s(r),e);if(s?.set)return s.set.call(r.draft_,n),!0;if(!r.modified_){const o=Qm($s(r),e),u=o?.[In];if(u&&u.base_===n)return r.copy_[e]=n,r.assigned_[e]=!1,!0;if(GD(n,o)&&(n!==void 0||Ap(r.base_,e)))return!0;Ym(r),Cp(r)}return r.copy_[e]===n&&(n!==void 0||e in r.copy_)||Number.isNaN(n)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=n,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Qm(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Ym(r),Cp(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const n=$s(r),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){Jn(11)},getPrototypeOf(r){return Co(r.base_)},setPrototypeOf(){Jn(12)}},Tu={};Kh(Ng,(r,e)=>{Tu[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Tu.deleteProperty=function(r,e){return Tu.set.call(this,r,e,void 0)};Tu.set=function(r,e,n){return Ng.set.call(this,r[0],e,n,r[0])};function Qm(r,e){const n=r[In];return(n?$s(n):r)[e]}function WD(r,e,n){const s=Nw(e,n);return s?"value"in s?s.value:s.get?.call(r.draft_):void 0}function Nw(r,e){if(!(e in r))return;let n=Co(r);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Co(n)}}function Cp(r){r.modified_||(r.modified_=!0,r.parent_&&Cp(r.parent_))}function Ym(r){r.copy_||(r.copy_=Sp(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var ZD=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const f=this;return function(p=u,...g){return f.produce(p,b=>n.call(this,b,...g))}}typeof n!="function"&&Jn(6),s!==void 0&&typeof s!="function"&&Jn(7);let o;if(ia(e)){const u=NE(this),f=Ip(e,void 0);let m=!0;try{o=n(f),m=!1}finally{m?xp(u):Rp(u)}return IE(u,s),DE(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===xw&&(o=void 0),this.autoFreeze_&&bu(o,!0),s){const u=[],f=[];sa("Patches").generateReplacementPatches_(e,o,u,f),s(u,f)}return o}else Jn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(f,...m)=>this.produceWithPatches(f,p=>e(p,...m));let s,o;return[this.produce(e,n,(f,m)=>{s=f,o=m}),s,o]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){ia(r)||Jn(8),Io(r)&&(r=JD(r));const e=NE(this),n=Ip(r,void 0);return n[In].isManual_=!0,Rp(e),n}finishDraft(r,e){const n=r&&r[In];(!n||!n.isManual_)&&Jn(9);const{scope_:s}=n;return IE(s,e),DE(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}n>-1&&(e=e.slice(n+1));const s=sa("Patches").applyPatches_;return Io(r)?s(r,e):this.produce(r,o=>s(o,e))}};function Ip(r,e){const n=Tf(r)?sa("MapSet").proxyMap_(r,e):wf(r)?sa("MapSet").proxySet_(r,e):XD(r,e);return(e?e.scope_:Iw()).drafts_.push(n),n}function JD(r){return Io(r)||Jn(10,r),Dw(r)}function Dw(r){if(!ia(r)||Af(r))return r;const e=r[In];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Sp(r,e.scope_.immer_.useStrictShallowCopy_)}else n=Sp(r,!0);return Kh(n,(s,o)=>{Cw(n,s,Dw(o))}),e&&(e.finalized_=!1),n}var Nn=new ZD,eO=Nn.produce;Nn.produceWithPatches.bind(Nn);Nn.setAutoFreeze.bind(Nn);Nn.setUseStrictShallowCopy.bind(Nn);Nn.applyPatches.bind(Nn);Nn.createDraft.bind(Nn);Nn.finishDraft.bind(Nn);function vo(r){var e=Y.useState(function(){return bu(typeof r=="function"?r():r,!0)}),n=e[1];return[e[0],Y.useCallback(function(s){n(typeof s=="function"?eO(s):bu(s))},[])]}function tO(){const r=fi();return["/login"].includes(r.pathname)?null:T.jsx("nav",{className:"h-full w-[325px] top-[0] left-[0] border-r-[4px] border-[solid] border-[black] bg-[rgb(100,_100,_120)] z-990 fixed",children:T.jsxs("ul",{className:"text-[25px] leading-[50px] text-center mt-[40px]",children:[T.jsx("li",{children:T.jsx(eu,{to:"/homepage",children:T.jsx("span",{className:"text-[beige]",children:"Dashboard"})})}),T.jsx("li",{children:T.jsx(eu,{to:"/accounts",children:T.jsx("span",{className:"text-[beige]",children:"Accounts"})})}),T.jsx("li",{children:T.jsx(eu,{to:"/transactions",children:T.jsx("span",{className:"text-[beige]",children:"Transactions"})})}),T.jsx("li",{children:T.jsx(eu,{to:"/bills",children:T.jsx("span",{className:"text-[beige]",children:"Bills/Subscriptions"})})})]})})}function nO({setAccountInfo:r,setAccountRef:e}){const[n,s]=Y.useState(""),[o,u]=Y.useState(""),[f,m]=Y.useState(""),[p,g]=Y.useState(!0),[b,A]=Y.useState(!1),[x,V]=Y.useState(!1),B=Zh(),$=async G=>{G.preventDefault();let se=!1;try{const ie=await Hm(Zl(to,"users"));let ge="";if(ie.forEach(ue=>{const _e=ue.data();_e.email===n&&_e.password===o&&(ge=_e.userId,se=!0)}),se)(await Hm(Zl(to,"bankAccounts"))).forEach(_e=>{const O=_e.id,S=_e.data();S.userId===ge&&(r(S?.accounts),e(L0(to,"bankAccounts",O)))}),B("/homepage");else throw new Error("Error: Incorrect Email or Password")}catch(ie){console.error(ie),V(!0)}},U=async G=>{console.log({e:G}),G.preventDefault();let se=!1;try{if((await Hm(Zl(to,"users"))).forEach(ge=>{const ue=ge.data();if(ue.email===n||ue.userId===f)throw se=!0,new Error("User Already Exists")}),!se&&f.length>6&&o.length>8&&n.includes("@")&&n.includes(".com")){A(!1),await cE(Zl(to,"users"),{email:n,password:o,userId:f});const ge=await cE(Zl(to,"bankAccounts"),{userId:f,accounts:[]}),_e=(await z2(ge)).data();r(_e?.accounts),e(ge),B("/homepage")}else throw new Error("Account Creation Error: User Exists or Invalid Information Entered")}catch(ie){console.error(ie),A(!0)}};if(p===!0)return T.jsxs("form",{className:"text-[20px] border-[2px] border-[solid] border-[black] w-[20%] mx-[auto] my-[18%] pt-[50px] pb-[50px] rounded-[20px]",children:[T.jsx("input",{type:"email",value:n,onChange:G=>s(G.target.value),placeholder:"Email",className:"block mx-[auto] my-[0] text-center rounded-[5px] border-[1px] border-[solid] border-[black] mb-[4px]"}),T.jsx("input",{type:"password",value:o,onChange:G=>u(G.target.value),placeholder:"Password",className:"block mx-[auto] my-[0] text-center rounded-[5px] border-[1px] border-[solid] border-[black] mb-[15px]"}),T.jsx("button",{type:"button",onClick:G=>$(G),className:"block mx-[auto] my-[0]",children:"Login"}),T.jsx("button",{type:"button",onClick:()=>{g(!1),V(!1)},className:"block mx-[auto] my-[0]",children:"Create New User"}),x&&T.jsx("div",{className:"text-[20px] text-[red] text-center",children:"Error: Incorrect Email or Password"})]});if(p===!1)return T.jsx(T.Fragment,{children:T.jsxs("form",{className:"text-[20px] border-[2px] border-[solid] border-[black] w-[20%] mx-[auto] my-[18%] pt-[50px] pb-[50px] rounded-[20px]",children:[T.jsx("input",{type:"email",value:n,onChange:G=>s(G.target.value),placeholder:"Email",className:"block mx-[auto] my-[0] text-center rounded-[5px] border-[1px] border-[solid] border-[black] mb-[4px]"}),T.jsx("input",{type:"password",value:o,onChange:G=>u(G.target.value),placeholder:"Password",className:"block mx-[auto] my-[0] text-center rounded-[5px] border-[1px] border-[solid] border-[black] mb-[4px]"}),T.jsx("input",{type:"text",value:f,onChange:G=>m(G.target.value),placeholder:"UserId",className:"block mx-[auto] my-[0] text-center rounded-[5px] border-[1px] border-[solid] border-[black] mb-[10px]"}),T.jsx("p",{className:"text-[12px] text-center",children:"Password: Minimum 8 characters"}),T.jsx("p",{className:"text-[12px] text-center",children:"UserId: Minimum 6 characters"}),T.jsx("button",{type:"button",onClick:G=>U(G),className:"block mx-[auto] my-[0]",children:"Create Account"}),T.jsx("button",{type:"button",onClick:()=>{g(!0),A(!1)},className:"block mx-[auto] my-[0]",children:"Log In"}),b&&T.jsx("div",{className:"text-[20px] text-[red] text-center",children:"Account Creation Error: User Exists or Invalid Information Entered"})]})})}function rO({accountInfo:r,billsInfo:e}){return T.jsxs("div",{children:[T.jsx("h1",{className:"block text-center ml-[325px] mb-[8%]",children:"Home Page"}),T.jsx("p",{className:"text-[20px] block text-center ml-[325px] my-[1%]",children:"This app is meant to be a personal financial dashboard that can have account info added/deleted manually by the user. I started this project because manually tracking bank accounts & transactions can be more helpful for understanding how much is going in & out of your accounts. The plan is also to add more customizability to the UI for users to change the look of their dashboard. Many people these days like to be able to customize apps to suit their needs and look how they want, which most apps don't really provide. Most financial dashboards apps use things like Plaid to add/verify accounts. I wanted a dashboard that allows users to add information based on what they use since apps like Plaid don't cover every bank out there, meaning sometimes users can't even use the dashboard they are trying to use. This app is still heavily in progress, with some examples of things to be added are stocks (either retrieved from third party apps or manually entered), bills/subscriptions that will be on their own page and connected to accounts (currently in progress), and a main dashboard showing simplified information of each page with total balances."}),T.jsx("p",{className:"text-[20px] block text-center ml-[325px] my-[1%]",children:"Currently users can only view their bank accounts on the Accounts page and transactions on the Transactions page. On the accounts page you can add either a credit, checking, or savings account by clicking the + button and filling out information depending on the account type chosen. You can manually add transactions for each account. For example, a checking account can have withdrawals & transactions added which will automatically increase/decrease the current balance. Each transaction added will be visible on the Transactions page, while the 3 newest transactions added will be visible on the Accounts page in the bank account."}),T.jsx("p",{className:"text-[20px] block text-center ml-[325px]",children:"This project uses React to dynamically load each page and content. The backend is managed by a Cloud Firestore database. Authentication is done by comparing the login details entered with the login details stored in the database. Once that is verified, the information stored in a seperate collection is retrieved. Originally I planned to use Firebase's email & password authentication, but I decided to use this other method since it didn't work well with how I stored user information. This authentication method may change in the future if it is not very scalable. Currently the information in the database for each user is stored in an Accounts collection with individual info being stored in seperate documents within."})]})}function iO({accounts:r,saveDeposits:e,accountId:n}){const s=new Date,o=`${s.getFullYear()}-${s.getMonth()}-${s.getDate()}`,u=r.find(b=>b.id===n),[f,m]=Y.useState(!1),p={date:"",amount:""};function g(b,A){e(x=>{const V=x.find(B=>B.id===n);V&&(V.deposits.push({id:V.deposits.length+1,account:u.name,date:b||o,amount:Number(A)}),V.currentBalance+=Number(A))}),m(!1)}return T.jsxs("div",{children:[T.jsx("h3",{className:"text-[23px] font-[bold]",children:"Latest Deposits"}),u.deposits.length>0?u.deposits.slice(0,3).map(b=>T.jsxs("div",{className:"inline-block text-center pt-[10px] min-h-[80px] w-[32%] mb-2.5 rounded-[15px] border-2 border-solid border-[black]",children:[T.jsxs("p",{children:["Date: ",b.date]}),T.jsxs("p",{children:["Amount: +$",b.amount]})]},u.name+"DEP"+b.id)):T.jsx("p",{className:"text-[18px] font-[normal] m-[15px]",children:"No Recent Deposits"}),f?T.jsxs("div",{children:[T.jsxs("label",{className:"block ml-[-14px]",children:["Date: ",T.jsx("input",{type:"date",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:b=>p.date=b.target.value})]}),T.jsxs("label",{className:"block ml-[8px]",children:["Amount: ",T.jsx("input",{type:"number",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:b=>p.amount=b.target.value})]}),T.jsx("button",{className:"text-[12px] text-[white] bg-[darkblue]",onClick:()=>g(p.date,p.amount),children:"Save"})]}):T.jsx("div",{className:"pb-[8px]",children:T.jsx("button",{className:"text-[13px] text-[white] bg-[darkblue]",onClick:()=>m(!0),children:"Add Deposit"})})]})}function sO({accounts:r,saveTransactions:e,accountId:n}){const s=r.find(p=>p.id===n),[o,u]=Y.useState(!1),f={date:"",category:"",cost:""};function m(p,g,b){const A=new Date,x=`${A.getFullYear()}-${A.getMonth()}-${A.getDate()}`;e(V=>{const B=V.find($=>$.id===n);B&&(B.transactions.push({id:B.transactions.length+1,account:s.name,date:p||x,category:g||"Misc",cost:Number(b)}),B.type==="Credit"?B.currentBalance+=Number(b):B.currentBalance-=Number(b))}),u(!1)}return T.jsxs("div",{children:[T.jsx("h3",{className:"text-[23px] font-[bold]",children:"Latest Transactions"}),s.transactions.length>0?s.transactions.slice(0,3).map(p=>T.jsxs("div",{className:"inline-block text-center pt-[10px] min-h-[100px] w-[32%] mb-2.5 rounded-[15px] border-2 border-solid border-[black]",children:[T.jsxs("p",{children:["Date: ",p.date]}),T.jsxs("p",{children:["Category: ",p.category]}),T.jsxs("p",{children:["Cost: -$",p.cost]})]},s.name+"TRAN"+p.id)):T.jsx("p",{className:"text-[18px] font-[normal] m-[15px]",children:"No Recent Transactions"}),o?T.jsxs("div",{children:[T.jsxs("label",{className:"block ml-[-14px]",children:["Date: ",T.jsx("input",{type:"date",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:p=>f.date=p.target.value})]}),T.jsxs("label",{className:"block",children:["Category:",T.jsxs("select",{onChange:p=>f.category=p.target.value,className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",children:[T.jsx("option",{value:"default",children:"No Category"}),T.jsx("option",{value:"Groceries",children:"Groceries"}),T.jsx("option",{value:"Gas",children:"Gas"}),T.jsx("option",{value:"Travel",children:"Travel"}),T.jsx("option",{value:"Repairs",children:"Repairs"}),T.jsx("option",{value:"Subscription",children:"Subscription/Bill"}),T.jsx("option",{value:"Misc",children:"Misc"})]})]}),T.jsxs("label",{className:"block ml-[32px]",children:["Cost: ",T.jsx("input",{type:"number",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:p=>f.cost=p.target.value})]}),T.jsx("button",{className:"text-[12px] text-[white] bg-[darkblue]",onClick:()=>m(f.date,f.category,f.cost),children:"Save"})]}):T.jsx("div",{className:"pb-[10px]",children:T.jsx("button",{className:"text-[13px] text-[white] bg-[darkblue]",onClick:()=>u(!0),children:"Add Transaction"})}),T.jsx("hr",{})]})}function aO({accounts:r,saveWithdrawals:e,accountId:n}){const s=r.find(p=>p.id===n),[o,u]=Y.useState(!1),f={date:"",amount:""};function m(p,g){const b=new Date,A=`${b.getFullYear()}-${b.getMonth()}-${b.getDate()}`;e(x=>{const V=x.find(B=>B.id===n);V&&(V.withdrawals.push({id:V.withdrawals.length+1,account:s.name,date:p||A,amount:Number(g)}),V.currentBalance-=Number(g))}),u(!1)}return T.jsxs("div",{children:[T.jsx("h3",{className:"text-[23px] font-[bold]",children:"Latest Withdrawals"}),s.withdrawals.length>0?s.withdrawals.slice(0,3).map(p=>T.jsxs("div",{className:"inline-block text-center pt-[10px] min-h-[100px] w-[32%] mb-2.5 rounded-[15px] border-2 border-solid border-[black]",children:[T.jsxs("p",{children:["Date: ",p.date]}),T.jsxs("p",{children:["Amount: -$",p.amount]})]},s.name+"TRAN"+p.id)):T.jsx("p",{className:"text-[18px] font-[normal] m-[15px]",children:"No Recent Withdrawals"}),o?T.jsxs("div",{children:[T.jsxs("label",{className:"block ml-[-14px]",children:["Date: ",T.jsx("input",{type:"date",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:p=>f.date=p.target.value})]}),T.jsxs("label",{className:"block ml-[32px]",children:["Amount: ",T.jsx("input",{type:"number",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:p=>f.amount=p.target.value})]}),T.jsx("button",{className:"text-[12px] text-[white] bg-[darkblue]",onClick:()=>m(f.date,f.amount),children:"Save"})]}):T.jsx("div",{className:"pb-[10px]",children:T.jsx("button",{className:"text-[13px] text-[white] bg-[darkblue]",onClick:()=>u(!0),children:"Add Withdrawal"})}),T.jsx("hr",{})]})}function oO({accounts:r,savePayments:e,accountId:n}){const s=r.find(p=>p.id===n),[o,u]=Y.useState(!1),f={date:"",amount:""};function m(p,g){const b=new Date,A=`${b.getFullYear()}-${b.getMonth()}-${b.getDate()}`;e(x=>{const V=x.find(B=>B.id===n);V&&(V.payments.push({id:V.payments.length+1,account:s.name,date:p||A,amount:Number(g)}),V.currentBalance-=Number(g))}),u(!1)}return T.jsxs("div",{children:[T.jsx("h3",{className:"text-[23px] font-[bold]",children:"Latest Payments"}),s.payments.length>0?s.payments.slice(0,3).map(p=>T.jsxs("div",{className:"inline-block text-center pt-[10px] min-h-[100px] w-[32%] mb-2.5 rounded-[15px] border-2 border-solid border-[black]",children:[T.jsxs("p",{children:["Date: ",p.date]}),T.jsxs("p",{children:["Amount: +$",p.amount]})]},s.name+"TRAN"+p.id)):T.jsx("p",{className:"text-[18px] font-[normal] m-[15px]",children:"No Recent Payments"}),o?T.jsxs("div",{children:[T.jsxs("label",{className:"block ml-[-14px]",children:["Date: ",T.jsx("input",{type:"date",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:p=>f.date=p.target.value})]}),T.jsxs("label",{className:"block ml-[32px]",children:["Amount: ",T.jsx("input",{type:"number",className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]",onChange:p=>f.amount=p.target.value})]}),T.jsx("button",{className:"text-[12px] text-[white] bg-[darkblue]",onClick:()=>m(f.date,f.amount),children:"Save"})]}):T.jsx("div",{className:"pb-[10px]",children:T.jsx("button",{className:"text-[13px] text-[white] bg-[darkblue]",onClick:()=>u(!0),children:"Add Payment"})}),T.jsx("hr",{})]})}function lO({handleAddAccount:r,addingAccount:e,setAddingAccount:n,nameRef:s,setType:o,type:u,balanceRef:f,limitRef:m,goalRef:p,rewardsRef:g}){return T.jsxs("div",{className:"grid place-items-center ml-[180px] min-h-[200px]",children:[" ",e?T.jsxs("div",{className:"text-center",children:[T.jsxs("label",{className:"block ml-[-45px]",children:["Account Name: ",T.jsx("input",{type:"text",ref:s,className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]"})]}),T.jsx("label",{className:"ml-[4px] mr-[5px]",children:"Type:"}),T.jsxs("select",{onChange:b=>o(b.target.value),className:"text-[black] bg-[lightgrey] pl-[5px] mt-[10px] mb-[10px] border-[1px] border-[solid] border-[black] rounded-[10px]",children:[T.jsx("option",{value:"default",children:"Select Account Type"}),T.jsx("option",{value:"Checking",children:"Checking"}),T.jsx("option",{value:"Credit",children:"Credit"}),T.jsx("option",{value:"Savings",children:"Savings"})]}),T.jsxs("label",{className:"block",children:["Balance: ",T.jsx("input",{type:"number",ref:f,className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]"})]}),u==="Credit"&&T.jsxs("label",{className:"block ml-[-29px]",children:["Credit Limit: ",T.jsx("input",{type:"number",ref:m,className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]"})]}),u==="Credit"&&T.jsxs("label",{className:"block ml-[-8px]",children:["Rewards: ",T.jsx("input",{type:"number",ref:g,className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]"})]}),u==="Savings"&&T.jsxs("label",{className:"block ml-[-52px]",children:["Goal (optional): ",T.jsx("input",{type:"number",ref:p,className:"text-[black] bg-[lightgrey] pl-[5px] border-[1px] border-[solid] border-[black] rounded-[10px]"})]}),T.jsx("button",{className:"text-[white] bg-[darkblue]",onClick:r,children:"Save"})]}):T.jsx("button",{className:"text-[white] bg-[darkblue]",onClick:()=>n(!0),children:"+"})]})}function Km({account:r,type:e,currentInfo:n,updateCurrentInfo:s}){function o(){const u=n.findIndex(f=>f.id===r.id);s(f=>{f.splice(u,1)})}return T.jsxs("div",{className:"inline-block bg-[gray] text-[black] w-[500px] text-center m-[50px] p-2 rounded-[10px] border-2 border-solid border-[blue]",children:[T.jsx("div",{className:"text-right mt-[-8px] mr-[-8px]",children:T.jsx("button",{onClick:o,className:"text-[white] bg-[darkred] w-[50px] h-[30px] relative",children:T.jsx("span",{className:"relative bottom-[10px]",children:"-"})})}),T.jsx("h2",{className:"text-[30px] font-[bold]",children:r.name}),T.jsxs("p",{className:"text-[20px] font-[bold]",children:["Balance: $",r.currentBalance]}),e==="Savings"&&T.jsxs("p",{children:["Goal: ",r.goal?"$"+r.goal:"No Goal"]}),e==="Credit"&&T.jsxs("p",{children:["Credit Limit: ",r.limit?"$"+r.limit:"Unknown"]}),e==="Credit"&&T.jsxs("p",{children:["Rewards: ",r.rewards]}),T.jsx("hr",{}),(e==="Checking"||e==="Credit")&&T.jsx(sO,{accounts:n,saveTransactions:s,accountId:r.id}),e==="Savings"&&T.jsx(aO,{accounts:n,saveWithdrawals:s,accountId:r.id}),e==="Credit"&&T.jsx(oO,{accounts:n,savePayments:s,accountId:r.id}),(e==="Checking"||e==="Savings")&&T.jsx(iO,{accounts:n,saveDeposits:s,accountId:r.id})]})}function uO({accountInfo:r,setAccountInfo:e,accountRef:n}){const[s,o]=vo(r),[u,f]=Y.useState(!1),[m,p]=Y.useState(""),g=Y.useRef(""),b=Y.useRef(""),A=Y.useRef(""),x=Y.useRef(""),V=Y.useRef("");function B(){let U,G,se,ie,ge;switch(m){case"Checking":let ue=0;s.forEach(S=>{S.type==="Checking"&&ue++}),U=g.current.value,G=b.current.value,o(S=>{S.push({id:"Ch"+ue,type:"Checking",name:U||"Default",deposits:[],transactions:[],currentBalance:G?Number(G):0})}),f(!1);break;case"Credit":let _e=0;s.forEach(S=>{S.type==="Credit"&&_e++}),U=g.current.value,G=b.current.value,se=A.current.value,ge=V.current.value,o(S=>{S.push({id:"Cr"+_e,type:"Credit",name:U||"Default",payments:[],transactions:[],currentBalance:G?Number(G):0,limit:Number(se),rewards:Number(ge)})}),f(!1);break;case"Savings":let O=0;s.forEach(S=>{S.type==="Savings"&&O++}),U=g.current.value,G=b.current.value,ie=x.current.value,o(S=>{S.push({id:"Sa"+O,type:"Savings",name:U||"Default",withdrawals:[],deposits:[],currentBalance:G?Number(G):0,goal:Number(ie)})}),f(!1);break}p("")}const $=async()=>{console.log(n),B2(n,{accounts:s}),e(s)};return T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"block text-center ml-[190px]",children:"Accounts"}),T.jsx(lO,{handleAddAccount:B,addingAccount:u,setAddingAccount:f,nameRef:g,setType:p,type:m,balanceRef:b,limitRef:A,goalRef:x,rewardsRef:V}),T.jsx("p",{className:"text-[30px] text-center ml-[190px]",children:"Checking Accounts"}),T.jsxs("div",{className:"grid grid-cols-[1fr_1fr] ml-[325px] px-[25px] py-0",children:[" ",s?.map(U=>{if(U.type==="Checking")return T.jsx("div",{children:T.jsx(Km,{account:U,type:U.type,currentInfo:s,updateCurrentInfo:o})},U.id)})]}),T.jsx("hr",{className:"mt-[40px] mb-[40px]"}),T.jsx("p",{className:"text-[30px] text-center ml-[190px]",children:"Credit Cards"})," ",T.jsx("div",{className:"grid grid-cols-[1fr_1fr] ml-[325px] px-[25px] py-0",children:s?.map(U=>{if(U.type==="Credit")return T.jsx("div",{children:T.jsx(Km,{account:U,type:U.type,currentInfo:s,updateCurrentInfo:o})},U.id)})}),T.jsx("hr",{className:"mt-[40px] mb-[40px]"}),T.jsx("p",{className:"text-[30px] text-center ml-[190px] mt-[40px]",children:"Savings Accounts"})," ",T.jsx("div",{className:"grid grid-cols-[1fr_1fr] ml-[325px] px-[25px] py-0",children:s?.map(U=>{if(U.type==="Savings")return T.jsx("div",{children:T.jsx(Km,{account:U,type:U.type,currentInfo:s,updateCurrentInfo:o})},U.id)})}),T.jsx("button",{className:"ml-[190px] mt-[50px] mb-[50px] text-[white] bg-[darkblue]",onClick:$,children:"Save Changes"})]})}function cO({billsInfo:r,setBillsInfo:e}){return T.jsxs("div",{children:[T.jsx("h1",{className:"block text-center ml-[325px]",children:"Bills/Subscriptions Page"}),T.jsx("h2",{className:"text-[50px] block text-center ml-[325px] my-[20%]",children:"Work In Progress"})]})}function Ow(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=Ow(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function hO(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=Ow(r))&&(s&&(s+=" "),s+=e);return s}const Dg="-",fO=r=>{const e=mO(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:f=>{const m=f.split(Dg);return m[0]===""&&m.length!==1&&m.shift(),kw(m,e)||dO(f)},getConflictingClassGroupIds:(f,m)=>{const p=n[f]||[];return m&&s[f]?[...p,...s[f]]:p}}},kw=(r,e)=>{if(r.length===0)return e.classGroupId;const n=r[0],s=e.nextPart.get(n),o=s?kw(r.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const u=r.join(Dg);return e.validators.find(({validator:f})=>f(u))?.classGroupId},kE=/^\[(.+)\]$/,dO=r=>{if(kE.test(r)){const e=kE.exec(r)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mO=r=>{const{theme:e,classGroups:n}=r,s={nextPart:new Map,validators:[]};for(const o in n)Np(n[o],s,o,e);return s},Np=(r,e,n,s)=>{r.forEach(o=>{if(typeof o=="string"){const u=o===""?e:ME(e,o);u.classGroupId=n;return}if(typeof o=="function"){if(pO(o)){Np(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([u,f])=>{Np(f,ME(e,u),n,s)})})},ME=(r,e)=>{let n=r;return e.split(Dg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},pO=r=>r.isThemeGetter,gO=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(u,f)=>{n.set(u,f),e++,e>r&&(e=0,s=n,n=new Map)};return{get(u){let f=n.get(u);if(f!==void 0)return f;if((f=s.get(u))!==void 0)return o(u,f),f},set(u,f){n.has(u)?n.set(u,f):o(u,f)}}},Dp="!",Op=":",yO=Op.length,_O=r=>{const{prefix:e,experimentalParseClassName:n}=r;let s=o=>{const u=[];let f=0,m=0,p=0,g;for(let B=0;B<o.length;B++){let $=o[B];if(f===0&&m===0){if($===Op){u.push(o.slice(p,B)),p=B+yO;continue}if($==="/"){g=B;continue}}$==="["?f++:$==="]"?f--:$==="("?m++:$===")"&&m--}const b=u.length===0?o:o.substring(p),A=vO(b),x=A!==b,V=g&&g>p?g-p:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:A,maybePostfixModifierPosition:V}};if(e){const o=e+Op,u=s;s=f=>f.startsWith(o)?u(f.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=u=>n({className:u,parseClassName:o})}return s},vO=r=>r.endsWith(Dp)?r.substring(0,r.length-1):r.startsWith(Dp)?r.substring(1):r,bO=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(f=>{f[0]==="["||e[f]?(o.push(...u.sort(),f),u=[]):u.push(f)}),o.push(...u.sort()),o}},EO=r=>({cache:gO(r.cacheSize),parseClassName:_O(r),sortModifiers:bO(r),...fO(r)}),TO=/\s+/,wO=(r,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=e,f=[],m=r.trim().split(TO);let p="";for(let g=m.length-1;g>=0;g-=1){const b=m[g],{isExternal:A,modifiers:x,hasImportantModifier:V,baseClassName:B,maybePostfixModifierPosition:$}=n(b);if(A){p=b+(p.length>0?" "+p:p);continue}let U=!!$,G=s(U?B.substring(0,$):B);if(!G){if(!U){p=b+(p.length>0?" "+p:p);continue}if(G=s(B),!G){p=b+(p.length>0?" "+p:p);continue}U=!1}const se=u(x).join(":"),ie=V?se+Dp:se,ge=ie+G;if(f.includes(ge))continue;f.push(ge);const ue=o(G,U);for(let _e=0;_e<ue.length;++_e){const O=ue[_e];f.push(ie+O)}p=b+(p.length>0?" "+p:p)}return p};function AO(){let r=0,e,n,s="";for(;r<arguments.length;)(e=arguments[r++])&&(n=Mw(e))&&(s&&(s+=" "),s+=n);return s}const Mw=r=>{if(typeof r=="string")return r;let e,n="";for(let s=0;s<r.length;s++)r[s]&&(e=Mw(r[s]))&&(n&&(n+=" "),n+=e);return n};function SO(r,...e){let n,s,o,u=f;function f(p){const g=e.reduce((b,A)=>A(b),r());return n=EO(g),s=n.cache.get,o=n.cache.set,u=m,m(p)}function m(p){const g=s(p);if(g)return g;const b=wO(p,n);return o(p,b),b}return function(){return u(AO.apply(null,arguments))}}const Mt=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},Vw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Pw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xO=/^\d+\/\d+$/,RO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,NO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,no=r=>xO.test(r),De=r=>!!r&&!Number.isNaN(Number(r)),Hi=r=>!!r&&Number.isInteger(Number(r)),$m=r=>r.endsWith("%")&&De(r.slice(0,-1)),ti=r=>RO.test(r),OO=()=>!0,kO=r=>CO.test(r)&&!IO.test(r),Lw=()=>!1,MO=r=>NO.test(r),VO=r=>DO.test(r),PO=r=>!de(r)&&!me(r),LO=r=>jo(r,zw,Lw),de=r=>Vw.test(r),Ys=r=>jo(r,Bw,kO),Xm=r=>jo(r,qO,De),VE=r=>jo(r,Uw,Lw),UO=r=>jo(r,jw,VO),dh=r=>jo(r,qw,MO),me=r=>Pw.test(r),Jl=r=>zo(r,Bw),jO=r=>zo(r,HO),PE=r=>zo(r,Uw),zO=r=>zo(r,zw),BO=r=>zo(r,jw),mh=r=>zo(r,qw,!0),jo=(r,e,n)=>{const s=Vw.exec(r);return s?s[1]?e(s[1]):n(s[2]):!1},zo=(r,e,n=!1)=>{const s=Pw.exec(r);return s?s[1]?e(s[1]):n:!1},Uw=r=>r==="position"||r==="percentage",jw=r=>r==="image"||r==="url",zw=r=>r==="length"||r==="size"||r==="bg-size",Bw=r=>r==="length",qO=r=>r==="number",HO=r=>r==="family-name",qw=r=>r==="shadow",FO=()=>{const r=Mt("color"),e=Mt("font"),n=Mt("text"),s=Mt("font-weight"),o=Mt("tracking"),u=Mt("leading"),f=Mt("breakpoint"),m=Mt("container"),p=Mt("spacing"),g=Mt("radius"),b=Mt("shadow"),A=Mt("inset-shadow"),x=Mt("text-shadow"),V=Mt("drop-shadow"),B=Mt("blur"),$=Mt("perspective"),U=Mt("aspect"),G=Mt("ease"),se=Mt("animate"),ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[...ge(),me,de],_e=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],S=()=>[me,de,p],R=()=>[no,"full","auto",...S()],k=()=>[Hi,"none","subgrid",me,de],M=()=>["auto",{span:["full",Hi,me,de]},Hi,me,de],P=()=>[Hi,"auto",me,de],I=()=>["auto","min","max","fr",me,de],_t=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$e=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...S()],ae=()=>[no,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],re=()=>[r,me,de],ze=()=>[...ge(),PE,VE,{position:[me,de]}],N=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",zO,LO,{size:[me,de]}],le=()=>[$m,Jl,Ys],ne=()=>["","none","full",g,me,de],he=()=>["",De,Jl,Ys],Ce=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[De,$m,PE,VE],Xe=()=>["","none",B,me,de],an=()=>["none",De,me,de],yn=()=>["none",De,me,de],_n=()=>[De,me,de],Dn=()=>[no,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ti],breakpoint:[ti],color:[OO],container:[ti],"drop-shadow":[ti],ease:["in","out","in-out"],font:[PO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ti],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ti],shadow:[ti],spacing:["px",De],text:[ti],"text-shadow":[ti],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",no,de,me,U]}],container:["container"],columns:[{columns:[De,de,me,m]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:_e()}],"overflow-x":[{"overflow-x":_e()}],"overflow-y":[{"overflow-y":_e()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Hi,"auto",me,de]}],basis:[{basis:[no,"full","auto",m,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,no,"auto","initial","none",de]}],grow:[{grow:["",De,me,de]}],shrink:[{shrink:["",De,me,de]}],order:[{order:[Hi,"first","last","none",me,de]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[..._t(),"normal"]}],"justify-items":[{"justify-items":[...$e(),"normal"]}],"justify-self":[{"justify-self":["auto",...$e()]}],"align-content":[{content:["normal",..._t()]}],"align-items":[{items:[...$e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$e(),{baseline:["","last"]}]}],"place-content":[{"place-content":_t()}],"place-items":[{"place-items":[...$e(),"baseline"]}],"place-self":[{"place-self":["auto",...$e()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[m,"screen",...ae()]}],"min-w":[{"min-w":[m,"screen","none",...ae()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[f]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,Jl,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,me,Xm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$m,de]}],"font-family":[{font:[jO,de,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,me,de]}],"line-clamp":[{"line-clamp":[De,"none",me,Xm]}],leading:[{leading:[u,...S()]}],"list-image":[{"list-image":["none",me,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",me,Ys]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[De,"auto",me,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ze()}],"bg-repeat":[{bg:N()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hi,me,de],radial:["",me,de],conic:[Hi,me,de]},BO,UO]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,me,de]}],"outline-w":[{outline:["",De,Jl,Ys]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",b,mh,dh]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",A,mh,dh]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[De,Ys]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",x,mh,dh]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[De,me,de]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[me,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ge()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ze()}],"mask-repeat":[{mask:N()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,de]}],filter:[{filter:["","none",me,de]}],blur:[{blur:Xe()}],brightness:[{brightness:[De,me,de]}],contrast:[{contrast:[De,me,de]}],"drop-shadow":[{"drop-shadow":["","none",V,mh,dh]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",De,me,de]}],"hue-rotate":[{"hue-rotate":[De,me,de]}],invert:[{invert:["",De,me,de]}],saturate:[{saturate:[De,me,de]}],sepia:[{sepia:["",De,me,de]}],"backdrop-filter":[{"backdrop-filter":["","none",me,de]}],"backdrop-blur":[{"backdrop-blur":Xe()}],"backdrop-brightness":[{"backdrop-brightness":[De,me,de]}],"backdrop-contrast":[{"backdrop-contrast":[De,me,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,me,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,me,de]}],"backdrop-invert":[{"backdrop-invert":["",De,me,de]}],"backdrop-opacity":[{"backdrop-opacity":[De,me,de]}],"backdrop-saturate":[{"backdrop-saturate":[De,me,de]}],"backdrop-sepia":[{"backdrop-sepia":["",De,me,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",me,de]}],ease:[{ease:["linear","initial",G,me,de]}],delay:[{delay:[De,me,de]}],animate:[{animate:["none",se,me,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[$,me,de]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:an()}],"rotate-x":[{"rotate-x":an()}],"rotate-y":[{"rotate-y":an()}],"rotate-z":[{"rotate-z":an()}],scale:[{scale:yn()}],"scale-x":[{"scale-x":yn()}],"scale-y":[{"scale-y":yn()}],"scale-z":[{"scale-z":yn()}],"scale-3d":["scale-3d"],skew:[{skew:_n()}],"skew-x":[{"skew-x":_n()}],"skew-y":[{"skew-y":_n()}],transform:[{transform:[me,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Dn()}],"translate-x":[{"translate-x":Dn()}],"translate-y":[{"translate-y":Dn()}],"translate-z":[{"translate-z":Dn()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,de]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[De,Jl,Ys,Xm]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GO=SO(FO);function cs(...r){return GO(hO(r))}function ro({className:r,...e}){return T.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:T.jsx("table",{"data-slot":"table",className:cs("w-full caption-bottom text-sm",r),...e})})}function io({className:r,...e}){return T.jsx("thead",{"data-slot":"table-header",className:cs("[&_tr]:border-b",r),...e})}function so({className:r,...e}){return T.jsx("tbody",{"data-slot":"table-body",className:cs("[&_tr:last-child]:border-0",r),...e})}function ao({className:r,...e}){return T.jsx("tfoot",{"data-slot":"table-footer",className:cs("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",r),...e})}function yt({className:r,...e}){return T.jsx("tr",{"data-slot":"table-row",className:cs("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...e})}function at({className:r,...e}){return T.jsx("th",{"data-slot":"table-head",className:cs("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...e})}function je({className:r,...e}){return T.jsx("td",{"data-slot":"table-cell",className:cs("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...e})}function oo({className:r,...e}){return T.jsx("caption",{"data-slot":"table-caption",className:cs("text-muted-foreground mt-4 text-sm",r),...e})}function QO({accountInfo:r,setAccountInfo:e}){const[n,s]=vo(r),o=[],u=[],f=[],m=[],p=[],g=[];n?.forEach(A=>{A.type==="Checking"?(A.transactions.forEach(x=>{o.push(x)}),A.deposits.forEach(x=>{u.push(x)})):A.type==="Credit"?(A.transactions.forEach(x=>{f.push(x)}),A.payments.forEach(x=>{m.push(x)})):A.type==="Savings"&&(A.withdrawals.forEach(x=>{p.push(x)}),A.deposits.forEach(x=>{g.push(x)}))});function b(A){let x=0;return A.forEach(V=>{V.cost?x+=V.cost:V.amount&&(x+=V.amount)}),x}return T.jsxs(T.Fragment,{children:[T.jsx("h1",{className:"block text-center ml-[190px]",children:"Transactions Page"}),T.jsxs("div",{className:"mt-[100px] ml-[450px] grid grid-cols-[1fr_1fr] gap-x-[100px]",children:[T.jsxs(ro,{className:"max-w-[550px] min-h-[500px] max-h-[500px] border-[2px] table-fixed",children:[T.jsx(oo,{className:"font-bold text-[white]",children:"Checking Account Purchases"}),T.jsx(io,{children:T.jsxs(yt,{children:[T.jsx(at,{className:"border-[1px] text-[white]",children:"Transaction ID"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Account Name"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Date"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Category"}),T.jsx(at,{className:"border-[1px] text-[white] text-right",children:"Amount"})]})}),T.jsxs("div",{className:"overflow-y-auto max-h-[420px] min-w-[565px]",children:[" ",T.jsx(so,{children:o.length>0?o.map(A=>T.jsx(LE,{transaction:A})):T.jsx(yt,{children:T.jsx(je,{colSpan:5,className:"text-center",children:"No Transaction History"})})})]}),T.jsx(ao,{children:T.jsxs(yt,{children:[T.jsx(je,{colSpan:4,children:"Total"}),T.jsxs(je,{className:"text-right",children:["-$",b(o)]})]})})]}),T.jsxs(ro,{className:"max-w-[550px] min-h-[500px] max-h-[500px] border-[2px] table-fixed",children:[T.jsx(oo,{className:"font-bold text-[white]",children:"Checking Account Deposits"}),T.jsx(io,{children:T.jsxs(yt,{children:[T.jsx(at,{className:"border-[1px] text-[white]",children:"Deposit ID"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Account Name"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Date"}),T.jsx(at,{className:"border-[1px] text-[white] text-right",children:"Amount"})]})}),T.jsx("div",{className:"overflow-y-auto max-h-[420px] min-w-[565px]",children:T.jsx(so,{children:u.length>0?u.map(A=>T.jsx(UE,{deposit:A})):T.jsx(yt,{children:T.jsx(je,{colSpan:4,className:"text-center",children:"No Deposit History"})})})}),T.jsx(ao,{children:T.jsxs(yt,{children:[T.jsx(je,{colSpan:3,children:"Total"}),T.jsxs(je,{className:"text-right",children:["+$",b(u)]})]})})]}),T.jsxs(ro,{className:"w-[550px] h-[500px] max-h-[500px] border-[2px] table-fixed mt-[80px]",children:[T.jsx(oo,{className:"font-bold text-[white]",children:"Credit Card Purchases"}),T.jsx(io,{children:T.jsxs(yt,{children:[T.jsx(at,{className:"border-[1px] text-[white]",children:"Transaction ID"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Account Name"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Date"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Category"}),T.jsx(at,{className:"border-[1px] text-[white] text-right",children:"Amount"})]})}),T.jsx("div",{className:"overflow-y-auto max-h-[420px] min-w-[565px]",children:T.jsx(so,{className:"",children:f.length>0?f.map(A=>T.jsx(LE,{transaction:A})):T.jsx(yt,{children:T.jsx(je,{colSpan:5,className:"text-center",children:"No Transaction History"})})})}),T.jsx(ao,{children:T.jsxs(yt,{children:[T.jsx(je,{colSpan:4,children:"Total"}),T.jsxs(je,{className:"text-right",children:["+$",b(f)]})]})})]}),T.jsxs(ro,{className:"max-w-[550px] h-[500px] max-h-[500px] border-[2px] table-fixed mt-[80px]",children:[T.jsx(oo,{className:"font-bold text-[white]",children:"Credit Card Payments"}),T.jsx(io,{children:T.jsxs(yt,{children:[T.jsx(at,{className:"border-[1px] text-[white]",children:"Payment ID"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Account Name"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Date"}),T.jsx(at,{className:"border-[1px] text-[white] text-right",children:"Amount"})]})}),T.jsx("div",{className:"overflow-y-auto max-h-[420px] min-w-[565px]",children:T.jsx(so,{className:"",children:m.length>0?m.map(A=>T.jsx(YO,{payment:A})):T.jsx(yt,{children:T.jsx(je,{colSpan:4,className:"text-center",children:"No Payment History"})})})}),T.jsx(ao,{children:T.jsxs(yt,{children:[T.jsx(je,{colSpan:3,children:"Total"}),T.jsxs(je,{className:"text-right",children:["-$",b(m)]})]})})]}),T.jsxs(ro,{className:"max-w-[550px] h-[500px] max-h-[500px] border-[2px] table-fixed mt-[80px]",children:[T.jsx(oo,{className:"font-bold text-[white]",children:"Savings Withdrawals"}),T.jsx(io,{children:T.jsxs(yt,{children:[T.jsx(at,{className:"border-[1px] text-[white]",children:"Withdrawal ID"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Account Name"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Date"}),T.jsx(at,{className:"border-[1px] text-[white] text-right",children:"Amount"})]})}),T.jsx("div",{className:"overflow-y-auto max-h-[420px] min-w-[565px]",children:T.jsx(so,{className:"",children:p.length>0?p.map(A=>T.jsx(KO,{withdrawal:A})):T.jsx(yt,{children:T.jsx(je,{colSpan:4,className:"text-center",children:"No Withdrawal History"})})})}),T.jsx(ao,{children:T.jsxs(yt,{children:[T.jsx(je,{colSpan:3,children:"Total"}),T.jsxs(je,{className:"text-right",children:["-$",b(p)]})]})})]}),T.jsxs(ro,{className:"max-w-[550px] min-h-[500px] max-h-[500px] border-[2px] table-fixed mt-[80px]",children:[T.jsx(oo,{className:"font-bold text-[white]",children:"Savings Deposits"}),T.jsx(io,{children:T.jsxs(yt,{children:[T.jsx(at,{className:"border-[1px] text-[white]",children:"Deposit ID"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Account Name"}),T.jsx(at,{className:"border-[1px] text-[white]",children:"Date"}),T.jsx(at,{className:"border-[1px] text-[white] text-right",children:"Amount"})]})}),T.jsx("div",{className:"overflow-y-auto max-h-[420px] min-w-[565px]",children:T.jsx(so,{className:"",children:g.length>0?g.map(A=>T.jsx(UE,{deposit:A})):T.jsx(yt,{children:T.jsx(je,{colSpan:4,className:"text-center",children:"No Deposit History"})})})}),T.jsx(ao,{children:T.jsxs(yt,{children:[T.jsx(je,{colSpan:3,children:"Total"}),T.jsxs(je,{className:"text-right",children:["+$",b(g)]})]})})]})]})]})}function LE({transaction:r}){return T.jsxs(yt,{className:"border-[2px] max-w-[100px]",children:[T.jsx(je,{className:"border-[1px] min-w-[107px]",children:"TRAN"+r.id}),T.jsx(je,{className:"border-[1px] min-w-[110px] max-w-[110px] whitespace-normal",children:r.account}),T.jsx(je,{className:"border-[1px] min-w-[109px]",children:r.date}),T.jsx(je,{className:"border-[1px] min-w-[110px]",children:r.category}),T.jsxs(je,{className:"border-[1px] min-w-[110px] text-right",children:["$",r.cost]})]},"TRAN"+r.id)}function UE({deposit:r}){return T.jsxs(yt,{className:"border-[2px]",children:[T.jsx(je,{className:"border-[1px] min-w-[135px]",children:"DEP"+r.id}),T.jsx(je,{className:"border-[1px] min-w-[137px] whitespace-normal",children:r.account}),T.jsx(je,{className:"border-[1px] min-w-[137px]",children:r.date}),T.jsxs(je,{className:"border-[1px] min-w-[137px] text-right",children:["$",r.amount]})]},"DEP"+r.id)}function YO({payment:r}){return T.jsxs(yt,{className:"border-[2px]",children:[T.jsx(je,{className:"border-[1px] min-w-[135px]",children:"PAY"+r.id}),T.jsx(je,{className:"border-[1px] min-w-[137px] max-w-[137px] whitespace-normal",children:r.account}),T.jsx(je,{className:"border-[1px] min-w-[137px]",children:r.date}),T.jsxs(je,{className:"border-[1px] min-w-[137px] text-right",children:["$",r.amount]})]},"PAY"+r.id)}function KO({withdrawal:r}){return T.jsxs(yt,{className:"border-[2px]",children:[T.jsx(je,{className:"border-[1px] min-w-[135px]",children:"WI"+r.id}),T.jsx(je,{className:"border-[1px] min-w-[137px] whitespace-normal",children:r.account}),T.jsx(je,{className:"border-[1px] min-w-[137px]",children:r.date}),T.jsxs(je,{className:"border-[1px] min-w-[137px] text-right",children:["$",r.amount]})]},"WI"+r.id)}function $O(){const r=Zh();return Y.useEffect(()=>{const e=setTimeout(()=>{r("/")},3e3);return()=>clearTimeout(e)},[r]),T.jsxs("div",{children:[T.jsx("h1",{children:"404 - Page Not Found"}),T.jsx("p",{children:"Redirecting to the homepage in 3 seconds..."})]})}const Hw=Object.freeze({email:"",password:"",username:"",userId:""}),XO=Object.freeze({updateUser:()=>{},user:Hw}),WO=Y.createContext(XO),ZO=r=>{const[e,n]=vo(Hw),s=Y.useMemo(()=>({user:e,updateUser:n}),[e]);return T.jsx(WO.Provider,{value:s,children:r.children})};function JO(){const[r,e]=vo(null),[n,s]=vo(null),[o,u]=vo(null);return T.jsx(T.Fragment,{children:T.jsxs(ZO,{children:[T.jsx(tO,{}),T.jsxs(m1,{children:[T.jsx(Fi,{path:"/login",element:T.jsx(nO,{setAccountInfo:e,setAccountRef:u})}),T.jsx(Fi,{path:"/homepage",element:T.jsx(rO,{accountInfo:r,billsInfo:n})}),T.jsx(Fi,{path:"/accounts",element:T.jsx(uO,{accountInfo:r,setAccountInfo:e,accountRef:o})}),T.jsx(Fi,{path:"/transactions",element:T.jsx(QO,{accountInfo:r,setAccountInfo:e})}),T.jsx(Fi,{path:"/bills",element:T.jsx(cO,{billsInfo:n,setBillsInfo:s})}),T.jsx(Fi,{path:"*",element:T.jsx($O,{})}),T.jsx(Fi,{path:"/",element:T.jsx(f1,{to:"/login"})})]})]})})}wS.createRoot(document.getElementById("root")).render(T.jsx(Y.StrictMode,{children:T.jsx(L1,{children:T.jsx(JO,{})})}));
